{"meta":{"title":"Soliton's Blog","subtitle":"","description":"","author":"Soliton","url":"http://example.com","root":"/"},"pages":[{"title":"ä¸ªäººèµ„æ–™","date":"2021-02-14T16:55:29.956Z","updated":"2021-02-14T16:55:29.956Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"æœ¬äºº18çº§è®¡ç®—æœºä¸“ä¸šæ¯•ä¸šï¼Œæ˜¯ä¸€æš96å¹´çš„ç¨‹åºå‘˜ã€‚è¿„ä»Šä¸ºæ­¢ä¸‰å¹´æ—¶é—´éƒ½æŠ•èº«äºäº’è”ç½‘æ•™è‚²è¡Œä¸šã€‚ç›®å‰åœ¨é­”éƒ½ä¸€å®¶200äººçš„åœ¨çº¿æ•™è‚²ä¼ä¸šåšå‰ç«¯å¼€å‘ã€‚ç°åœ¨è´Ÿè´£UGï¼ˆUser Growthï¼‰é¡¹ç›®ç»„çš„å‰ç«¯å¼€å‘ æŠ€æœ¯æ ˆç†Ÿç»ƒï¼šJavaScriptã€Vueå’ŒReactå‘¨è¾¹ç”Ÿæ€ã€å°ç¨‹åºäº‘å¼€å‘ç†Ÿæ‚‰ï¼šNodeã€Expressã€koa2ã€mongoDB CD/CIæµç¨‹çš„æ­å»ºäº†è§£ï¼šGolangã€Nginxã€è‡ªåŠ¨åŒ–éƒ¨ç½² ä¸ªäººå…´è¶£çˆ±å¥½é—²æš‡ä¹‹ä½™å–œæ¬¢ï¼šçœ‹ç”µå½±ã€NBAã€æ‰“ç¯®çƒ è‡ªæˆ‘è¯„ä»·å·¥ä½œä¸‰å¹´ï¼Œé»‘å‘ä¸çŸ¥å‹¤å­¦æ—©ï¼Œç™½é¦–æ–¹æ‚”è¯»ä¹¦è¿Ÿã€‚ç‰¹åˆ«æ˜¯åœ¨å‰ç¨‹æ— å¿§å®ä¹ çš„ä¸€å¹´ï¼Œèº«è¾¹å¤§ç¥å¾ˆå¤šï¼Œè¦å­¦ä¹ çš„ä¹Ÿæœ‰å¾ˆå¤šå¾ˆå¤šï¼Œåœ¨ä¸æ–­çš„è‡ªæˆ‘åçœä¸­æ…¢æ…¢æˆé•¿ã€‚è¿™æ˜¯æˆ‘ä¸€ç›´ä»¥æ¥ä¿æŒçš„ç›®æ ‡ï¼Œä¹Ÿä¼šä¸€ç›´ä¿æŒä¸‹å»ï¼ŒæŒ‰ç…§å‰è¾ˆä»¬çš„è„šæ­¥èµ°ä¸‹å»ï¼Œå¸Œæœ›æœ‰ä¸€å¤©èƒ½è¿½èµ¶ä¸Šå‰è¾ˆä»¬ã€‚"},{"title":"å½’æ¡£","date":"2020-04-05T04:06:45.000Z","updated":"2021-02-14T15:56:03.520Z","comments":false,"path":"archives/index.html","permalink":"http://example.com/archives/index.html","excerpt":"","text":""},{"title":"æ–‡ç« åˆ†ç±»","date":"2020-04-06T04:44:34.000Z","updated":"2021-02-15T14:47:48.041Z","comments":false,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"search","date":"2021-02-14T16:04:51.000Z","updated":"2021-02-14T16:04:51.427Z","comments":true,"path":"search/index.html","permalink":"http://example.com/search/index.html","excerpt":"","text":""},{"title":"å‹æƒ…é“¾æ¥","date":"2020-04-27T05:16:03.000Z","updated":"2021-02-14T15:56:21.459Z","comments":true,"path":"link/index.html","permalink":"http://example.com/link/index.html","excerpt":"","text":""},{"title":"æ ‡ç­¾","date":"2020-04-04T05:15:29.000Z","updated":"2021-02-14T15:55:10.976Z","comments":false,"path":"tags/index.html","permalink":"http://example.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"","slug":"javascript/1","date":"2021-03-11T14:21:52.982Z","updated":"2021-03-11T14:21:52.982Z","comments":true,"path":"2021/03/11/javascript/1/","link":"","permalink":"http://example.com/2021/03/11/javascript/1/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"ä½ å¥½ï¼Œå¾ˆè£å¹¸æ‚¨èƒ½æ¥åˆ°æˆ‘çš„åšå®¢ï¼","slug":"hello-world","date":"2021-02-14T15:36:09.864Z","updated":"2021-02-16T07:53:14.257Z","comments":false,"path":"2021/02/14/hello-world/","link":"","permalink":"http://example.com/2021/02/14/hello-world/","excerpt":"","text":"æ­¤åšå®¢ä¸ºæœ¬äººè¿‘æœŸæ‰æ­£å¼ä¸Šä¼ ï¼Œæ­¤å‰ä¸€ç›´æ”¾åœ¨æœ¬åœ°(åˆ«é—®ä¸ºä»€ä¹ˆï¼Œé—®å°±æ˜¯å®³æ€•è¢«å¤§ä½¬ç¬‘è¯)ï¼Œä¸­é€”å› ä¸ºä¸ªäººåŸå› å’Œå·¥ä½œç¹å¿™ä¸€ç›´æœªèƒ½ä¸Šçº¿ï¼Œé€¢æ­¤æ˜¥èŠ‚ä¸ƒå¤©ç•™æ²ªè¿‡å¹´çš„æ—¶é—´ï¼Œç»è¿‡æ¿€çƒˆçš„æ€æƒ³æ–—äº‰ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¸Šæ¥äº†ï¼Œæœ›å¤§ä½¬è½»å–·~ï¼Œæœ‰é”™è¯¯çš„åœ°æ–¹è¿˜è¯·åŠ¡å¿…æé†’ç¬”è€…æ”¹æ­£ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼","categories":[],"tags":[]},{"title":"vuex","slug":"vue/vuex","date":"2020-04-14T04:44:34.000Z","updated":"2021-03-12T00:35:06.985Z","comments":true,"path":"2020/04/14/vue/vuex/","link":"","permalink":"http://example.com/2020/04/14/vue/vuex/","excerpt":"","text":"å‰è¨€è¿‘æœŸä¸ºäº†å‡ºå»é¢è¯•çœ‹çœ‹ï¼Œæ€»ç»“äº†ä¸‹è‡ªå·±å­¦çš„ä¸œè¥¿ä¼šï¼Œçªç„¶å‘ç°è‡ªå·±æœ‰ä¸€éƒ¨åˆ†ä¸œè¥¿åªåœç•™åœ¨ä¼šç”¨çš„é˜¶æ®µï¼Œæ²¡æœ‰æ€ä¹ˆäº†è§£è¿‡ä»–çš„å®ç°ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œå¦‚æœ‰é—®é¢˜è¿˜è¯·åŠæ—¶å‘ŠçŸ¥ï¼Œä¸‡åˆ†æ„Ÿè°¢(å¤§ä½¬è½»å–·) æ ¸å¿ƒæ¦‚å¿µvuexé‡‡ç”¨é›†ä¸­å¼çš„æ–¹å¼å­˜å‚¨éœ€è¦å…±äº«çš„çŠ¶æ€ï¼Œæ˜¯ä¸“é—¨ä¸ºvueè®¾è®¡çš„çŠ¶æ€ç®¡ç†åº“stateï¼šé©±åŠ¨åº”ç”¨çš„æ•°æ®æºviewï¼šä»¥å£°æ˜çš„æ–¹å¼å°†stateæ˜ å°„åˆ°è§†å›¾actionsï¼Œå“åº”åœ¨viewä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ– storeä¸­ä¸»è¦æœ‰ä¸€ä¸‹å‡ ä¸ªapistate: ä¸»è¦ç”¨æ¥å­˜å‚¨æ•°æ®getter: ç±»ä¼¼äºç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§ï¼Œå¦‚æœæƒ³è¦å¯¹stateä¸­çš„æ•°æ®åšç®€å•çš„å¤„ç†ï¼Œå°±å¯ä»¥è¿ç”¨æ­¤æ–¹æ³•mutation: ä¸»è¦å¯¹æ•°æ®è¿›è¡ŒåŒæ­¥æ“ä½œçš„å¤„ç†action: ä¸»è¦å¯¹æ•°æ®è¿›è¡Œå¼‚æ­¥æ“ä½œçš„å¤„ç†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæµå‘mutationï¼Œä»¥é¿å…åœ¨vuetoolsä¸­æŠ¥é”™module:å¯ä»¥ç”Ÿæˆå¤šä¸ªstoreç±» æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ç®€å•å®ç°ä¸‹storeç±» 1234567891011121314151617181920212223242526272829let _Vue = nullclass Store{ cinstructor (options) { const { state = {}, getters = {} mutations = {} actions = {} } = optinos this.state = _Vue.observable(state) this.getters = Object.create(null) Object.keys(getters).forEach(key =&gt; { Object.defineProperty(this.getters, key, { get: ()=&gt; getters[key](state) }) }) this._mutations = mutations this._actions = actions commit ( type,payload ) { this._mutations[type](this.state, payload) } dispatch (type, payload) { this._actions[type]( this , payload) } }} å¦‚æœè¦ä½¿ç”¨çš„è¯æˆ‘ä»¬å°±æŠŠåˆ›å»ºVueå®ä¾‹çš„æ—¶å€™ä¼ å…¥çš„storeå¯¹è±¡æ³¨å…¥åˆ°VueåŸå‹ä¸Šçš„$store,åœ¨æ‰€æœ‰ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡this.$storeã€‚æ¥è·å–åˆ°vuexä¸­çš„ä»“åº“ï¼Œä»è€Œå¯ä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¸­å…±äº«çŠ¶æ€ï¼Œåœ¨installä¸­æˆ‘ä»¬è·å–ä¸åˆ°Vueçš„å®ä¾‹ï¼Œæ‰€ä»¥è¿™é‡Œé€šè¿‡beforeCreateæ¥è·å–vueå®ä¾‹ï¼Œä»è€Œæ‹¿åˆ°é€‰é¡¹ä¸­çš„storeå¯¹è±¡è¿˜å¾—æ¨¡æ‹Ÿä¸€ä¸‹æŒ‚è½½çš„installæ–¹æ³• 1234567891011function install (Vue) { _Vue = Vue _Vue.mixin({ beforeCreate () { if (this.$options.store) { // åˆ¤æ–­å½“å‰vueå®ä¾‹çš„$optionsä¸­æ˜¯å¦å­˜åœ¨store,å¦‚æœæ˜¯ç»„ä»¶å®ä¾‹é‚£å°±æ²¡æœ‰è¿™ä¸ªstoreé€‰é¡¹ï¼Œå°±ä¸éœ€è¦åšè¿™ä»¶äº‹æƒ… _Vue.prototype.$store = this.$options.store } } })} æœ€åæˆ‘ä»¬å¯¼å‡ºä¸€ä¸‹å°±å¯ä»¥äº† 12345export default { Store, install} å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼švuexåˆ·æ–°æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œå…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼Œå› ä¸ºjsä»£ç è¿è¡Œåœ¨å†…å­˜ä¸­ï¼Œä»£ç è¿è¡Œæ—¶æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ä¿å­˜åœ¨ å†…å­˜ ä¸­çš„ï¼Œä½†æˆ‘ä»¬ æŒ‰ä¸‹F5çš„æ—¶å€™ä»¥å‰ç”³è¯·çš„å†…å­˜å°†ä¼šè¢«é‡Šæ”¾ï¼Œå¹¶ä¼šè¢«é‡æ–°åŠ è½½jsè„šæœ¬ï¼Œå˜é‡é‡æ–°èµ‹å€¼ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬ä½¿ç”¨vuexçš„æ—¶å€™åªè¦ä¸€åˆ·æ–°æ•°æ®å°±æ²¡äº†ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æŒä¹…åŒ–ä¿å­˜å¯ä»¥ä½¿ç”¨ localStorage æˆ–è€… sessionStorage å­˜å‚¨æœ¬åœ°æ•°æ®ä¿è¯åˆ·æ–°åæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚","categories":[{"name":"vue","slug":"vue","permalink":"http://example.com/categories/vue/"}],"tags":[]},{"title":"Redux","slug":"react/redux","date":"2020-04-13T04:44:34.000Z","updated":"2021-03-10T04:56:43.480Z","comments":true,"path":"2020/04/13/react/redux/","link":"","permalink":"http://example.com/2020/04/13/react/redux/","excerpt":"","text":"å‰è¨€éƒ½çŸ¥é“vueæœ‰vuexçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œé‚£è‚¯å®šreactä¹Ÿæœ‰ï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘ä»¬å°±æ¥ç®€å•çš„èŠä¸€èŠredux æ ¸å¿ƒæ¦‚å¿µåŠæµç¨‹ view(è§†å›¾)â€”â€”&gt;(dispacth)â€”â€”&gt;actions(å¯¹è±¡)â€”â€”&gt;reducer(å‡½æ•°)â€”â€”&gt;store(å®¹å™¨)â€”â€”&gt;(subscribe)â€”â€”&gt;view(è§†å›¾) Store: å­˜å‚¨çŠ¶æ€çš„å®¹å™¨ï¼ŒJså¯¹è±¡ Viewï¼šè§†å›¾ HTMLé¡µé¢ Actionsï¼šå¯¹è±¡ï¼Œæè¿°å¯¹çŠ¶æ€è¿›è¡Œæ€æ ·çš„æ“ä½œ Reducers: å‡½æ•°ï¼Œæ“ä½œçŠ¶æ€å¹¶è¿”å›æ–°å‡½æ•°","categories":[{"name":"react","slug":"react","permalink":"http://example.com/categories/react/"}],"tags":[]},{"title":"HTTPåè®®è¯¦è§£","slug":"http/https","date":"2020-04-12T05:14:34.000Z","updated":"2021-03-26T20:15:04.393Z","comments":true,"path":"2020/04/12/http/https/","link":"","permalink":"http://example.com/2020/04/12/http/https/","excerpt":"","text":"å‰è¨€åœ¨å­¦ä¹ HTTPä¹‹å‰æˆ‘ä»¬å¾—å…ˆäº†è§£è®¡ç®—æœºç½‘ç»œçš„åˆ†å±‚åŸºæœ¬ä¸Šåˆ†ä¸ºä¸¤ç§ OSI(Open System Interconnection Reference Mode)ï¼šå¼€æ”¾ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ï¼ˆinternational standard orgnizationå›½é™…æ ‡å‡†ç»„ç»‡ï¼Œç®€ç§°ISOæå‡ºï¼‰ TCP/IPï¼šå› ä¸ºåœ¨OSIæ¨¡å‹å‡ºå°ä¹‹å‰ï¼ŒTCP/IPæ¨¡å‹å·²ç»æˆä¸ºäº†è¡Œä¸šä¸»æµå‚è€ƒæ¨¡å‹ã€‚æ‰€ä»¥å¯¼è‡´ä¸¤ç§æ¨¡å‹å¹¶å­˜ã€‚è€Œä¸”ï¼Œç›®å‰ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨çš„ä¹Ÿæ˜¯TCP/IPæ¨¡å‹ã€‚ OSIä¸ƒå±‚æ¨¡å‹ISOä¸ºäº†æ›´å¥½çš„ä½¿ç”¨ç½‘ç»œåº”ç”¨æ›´ä¸ºæ™®åŠï¼Œæ¨å‡ºäº†OSIå‚è€ƒæ¨¡å‹ã€‚å…¶å«ä¹‰å°±æ˜¯æ¨èæ‰€æœ‰å…¬å¸ä½¿ç”¨è¿™ä¸ªè§„èŒƒæ¥æ§åˆ¶ç½‘ç»œã€‚è¿™æ ·æ‰€æœ‰å…¬å¸éƒ½æœ‰ç›¸åŒçš„è§„èŒƒï¼Œå°±èƒ½äº’è”ã€‚ OSIä¸ƒå±‚å‚è€ƒæ¨¡å‹ç”±ä¸Šåˆ°ä¸‹åˆ†ä¸ºå¦‚ä¸‹ åº”ç”¨å±‚ï¼š ä¸ºåº”ç”¨æä¾›æœåŠ¡ è¡¨ç¤ºå±‚ï¼š æ•°æ®æ ¼å¼è½¬åŒ–ã€æ•°æ®åŠ å¯† ä¼šè¯å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤é€šè¯ ä¼ è¾“å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤ç«¯åˆ°ç«¯çš„è¿æ¥ ç½‘ç»œå±‚ï¼š IPé€‰å€åŠè·¯ç”±é€‰æ‹© æ•°æ®é“¾è·¯å±‚ï¼š æä¾›ä»‹è´¨è®¿é—®å’Œé“¾è·¯ç®¡ç† ç‰©ç†å±‚ï¼š æœºå™¨ç¡¬ä»¶ä¹‹å‰çš„é“¾æ¥ç‰©ç†å±‚ TCP/IPåè®®å‚è€ƒæ¨¡å‹ç”±ä¸Šåˆ°ä¸‹åˆ†ä¸ºå¦‚ä¸‹ åº”ç”¨å±‚ï¼š ä¸ºåº”ç”¨æä¾›æœåŠ¡(ä¾‹å¦‚ï¼š DNS ã€HTTP ã€HTTPS ã€SSH ã€SMTP ã€FTP â€¦ ) ä¼ è¾“å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤ç«¯åˆ°ç«¯çš„è¿æ¥(TCPã€UDPã€SCTP) ç½‘ç»œå±‚ï¼š IPé€‰å€åŠè·¯ç”±é€‰æ‹©(IPv4ã€IPv6ã€ARPã€ICMP) æ•°æ®é“¾è·¯å±‚ï¼š æä¾›ä»‹è´¨è®¿é—®å’Œé“¾è·¯ç®¡ç†(ä»¥å¤ªç½‘ã€æ— çº¿LAN) ç‰©ç†å±‚ï¼š æœºå™¨ç¡¬ä»¶ä¹‹å‰çš„é“¾æ¥ç‰©ç†å±‚(å…‰çº¤ã€åŒç»çº¿ç”µç¼†ã€æ— çº¿è®¾å¤‡) é‚£ä¹ˆä¸ºä»€ä¹ˆTCP/IPä¼šæ¯”OSIç½‘ç»œæ¨¡å‹å°‘ä¸¤å±‚å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºTCP/IPçš„åè®®æ ˆè®¤ä¸ºç»˜ç”»æ•´ä¸ªè¡¨ç¤ºå±‚åº”è¯¥éƒ½äº¤ç”±ç¨‹åºæœ¬èº«å»å¤„ç†ï¼Œå¦‚æœå•ç‹¬æ‹¿å‡ºæ¥ä¼šéå¸¸å¤æ‚ ä¸€ä¸ªHTTPè¯·æ±‚çš„åˆ†å±‚è§£æ1. DNSåŸŸåè§£æåœ¨ç½‘ç»œä¸–ç•Œï¼Œä½ è‚¯å®šè®°å¾—ä½ç½‘ç«™çš„åç§°ï¼Œä½†æ˜¯å¾ˆéš¾è®°ä½ç½‘ç«™çš„ IP åœ°å€ï¼Œå› è€Œä¹Ÿéœ€è¦ä¸€ä¸ªåœ°å€ç°¿ï¼Œå°±æ˜¯ DNS æœåŠ¡å™¨ã€‚DNS æœåŠ¡å™¨æ˜¯é«˜å¯ç”¨ã€é«˜å¹¶å‘å’Œåˆ†å¸ƒå¼çš„ï¼Œå®ƒæ˜¯æ ‘çŠ¶ç»“æ„ã€‚ä¸»è¦åˆ†ä¸ºä¸‰å±‚ï¼Œç¯ç¯ç›¸æ‰£ é¡¶å±‚ï¼šæ ¹ DNS æœåŠ¡å™¨ï¼šè¿”å›é¡¶çº§åŸŸ DNS æœåŠ¡å™¨çš„ IP åœ°å€ ä¸­é—´å±‚ï¼šé¡¶çº§åŸŸ DNS æœåŠ¡å™¨ï¼šè¿”å›æƒå¨ DNS æœåŠ¡å™¨çš„ IP åœ°å€ ä¸‹å±‚ï¼šæƒå¨ DNS æœåŠ¡å™¨ ï¼šè¿”å›ç›¸åº”ä¸»æœºçš„ IP åœ°å€ DNSçš„åŸŸåæŸ¥æ‰¾ï¼Œåœ¨å®¢æˆ·ç«¯å’Œæµè§ˆå™¨ï¼Œæœ¬åœ°DNSä¹‹é—´çš„æŸ¥è¯¢æ–¹å¼æ˜¯é€’å½’æŸ¥è¯¢ï¼›åœ¨æœ¬åœ°DNSæœåŠ¡å™¨ä¸æ ¹åŸŸåŠå…¶å­åŸŸä¹‹é—´çš„æŸ¥è¯¢æ–¹å¼æ˜¯è¿­ä»£æŸ¥è¯¢ï¼›ä»è¾“å…¥URLå¼€å§‹è¿‡ç¨‹å¦‚ä¸‹ï¼š 12å®¢æˆ·ç«¯ -&gt; æµè§ˆå™¨ç¼“å­˜ -&gt; æœ¬åœ°hostsæ–‡ä»¶ -&gt; æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ -&gt; æœ¬åœ°DNSæœåŠ¡å™¨ è¿™ä¸ªè¿‡ç¨‹ä¸­ä»»ä½•ä¸€æ­¥æ‰¾åˆ°äº†éƒ½ä¼šç»“æŸæŸ¥æ‰¾æµç¨‹ã€‚ å¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨æ— æ³•æŸ¥è¯¢åˆ°ï¼Œåˆ™æ ¹æ®æœ¬åœ°DNSæœåŠ¡å™¨è®¾ç½®çš„è½¬å‘å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚è‹¥æœªç”¨è½¬å‘æ¨¡å¼ï¼Œåˆ™åœ¨å„ä¸ªå±‚çº§çš„åŸŸåæœåŠ¡å™¨ä¸­è¿­ä»£æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°äº†å°±è¿”å› æŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åšä»¥ä¸‹ä¼˜åŒ–ç‚¹ï¼š DNSå­˜åœ¨ç€å¤šçº§ç¼“å­˜ï¼Œä»ç¦»æµè§ˆå™¨çš„è·ç¦»æ’åºçš„è¯ï¼Œæœ‰ä»¥ä¸‹å‡ ç§: æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œè·¯ç”±å™¨ç¼“å­˜ï¼ŒIPSæœåŠ¡å™¨ç¼“å­˜ï¼Œæ ¹åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œé¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜ï¼Œä¸»åŸŸåæœåŠ¡å™¨ç¼“å­˜ã€‚ åœ¨åŸŸåå’Œ IP çš„æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œç»™äº†åº”ç”¨åŸºäºåŸŸååšè´Ÿè½½å‡è¡¡çš„æœºä¼šï¼Œå¯ä»¥æ˜¯ç®€å•çš„è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åœ°å€å’Œè¿è¥å•†åšå…¨å±€çš„è´Ÿè½½å‡è¡¡ã€‚ 2. å»ºç«‹TCPé“¾æ¥é¦–å…ˆï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯httpsçš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™HTTPSå…¶å®æ˜¯HTTP + SSL / TLS ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¹Ÿå°±æ˜¯åœ¨HTTPä¸ŠåˆåŠ äº†ä¸€å±‚å¤„ç†åŠ å¯†ä¿¡æ¯çš„æ¨¡å—ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ä¿¡æ¯ä¼ è¾“éƒ½ä¼šé€šè¿‡TLSè¿›è¡ŒåŠ å¯†ï¼Œæ‰€ä»¥ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯åŠ å¯†åçš„æ•°æ®ã€‚ è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹TCPè¿æ¥ã€‚ ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºxï¼›ç„¶åï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤ï¼› äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNæŠ¥æ–‡æ®µï¼Œéœ€è¦å¯¹è¿™ä¸ªSYNæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œè®¾ç½®Acknowledgment Numberä¸ºx+1(Sequence Number+1)ï¼›åŒæ—¶ï¼Œè‡ªå·±è¿˜è¦å‘é€SYNè¯·æ±‚ä¿¡æ¯ï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºyï¼›æœåŠ¡å™¨ç«¯å°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ˆå³SYN+ACKæŠ¥æ–‡æ®µï¼‰ä¸­ï¼Œä¸€å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼› ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKæŠ¥æ–‡æ®µã€‚ç„¶åå°†Acknowledgment Numberè®¾ç½®ä¸ºy+1ï¼Œå‘æœåŠ¡å™¨å‘é€ACKæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µå‘é€å®Œæ¯•ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®ŒæˆTCPä¸‰æ¬¡æ¡æ‰‹ã€‚ SSLæ¡æ‰‹è¿‡ç¨‹ ç¬¬ä¸€é˜¶æ®µ å»ºç«‹å®‰å…¨èƒ½åŠ› åŒ…æ‹¬åè®®ç‰ˆæœ¬ ä¼šè¯Id å¯†ç æ„ä»¶ å‹ç¼©æ–¹æ³•å’Œåˆå§‹éšæœºæ•° ç¬¬äºŒé˜¶æ®µ æœåŠ¡å™¨å‘é€è¯ä¹¦ å¯†é’¥äº¤æ¢æ•°æ®å’Œè¯ä¹¦è¯·æ±‚ï¼Œæœ€åå‘é€è¯·æ±‚-ç›¸åº”é˜¶æ®µçš„ç»“æŸä¿¡å· ç¬¬ä¸‰é˜¶æ®µ å¦‚æœæœ‰è¯ä¹¦è¯·æ±‚å®¢æˆ·ç«¯å‘é€æ­¤è¯ä¹¦ ä¹‹åå®¢æˆ·ç«¯å‘é€å¯†é’¥äº¤æ¢æ•°æ® ä¹Ÿå¯ä»¥å‘é€è¯ä¹¦éªŒè¯æ¶ˆæ¯ ç¬¬å››é˜¶æ®µ å˜æ›´å¯†ç æ„ä»¶å’Œç»“æŸæ¡æ‰‹åè®® å®Œæˆäº†ä¹‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥å¼€å§‹ä¼ é€æ•°æ® &lt;STRONG&gt;åè¯è§£é‡Š&lt;/STRONG&gt; ACK`ï¼šæ­¤æ ‡å¿—è¡¨ç¤ºåº”ç­”åŸŸæœ‰æ•ˆï¼Œå°±æ˜¯è¯´å‰é¢æ‰€è¯´çš„TCPåº”ç­”å·å°†ä¼šåŒ…å«åœ¨TCPæ•°æ®åŒ…ä¸­ï¼›æœ‰ä¸¤ä¸ªå–å€¼ï¼š0å’Œ1ï¼Œä¸º1çš„æ—¶å€™è¡¨ç¤ºåº”ç­”åŸŸæœ‰æ•ˆï¼Œåä¹‹ä¸º0ã€‚TCPåè®®è§„å®šï¼Œåªæœ‰ACK=1æ—¶æœ‰æ•ˆï¼Œä¹Ÿè§„å®šè¿æ¥å»ºç«‹åæ‰€æœ‰å‘é€çš„æŠ¥æ–‡çš„ACKå¿…é¡»ä¸º1ã€‚ SYN(SYNchronization)ï¼šåœ¨è¿æ¥å»ºç«‹æ—¶ç”¨æ¥åŒæ­¥åºå·ã€‚å½“SYN=1è€ŒACK=0æ—¶ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚å¯¹æ–¹è‹¥åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™åº”åœ¨å“åº”æŠ¥æ–‡ä¸­ä½¿SYN=1å’ŒACK=1. å› æ­¤, SYNç½®1å°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æˆ–è¿æ¥æ¥å—æŠ¥æ–‡ã€‚ FIN(finisï¼‰å³å®Œï¼Œç»ˆç»“çš„æ„æ€ï¼Œ ç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ã€‚å½“ FIN = 1 æ—¶ï¼Œè¡¨æ˜æ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²ç»å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾è¿æ¥ã€‚ 3.å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœTCPè¿æ¥å»ºç«‹åï¼Œæµè§ˆå™¨å°±å¯ä»¥åˆ©ç”¨HTTPï¼HTTPSåè®®å‘æœåŠ¡å™¨å‘é€è¯·æ±‚äº†ã€‚æœåŠ¡å™¨æ¥å—åˆ°è¯·æ±‚ï¼Œå°±è§£æè¯·æ±‚å¤´ï¼Œå¦‚æœå¤´éƒ¨æœ‰ç¼“å­˜ç›¸å…³ä¿¡æ¯å¦‚if-none-matchä¸if-modified-sinceï¼Œåˆ™éªŒè¯ç¼“å­˜æ˜¯å¦æœ‰æ•ˆï¼Œè‹¥æœ‰æ•ˆåˆ™è¿”å›çŠ¶æ€ç ä¸º304ï¼Œè‹¥æ— æ•ˆåˆ™é‡æ–°è¿”å›èµ„æºï¼ŒçŠ¶æ€ç ä¸º200. 4.å…³é—­TCPè¿æ¥è¿”å›ç›¸åº”ç»“æœä¹‹åå°±çœŸçš„è¦å…³é—­å—ï¼Ÿ ç­”æ¡ˆè‚¯å®šæ˜¯ä¸ä¸€å®šçš„å› ä¸ºå¦‚æœæµè§ˆå™¨æˆ–è€…æœåŠ¡å™¨å¤´ä¿¡æ¯æœ‰ä¸Šé¢çš„å­—æ®µçš„è¯ï¼ŒTCPè¿æ¥ä¼šä»ç„¶ä¿æŒï¼Œä¿æŒTCPè¿æ¥å¯ä»¥èŠ‚çœä¸‹æ¬¡è¯·æ±‚éœ€è¦å»ºç«‹TCPè¿æ¥çš„æ—¶é—´,æå‡èµ„æºåŠ è½½è¿›åº¦ã€‚å¦‚æœæ˜¯è¦å…³é—­è¿™æ—¶å€™å°±éœ€è¦å››æ¬¡æŒ¥æ‰‹äº† ç¬¬ä¸€é˜¶æ®µ å®¢æˆ·ç«¯å‘é€FINæŠ¥æ–‡ç»™æœåŠ¡ç«¯ (å…„å¼Ÿ,æˆ‘è¿™è¾¹å·²ç»æ²¡æœ‰æ•°æ®è¦ä¼ äº†,å…³é—­å§å…³é—­å§) ç¬¬äºŒé˜¶æ®µ æœåŠ¡ç«¯å‘é€ACKæŠ¥æ–‡ç»™å®¢æˆ·ç«¯ (æ”¶åˆ°äº†æ”¶åˆ°äº†! æˆ‘çœ‹çœ‹æˆ‘è¿˜æœ‰æ²¡æœ‰æ•°æ®è¦ä¼ ) ç¬¬ä¸‰é˜¶æ®µ æœåŠ¡ç«¯å‘é€FINæŠ¥æ–‡ç»™å®¢æˆ·ç«¯ (å…„å¼Ÿ,æˆ‘è¿™è¾¹ä¹Ÿæ²¡æœ‰æ•°æ®è¦ä¼ äº†,å…³é—­å§å…³é—­å§) ç¬¬å››é˜¶æ®µ å®¢æˆ·ç«¯å‘é€ACKæŠ¥æ–‡ç»™æœåŠ¡ç«¯ (æ”¶åˆ°äº†æ”¶åˆ°äº†!) 5.æµè§ˆå™¨æ ¹æ®è¿”å›çš„ç»“æœè¿›è¡Œæ¸²æŸ“ æ¸²æŸ“è¿›ç¨‹å°† HTML å†…å®¹è½¬æ¢ä¸ºèƒ½å¤Ÿè¯»æ‡‚DOM æ ‘ç»“æ„ã€‚ æ¸²æŸ“å¼•æ“å°† CSS æ ·å¼è¡¨è½¬åŒ–ä¸ºæµè§ˆå™¨å¯ä»¥ç†è§£çš„styleSheetsï¼Œè®¡ç®—å‡º DOM èŠ‚ç‚¹çš„æ ·å¼ åˆ›å»ºå¸ƒå±€æ ‘ï¼Œå¹¶è®¡ç®—å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ã€‚ å¯¹å¸ƒå±€æ ‘è¿›è¡Œåˆ†å±‚ï¼Œå¹¶ç”Ÿæˆåˆ†å±‚æ ‘ã€‚ ä¸ºæ¯ä¸ªå›¾å±‚ç”Ÿæˆç»˜åˆ¶åˆ—è¡¨ï¼Œå¹¶å°†å…¶æäº¤åˆ°åˆæˆçº¿ç¨‹ã€‚åˆæˆçº¿ç¨‹å°†å›¾å±‚åˆ†å›¾å—ï¼Œå¹¶æ …æ ¼åŒ–å°†å›¾å—è½¬æ¢æˆä½å›¾ã€‚ åˆæˆçº¿ç¨‹å‘é€ç»˜åˆ¶å›¾å—å‘½ä»¤ç»™æµè§ˆå™¨è¿›ç¨‹ã€‚æµè§ˆå™¨è¿›ç¨‹æ ¹æ®æŒ‡ä»¤ç”Ÿæˆé¡µé¢ï¼Œå¹¶æ˜¾ç¤ºåˆ°æ˜¾ç¤ºå™¨ä¸Šã€‚å¥½äº†åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä¸è¿‡æ¥ä¸‹æ¥æˆ‘è¿˜æœ‰ä¸œè¥¿å¾—ç»™å¤§å®¶è¯´ä¸€ä¸‹ï¼Œé‚£å°±æ˜¯ç¬¬ä¸€ä¸ªå°±æ˜¯æµè§ˆå™¨ç¼“å­˜ï¼Œç„¶åæ˜¯getå’ŒpoståŒºåˆ« æµè§ˆå™¨ç¼“å­˜æµè§ˆå™¨ç¼“å­˜ï¼šæ˜¯æµè§ˆå™¨å°†ç”¨æˆ·è¯·æ±‚è¿‡çš„é™æ€èµ„æ–™(html, css, js),å­˜å‚¨åˆ°ç”µè„‘æœ¬åœ°ç£ç›˜ä¸­, å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æ—¶, å°±å¯ä»¥ç›´æ¥ä»æœ¬åœ°åŠ è½½äº†, ä¸éœ€è¦å†å»è¯·æ±‚æœåŠ¡ç«¯äº†ã€‚è€Œç¼“å­˜å‘¢åˆåˆ†ä¸ºå¼ºç¼“å­˜å’Œåå•†ç¼“å­˜å¼ºç¼“å­˜:æ— éœ€ä¸æœåŠ¡ç«¯å‘ç”Ÿäº¤äº’ã€‚åå•†ç¼“å­˜ï¼šéœ€è¦ä¸æœåŠ¡ç«¯å‘ç”Ÿäº¤äº’ï¼Œåˆ¤æ–­æ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ–‡ä»¶ã€‚å…³äºä»–ä¿©çš„åŒºåˆ«å‘¢ï¼Œè¿˜è¯·å„ä½çœ‹å®˜è‡ªè¡ŒæŸ¥æ‰¾äº† ä¼˜ç‚¹ å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ è¾“ å‡å°‘æœåŠ¡å™¨çš„è´Ÿæ‹…, æå‡ç½‘ç«™æ€§èƒ½ åŠ å¿«äº†å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦ ä¸€èˆ¬æƒ…å†µä¸‹,åœ¨æµè§ˆå™¨ä¸­,æµè§ˆå™¨ä¼šåœ¨jså’Œå›¾ç‰‡ç­‰æ–‡ä»¶è§£ææ‰§è¡Œåç›´æ¥å­˜å…¥å†…å­˜ç¼“å­˜ä¸­,é‚£ä¹ˆå½“åˆ·æ´—é¡µé¢æ—¶åªéœ€è¦ä»å†…å­˜ç¼“å­˜ä¸­è¯»å–(from memory cache); è€Œcssæ–‡ä»¶åˆ™ä¼šå­˜å…¥ç¡¬ç›˜ä¸­, æ¸²æŸ“é¡µé¢ä»ç¡¬ç›˜è¯»å–ç¼“å­˜(from disk cache) getå’ŒpoståŒºåˆ« GET è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ° head ä¸­ï¼Œå¯ä»¥åœ¨ url ä¸­å¯ä»¥çœ‹åˆ°ï¼›POST è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ°BODYä¸­,åœ¨url ä¸­ä¸å¯è§ã€‚ GET è¯·æ±‚å‚æ•°éœ€è¦ä½¿ç”¨ encodeURIComponent è¿›è¡Œç¼–ç ï¼Œå¿…é¡»ç”¨ &amp; ç¬¦å·éš”å¼€ã€‚ è¯·æ±‚çš„urlæœ‰é•¿åº¦é™åˆ¶ï¼Œè¿™ä¸ªé™åˆ¶ç”±æµè§ˆå™¨å’Œ web æœåŠ¡å™¨å†³å®šå’Œè®¾ç½®çš„ã€‚ä¾‹å¦‚IEæµè§ˆå™¨å¯¹ URLçš„æœ€å¤§é™åˆ¶ä¸º2083ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œæäº¤æŒ‰é’®æ²¡æœ‰ä»»ä½•ååº”ã€‚å› ä¸ºGETè¯·æ±‚çš„å‚æ•°æ˜¯æ·»åŠ åˆ°URLä¸­ï¼Œæ‰€ä»¥GETè¯·æ±‚çš„URLçš„é•¿åº¦é™åˆ¶éœ€è¦å°†è¯·æ±‚å‚æ•°é•¿åº¦ä¹Ÿè€ƒè™‘è¿›å»ã€‚è€ŒPOSTè¯·æ±‚ä¸ç”¨è€ƒè™‘è¯·æ±‚å‚æ•°çš„é•¿åº¦ã€‚ GETè¯·æ±‚äº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…; POSTè¯·æ±‚äº§ç”Ÿ2ä¸ªæ•°æ®åŒ…,åœ¨ç«ç‹æµè§ˆå™¨ä¸­ï¼Œäº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…ã€‚è¿™ä¸ªåŒºåˆ«ç‚¹åœ¨äºæµè§ˆå™¨çš„è¯·æ±‚æœºåˆ¶ï¼Œå…ˆå‘é€è¯·æ±‚å¤´ï¼Œå†å‘é€è¯·æ±‚ä½“ã€‚å› ä¸ºGETæ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å°±å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œè€ŒPOSTåŒ…å«è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å‘é€ä¸¤æ¬¡æ•°æ®åŒ…ï¼Œä½†æ˜¯ç”±äºç«ç‹æœºåˆ¶ä¸åŒï¼Œæ‰€ä»¥å‘é€ä¸€ä¸ªæ•°æ®åŒ…ã€‚ ç”±äºGETè¯·æ±‚çš„å‚æ•°æ˜¯åœ¨urlä¸­ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ GET è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ä¸‹æ¥ï¼Œç•™ä¸‹å†å²è®°å½•ï¼Œè€Œ POST é»˜è®¤ä¸ä¼šã€‚ GETæ˜¯å¹‚ç­‰çš„ï¼Œè€ŒPOSTä¸æ˜¯ã€‚(å¹‚ç­‰è¡¨ç¤ºæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœä¹Ÿæ˜¯ç›¸åŒçš„) æœªå®Œå¾…ç»­ ~","categories":[{"name":"HTTP","slug":"HTTP","permalink":"http://example.com/categories/HTTP/"}],"tags":[]},{"title":"react Hooks","slug":"react/reactHooks","date":"2020-04-12T04:44:34.000Z","updated":"2021-03-10T04:44:12.468Z","comments":true,"path":"2020/04/12/react/reactHooks/","link":"","permalink":"http://example.com/2020/04/12/react/reactHooks/","excerpt":"","text":"å‰è¨€æˆ‘ä»¬éƒ½çŸ¥é“rewactå¼€å‘æœ‰ä¸¤ç§ç»„ä»¶å¼€å‘æ¨¡å¼ï¼Œä¸€æ˜¯å‡½æ•°å¼ç»„ä»¶å¼€å‘ï¼ŒäºŒæ˜¯ç±»ç»„ä»¶å¼å¼€å‘ï¼Œä½†æ˜¯ç›¸æ¯”äºå‡½æ•°å¼ç»„ä»¶å¼€å‘ç±»ç»„ä»¶æœ‰å¾ˆå¤šä¸è¶³ä¹‹å¤„ï¼š 1.ç¼ºå°‘é€»è¾‘å¤ç”¨æœºåˆ¶ä¸ºäº†æœç”¨é€»è¾‘å¢åŠ æ— å®é™…æ¸²æŸ“æ•ˆæœçš„ç»„ä»¶ï¼Œå¢åŠ äº†ç»„ä»¶å±‚çº§æ˜¾å¾—ååˆ†è‡ƒè‚¿ï¼Œå¢åŠ äº†è°ƒè¯•çš„éš¾åº¦ä»¥åŠè¿è¡Œæ•ˆç‡çš„é™ä½ã€‚ 2.ç±»ç»„ä»¶ç»å¸¸ä¼šå˜å¾—å¾ˆå¤æ‚éš¾ä»¥ç»´æŠ¤å°†ä¸€ç»„ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘æ‹†åˆ†åˆ°äº†å¤šä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹ä¸­åœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å†…å­˜åœ¨å¤šä¸ªä¸ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘ 3.ç±»æˆå‘˜æ–¹æ³•ä¸èƒ½ä¿è¯thisæŒ‡å‘çš„æ­£ç¡®æ€§ä¸ºæ­¤react16.8ç‰ˆæœ¬å‡ºäº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ›´æ–°ï¼Œé‚£å°±æ˜¯react hooksï¼Œå¾ˆå¥½çš„è§£å†³äº†ç±»ç»„ä»¶çš„ä¸è¶³ï¼Œè¿™è®©æˆ‘ä»¬èƒ½æ›´å¥½çš„æŠŠç²¾åŠ›é›†ä¸­åœ¨å‡½æ•°å¼ç»„ä»¶çš„å¼€å‘ä¹‹ä¸­ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠè¿™ä¸ªreact hooks useState æ­¤hookæ˜¯å¯ä»¥è®©å‡½æ•°å¼ç»„ä»¶ä¿å­˜çŠ¶æ€ 123import { useState } from 'react'Â·Â·Â·Â·const [num setNum] = (0) useStateç»†èŠ‚: 1.æ¥æ”¶å”¯ä¸€çš„å‚æ•°å³çŠ¶æ€åˆå§‹å€¼ï¼Œåˆå§‹å€¼å¯ä»¥ä¸ºä»»æ„æ•°æ®ç±»å‹ 2.è¿”å›å€¼ä¸ºæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜å‚¨çŠ¶æ€å€¼å’Œæ›´æ”¹çŠ¶æ€å€¼çš„æ–¹æ³•ï¼Œæ–¹æ³•åçº¦å®šä»¥setå¼€å¤´ 3.æ–¹æ³•å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼Œç”¨ä»¥ä¿å­˜ä¸åŒçŠ¶æ€å€¼ 4.å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Œåˆå§‹çŠ¶æ€å°±æ˜¯ä»€ä¹ˆï¼Œå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œç”¨åœ¨åˆå§‹å€¼ä¸ºåŠ¨æ€å€¼çš„æƒ…å†µä¸‹ æ³¨æ„ï¼šåœ¨å‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœé¡µé¢æ¸²æŸ“ä¾èµ–è¿”å›idç»“æœé‚£ä¹ˆè¿™ä¸ªæ‰§è¡Œè¯­å¥å°±è¦è¢«æ”¾åœ¨å›è°ƒå‡½æ•°å†…éƒ¨ useReducer æ­¤hookæ˜¯å¦ä¸€ç§è®©å‡½æ•°ç»„ä»¶ä¿å­˜çŠ¶æ€çš„æ–¹å¼ï¼Œå’Œreduxæå…¶ç›¸ä¼¼ 1234567891011121314import { useReducer } from 'react'function reducer (state, action) { switch (action.type) { case 'initAdd': return state + 1 }}Â·Â·Â·Â·const [count dispatch] = useReducer(reducer, 0)return &lt;div&gt;&lt;span&gt;{count}&lt;/span&gt;&lt;button onClick={() =&gt; dispatch({type:'initAdd'})}&gt;&lt;/div&gt; useContextç”¨äºç®€åŒ–è·¨ç»„ä»¶é€šä¿¡createContextå‡½æ•°ä»£ç  useEffect() è®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰å¤„ç†å‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚ç±»ä¼¼äºç”Ÿå‘½å‘¨æœŸ æˆ‘ä»¬å¯ä»¥å°†æ­¤hookçœ‹æˆæ˜¯ç±»ç»„ä»¶ä¸­componentDidMountã€componentDidUpdateã€componentWillUumountä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ useEffect(()=&gt;{}) === componentDidMountã€componentDidUpdate useEffect(() =&gt; {}, []) === componentDidMount useEffect(() =&gt; () =&gt; {}) === componentWillUumount æ³¨æ„ï¼šå¦‚æœæ˜¯è¦åœ¨æ­¤hookä¸­è¯·æ±‚æ•°æ®ï¼Œé‚£ä¹ˆè¯·æ±‚å‡½æ•°å¾—è¦è‡ªæ‰§è¡Œ useMemoæ­¤hookç±»ä¼¼äºVUEä¸­çš„è®¡ç®—å±æ€§ï¼Œå¯ä»¥ç›‘æµ‹æŸä¸ªå€¼çš„å˜åŒ–ï¼Œæ ¹æ®å˜åŒ–å€¼è®¡ç®—æ–°å€¼åŒæ—¶æ­¤hookä¹Ÿä¼šç¼“å­˜è®¡ç®—ç»“æœã€‚å¦‚æœç›‘æµ‹å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå³ä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¸ä¼šé‡æ–°è®¡ç®—ï¼Œæ­¤è¡Œä¸ºæœ‰åŠ©äºé¿å…åœ¨æ¯ä¸ªæ¸²æŸ“ä¸Šè¿›è¡Œæ˜‚è´µçš„è®¡ç®—ï¼Œå¯åšæ€§èƒ½ä¼˜åŒ– memoæ€§èƒ½ä¼˜åŒ– ç»„ä»¶é‡æ–°æ¸²æŸ“ä¹‹å‰åˆ¤æ–­ç»„ä»¶æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå¦‚æœæœ¬ç»„ä»¶ä¸­çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé˜»æ­¢æ›´æ–°å’ŒuseMemoæ˜¾è‘—çš„åŒºåˆ«æ˜¯å‰è€…é˜»æ­¢ç»„ä»¶æ›´æ–°ï¼Œåè€…ç›‘æµ‹æŸä¸ªå€¼çš„å˜åŒ–æ¥æ›´æ–° useCallbackæ€§èƒ½ä¼˜åŒ– ç¼“å­˜å‡½æ•°ï¼Œä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶å¾—åˆ°ç›¸åŒçš„å‡½æ•°å®ä¾‹ç†è§£å°±æ˜¯çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶æƒ…å†µä¸‹ï¼Œå¦‚æœçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºä¼ å€¼çš„å˜åŒ–å­ç»„ä»¶è¿™æ—¶å€™ä¹Ÿé‡æ–°æ¸²æŸ“äº†ï¼ˆå‡½æ•°å®ä¾‹ä¹Ÿå‘ç”Ÿæ”¹å˜äº†ï¼‰ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ 1const resetCount = useCallback(()=&gt;setCount(0),[setCount]) useRef è·å–DOMå¯¹è±¡ è·¨ç»„å»ºå‘¨æœŸä¿å­˜æ•°æ® 123const box = useRef()return &lt;div ref={box}&gt;app&lt;/div&gt; æŒç»­æ›´æ–°ä¸­~","categories":[{"name":"react","slug":"react","permalink":"http://example.com/categories/react/"}],"tags":[]},{"title":"äº‹ä»¶è½®è¯¢(Event Loop)","slug":"javascript/eventloop","date":"2020-04-11T05:14:34.000Z","updated":"2021-03-18T11:36:06.187Z","comments":true,"path":"2020/04/11/javascript/eventloop/","link":"","permalink":"http://example.com/2020/04/11/javascript/eventloop/","excerpt":"","text":"æ¦‚å¿µé¦–é€‰æˆ‘ä»¬éƒ½çŸ¥é“jsæ˜¯å•çº¿ç¨‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ä»£ç æ˜¯ä¸€è¡Œæ¥ç€ä¸€è¡Œè¿è¡Œçš„ã€‚æ­¤å¤–jsæä¾›äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚å…ˆè¯´å®ä»»åŠ¡ã€‚å®ä»»åŠ¡æ˜¯ä¸€ä¸ªå¤–éƒ¨è„šæœ¬æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æˆ·äº¤äº’è§¦å‘çš„äº‹ä»¶æˆ–ä¸€ä¸ªsetTimeoutè°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚ä¸ºäº†å®ç°å•çº¿ç¨‹è¿™ä¸ªæ¦‚å¿µï¼Œjsæœ‰ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œå®ä»»åŠ¡ä¸æ–­åœ°åˆ›å»ºå‡ºæ¥å¡åˆ°é˜Ÿå°¾ï¼Œjså¼•æ“ä¸æ–­åœ°ä»é˜Ÿé¦–å–ä»»åŠ¡å‡ºæ¥æ‰§è¡Œã€‚ä¾‹å¦‚ï¼šscript ã€setTimeoutã€setIntervalï¼ŒsetImmediate å¾®ä»»åŠ¡æ˜¯ç”±Promiseåˆ›å»ºå‡ºæ¥çš„ä¸”jsä¸­æœ‰ä¸€ä¸ªä¸“é—¨çš„å¾®ä»»åŠ¡é˜Ÿåˆ—æ¥å­˜å‚¨å¾®ä»»åŠ¡ã€‚å¾®ä»»åŠ¡çš„æœºåˆ¶æ˜¯ï¼šå½“æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡åï¼Œåªè¦æœ‰å¾®ä»»åŠ¡å°±å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ã€‚å®ä»»åŠ¡å’Œæ¸²æŸ“é€šé€šæ’åˆ°åé¢ã€‚ä¾‹å¦‚ï¼šPromise.then()æˆ–catch()ã€asyncå‡½æ•°ä¸­çš„awaitç´§è·Ÿå‡½æ•°/è¯­å¥ä¹‹åçš„å†…å®¹ æ‰€è°“äº‹ä»¶è½®è¯¢å°±æ˜¯æˆ‘ä»¬å°†ä¸€ç³»åˆ—å…·æœ‰å¼‚æ­¥æ“ä½œçš„æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰ä¸»çº¿ç¨‹æ‰§è¡Œçš„åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆä»¥åï¼Œå†ä»å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œæ‰¾æœªæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰é‚£ä¹ˆå°±æ‰§è¡Œï¼Œå¦‚æœæ²¡æœ‰å°±å†å»å®ä»»åŠ¡ä¸­å¯»æ‰¾ï¼Œä¾æ¬¡å¾ªç¯ï¼Œè¿™å°±æ˜¯äº‹ä»¶è½®è¯¢ã€‚ æ¯ä¸ªå®ä»»åŠ¡ä¹‹åï¼Œå¼•æ“ä¼šç«‹å³æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œå…¶ä»–çš„å®ä»»åŠ¡ï¼Œæˆ–æ¸²æŸ“ï¼Œæˆ–è¿›è¡Œå…¶ä»–ä»»ä½•æ“ä½œã€‚PS:å®šæ—¶å™¨å‡½æ•°çš„setTimeoutåœ¨ä¸»çº¿ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œä»–ä¾ç„¶ä¼šåœ¨ä¸€ä¸ªå®šæ—¶å™¨æ¨¡å—å†…å¼€å§‹è®¡æ—¶ï¼Œç­‰ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¦‚æœsetTimeoutçš„è®¡æ—¶ç»“æŸé‚£ä¹ˆå°±ä¼šç«‹å³æ‰§è¡Œ(è¿™é‡Œæ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯è®¡æ—¶å®Œæˆï¼Œä»»åŠ¡è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œ)","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"webå‰ç«¯æ€§èƒ½ä¼˜åŒ–","slug":"xingneng/web","date":"2020-04-10T04:44:34.000Z","updated":"2021-03-06T13:13:43.393Z","comments":true,"path":"2020/04/10/xingneng/web/","link":"","permalink":"http://example.com/2020/04/10/xingneng/web/","excerpt":"","text":"1.æ‰“åŒ…å…¬å…±ä»£ç é€šè¿‡webpackå°†å…¬å…±çš„æ¨¡å—æ‹†å‡ºæ¥ï¼Œæœ€ç»ˆåˆæˆçš„æ–‡ä»¶èƒ½å¤Ÿåœ¨æœ€å¼€å§‹çš„æ—¶å€™åŠ è½½ä¸€æ¬¡ï¼Œä¾¿å­˜åˆ°ç¼“å­˜ä¸­ä¾›åç»­ä½¿ç”¨ï¼Œè¿™ä¼šå¸¦æ¥é€Ÿåº¦ä¸Šçš„æå‡ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šè¿…é€Ÿå°†å…¬å…±çš„ä»£ç ä»ç¼“å­˜ä¸­å–å‡ºæ¥ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è®¿é—®ä¸€ä¸ªæ–°é¡µé¢æ—¶ï¼Œå†å»åŠ è½½ä¸€ä¸ªæ›´å¤§çš„æ–‡ä»¶ã€‚åœ¨webpackçš„splitChunkså°±èƒ½å¤ŸæŠŠå¤šæ¬¡å¼•å…¥çš„åŒ…ï¼Œéƒ½æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ 2.æŒ‰éœ€åŠ è½½åœ¨å•é¡µé¢ä¸­ï¼Œæœ‰å¤šä¸ªè·¯ç”±ï¼Œä½¿ç”¨webpackçš„æŒ‰éœ€åŠ è½½å°±èƒ½è¾¾åˆ°å•ç‹¬è®¿é—®æŸä¸ªé¡µé¢çš„æ—¶å€™å•ç‹¬æŸä¸ªçš„é¡µé¢ä»£ç ï¼Œå¦‚import(/webpackChunkName: â€˜xxâ€™ â€˜yourpathâ€™/) 3.ä½¿ç”¨CDNCDNå…¨ç§°æ˜¯Content Delivery Networkï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œï¼Œå®ƒèƒ½å¤Ÿå®æ—¶åœ°æ ¹æ®ç½‘ç»œæµé‡å’Œå„èŠ‚ç‚¹çš„è¿æ¥ã€è´Ÿè½½çŠ¶å†µä»¥åŠåˆ°ç”¨æˆ·çš„è·ç¦»å’Œå“åº”æ—¶é—´ç­‰ç»¼åˆä¿¡æ¯å°†ç”¨æˆ·çš„è¯·æ±‚é‡æ–°å¯¼å‘ç¦»ç”¨æˆ·æœ€è¿‘çš„æœåŠ¡èŠ‚ç‚¹ä¸Šã€‚å…¶ç›®çš„æ˜¯ä½¿ç”¨æˆ·å¯å°±è¿‘å–å¾—æ‰€éœ€å†…å®¹ï¼Œè§£å†³ Internetç½‘ç»œæ‹¥æŒ¤çš„çŠ¶å†µï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦ 4.ä½¿ç”¨é™æ€èµ„æºåˆ†åŸŸå­˜æ”¾æ¥å¢åŠ ä¸‹è½½å¹¶è¡Œæ•°æµè§ˆå™¨åœ¨åŒä¸€æ—¶åˆ»å‘åŒä¸€ä¸ªåŸŸåè¯·æ±‚æ–‡ä»¶çš„å¹¶è¡Œä¸‹è½½æ•°æ˜¯æœ‰é™çš„ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨å¤šä¸ªåŸŸåçš„ä¸»æœºæ¥å­˜æ”¾ä¸åŒçš„é™æ€èµ„æºï¼Œå¢å¤§é¡µé¢åŠ è½½æ—¶èµ„æºçš„å¹¶è¡Œä¸‹è½½æ•°ï¼Œç¼©çŸ­é¡µé¢èµ„æºåŠ è½½çš„æ—¶é—´ã€‚é€šå¸¸æ ¹æ®å¤šä¸ªåŸŸåæ¥åˆ†åˆ«å­˜å‚¨ JavaScriptã€CSS å’Œå›¾ç‰‡æ–‡ä»¶ã€‚ 5.å‡å°‘jsã€cssé˜»å¡1. jsç»„å¡å½“htmlè§£æé‡åˆ°jsä¼šå…ˆä¸‹è½½å’Œæ‰§è¡Œjsæ–‡ä»¶ï¼Œè¿™æ˜¯ä¸ºäº†é˜²æ­¢jsæ“ä½œäº†domç­‰æƒ…å†µçš„å‘ç”Ÿã€‚ä½†æˆ‘ä»¬ä½œä¸ºæ“ä½œè€…ï¼Œå¯ä»¥äººä¸ºçš„æŒ‡å®šï¼Œé‚£äº›å…ƒç´ å¯ä»¥å»¶è¿ŸåŠ è½½ã€‚ä¸ºscriptæ ‡ç­¾æŒ‡å®š async æˆ– deferæ¥å»¶è¿Ÿè„šæœ¬ã€‚asyncè¡¨ç¤ºjsä¸ä¼šé˜»å¡ï¼Œä½†ä¼šåœ¨ä¸‹è½½å®Œæˆåç«‹åˆ»æ‰§è¡Œdeferåˆ™ä¼šåœ¨ä¸‹è½½å®Œæˆå¹¶ä¸”æ•´ä¸ªæ–‡æ¡£è§£æå®Œæˆã€DOMContentLoadedäº‹ä»¶è¢«è§¦å‘å‰å¼€å§‹æ‰§è¡Œ 2.cssç»„å¡cssä¼šé˜»å¡htmlè¿›è¡Œæ¸²æŸ“ï¼Œä½†æ˜¯ä¸ºäº†ç•Œé¢æ²¡æœ‰ä»»ä½•æ ·å¼çš„å±•ç°åœ¨ç”¨æˆ·é¢å‰ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†cssæå‰ 6.é¿å…å›æµå’Œé‡ç»˜7.æ‡’åŠ è½½8.å‡å°‘DOMæ“ä½œ","categories":[{"name":"vue","slug":"vue","permalink":"http://example.com/categories/vue/"}],"tags":[]},{"title":"vue-Router","slug":"vue/vue-Router","date":"2020-04-08T04:44:34.000Z","updated":"2021-02-26T14:53:22.612Z","comments":true,"path":"2020/04/08/vue/vue-Router/","link":"","permalink":"http://example.com/2020/04/08/vue/vue-Router/","excerpt":"","text":"12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394let _Vue = null;export default class VueRouter { static install(Vue) { // 1. åˆ¤æ–­å½“å‰æ’ä»¶æ˜¯å¦å·²ç»è¢«å®‰è£… if (VueRouter.install.installed) { return; } VueRouter.install.installed = true; // 2. æŠŠ Vue æ„é€ å‡½æ•°è®°å½•åˆ°å…¨å±€å˜é‡ _Vue = Vue; // 3. æŠŠåˆ›å»ºçš„ Vue å®ä¾‹æ—¶æ‰€ä¼ å…¥çš„ router å¯¹è±¡æ³¨å…¥åˆ° Vue å®ä¾‹ä¸Š // æ··å…¥ _Vue.mixin({ beforeCreate() { if (this.$options.router) { _Vue.prototype.$router = this.$options.router; this.$options.router.init(); } }, }); } constructor(options) { this.options = options; this.routeMap = {}; this.data = _Vue.observable({ current: \"/\", }); } init() { this.initRouterMap(); this.initComponents(_Vue); this.initEvent(); } initRouterMap() { // éå†æ‰€æœ‰çš„è·¯ç”±è§„åˆ™ï¼ŒæŠŠè·¯ç”±è§„åˆ™è§£ææˆé”®å€¼å¯¹çš„å½¢å¼ å­˜å‚¨åˆ° routerMap ä¸­ this.options.routes.forEach((route) =&gt; { this.routeMap[route.path] = route.component; }); } initComponents(Vue) { Vue.component(\"router-link\", { props: { to: String, }, // template: ` // &lt;a :href=\"to\"&gt; // &lt;slot&gt;&lt;/slot&gt; // &lt;/a&gt; // `, render(h) { return h( \"a\", { attrs: { href: this.to, }, on: { click: this.clickHandler, }, }, [this.$slots.default] ); }, methods: { clickHandler(e) { history.pushState({}, \"\", this.to); this.$router.data.current = this.to; e.preventDefault(); }, }, }); const self = this; Vue.component(\"router-view\", { render(h) { console.log(self); const component = self.routeMap[self.data.current]; return h(component); }, }); } initEvent() { window.addEventListener(\"popstate\", () =&gt; { this.data.current = window.location.pathname; }); }}","categories":[{"name":"vue","slug":"vue","permalink":"http://example.com/categories/vue/"}],"tags":[]},{"title":"Next.js+koaé¡¹ç›®ç¯å¢ƒæ­å»º","slug":"react/next","date":"2020-04-08T04:44:34.000Z","updated":"2021-02-26T13:44:21.644Z","comments":true,"path":"2020/04/08/react/next/","link":"","permalink":"http://example.com/2020/04/08/react/next/","excerpt":"","text":"å‰è¨€è‡ªä»19å¹´ä¸­å¼€å§‹åšUGä»¥æ¥ï¼Œè¿™å¤§åŠå¹´æ—¶é—´ä¹Ÿç®—å®Œæˆäº†ä»Vueåˆ°Reactçš„è½¬å‹ï¼Œä¹Ÿå­¦ä¼šäº†è¿ç”¨Next.jsè¿™ä¸ªSSRæ¡†æ¶ï¼Œæ¥ä¸‹æ¥æˆ‘å°±æ‰‹æŠŠæ‰‹æ•™å¤§å®¶åˆæ­¥è¿ç”¨Next.js+Koaæ­å»ºä¸€ä¸ªåˆæ­¥çš„å…¨æ ˆé¡¹ç›®","categories":[{"name":"react","slug":"react","permalink":"http://example.com/categories/react/"}],"tags":[]},{"title":"thisã€callã€applyã€bind","slug":"javascript/this-call-bind-apply","date":"2020-04-08T04:44:34.000Z","updated":"2021-03-18T13:27:07.964Z","comments":true,"path":"2020/04/08/javascript/this-call-bind-apply/","link":"","permalink":"http://example.com/2020/04/08/javascript/this-call-bind-apply/","excerpt":"","text":"å‰è¨€å°ä¼™ä¼´ä»¬ï¼Œè¿™ç¯‡æ–‡ç« çš„ä½œç”¨ä¸ç”¨æˆ‘å¤šè¯´äº†å§~~~ï¼Œç›´æ¥è‚å°±å®Œäº† thisæŒ‡å‘é¦–å…ˆæˆ‘ä»¬èŠèŠthisæŒ‡å‘çš„é—®é¢˜ï¼Œæˆ‘ä¹Ÿä¸å¤šè¯´å•¥äº†ï¼Œä½ ä»¬åªè¦è®°ä½æˆ‘æ¥ä¸‹æ¥è¯´çš„è¿™å°±è¯å°±è¡Œäº†ï¼Œè®°ä½æ˜¯æ‰“æ­»ä¹Ÿè¦è®°ä½ï¼šthisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ å°±è¿™å¥å•Šï¼Œæ‰“æ­»ä¹Ÿè¦è®°ä½å’¯ï¼ï¼ï¼ é‚£ä¹ˆï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å°±æ¥çœ‹å‡ ä¸ªæ —å­ï¼š æ —å­ 11234567891011var name = \"windows\";function fn() { var name = \"Soliton\"; console.log(this.name); // windows console.log(\"å‡½æ•°å†…:\" + this); // å‡½æ•°å†…: Window}fn();console.log(\"å…¨å±€:\" + this) // å…¨å±€: Window å°±è¿™ä¸ªï¼Œå’±ä»¬å…ˆä¸è¯´ä½ çœ‹ä¸çœ‹çš„æ‡‚ï¼Œå’±ä»¬ç›´æ¥å…ˆæŠŠé‚£å¥thisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡å¥—è¿›å»ã€‚å…ˆå®šä¹‰äº†ä¸€ä¸ªfnå‡½æ•°ï¼Œæœ€ååœ¨åé¢è°ƒç”¨äº†ä¸€ä¸‹ï¼Œçœ‹æ¸…æ¥šè¿™ä¸ªè°ƒç”¨æ˜¯åœ¨å“ªè°ƒçš„ï¼Ÿæ˜¯ä¸æ˜¯å…¨å±€å•Šï¼Œæˆ‘ä»¬éƒ½çŸ¥é“JSçš„å…¨å±€å¯¹è±¡æ˜¯windowã€‚æ‰€ä»¥åœ¨å…¨å±€è°ƒç”¨çš„fn()å‡½æ•°æˆ‘ä»¬å°±å¯ä»¥çœ‹ä½œæ˜¯window.fn()ï¼Œæ‰€ä»¥æŒ‰ç…§è§„åˆ™ï¼Œæ˜¯ä¸æ˜¯thisæŒ‡å‘çš„å°±æ˜¯windowå¯¹è±¡å•Šï¼Œè€Œwindowå¯¹è±¡æ˜¯å…¨å±€å¯¹è±¡ï¼Œå…¨å±€æˆ‘ä»¬æ˜¯ä¸æ˜¯å®šä¹‰äº†ä¸€ä¸ªnameå˜é‡ã€‚æ‰€ä»¥ï¼Œå‡½æ•°fn()ä¸­æ‰“å°çš„nameæ˜¯ä¸æ˜¯å°±æ˜¯windowså•Šã€‚é‚£è¿™æ—¶å€™ä½ æ˜¯ä¸æ˜¯è¦é—®é‚£æˆ‘å‡½æ•°å†…éƒ¨çš„nameä»€ä¹ˆæ—¶å€™æ‰“å°å‘¢ï¼Ÿåˆ«æ€¥æ¥ä¸‹æ¥æˆ‘ä»¬å†æ¥è¯´è¯´è¿™ä¸ª æ —å­ 2123456789var name = \"windows\";var fn = { name: \"Soliton\", fn2 : function () { console.log(this.name); // Soliton }}fn.fn2(); æ¥ï¼Œå’±ä»¬ç»§ç»­å¥—ï¼Œè¿™é‡Œæœ€åè°ƒç”¨çš„æ—¶å€™æ˜¯ä¸æ˜¯fn.fn2(),ç…§è€è§„çŸ©ï¼Œå…¨å±€è°ƒç”¨å’±ä»¬æ˜¯ä¸æ˜¯å¯ä»¥çœ‹æˆwindow.fn.fn2(),å†æŠŠä¹‹å‰çš„é‚£ä¸ªè§„åˆ™å¥—è¿›æ¥ï¼Œå’±ä»¬ä¼šå‘ç°æœ€åè°ƒç”¨å®ƒçš„æœ€åçš„å¯¹è±¡æ˜¯ä¸æ˜¯fnå•Šï¼Œè€Œfn2å‡½æ•°æ˜¯ä¸æ˜¯åœ¨fnè¿™ä¸ªå¯¹è±¡çš„å±€éƒ¨å˜é‡ä¹‹ä¸­ï¼Ÿï¼Œæ‰€ä»¥å®ƒå–åˆ°çš„this.nameæœ€åæ˜¯ä¸æ˜¯fn2è¿™ä¸ªå±€éƒ¨å¯¹è±¡ä¸­çš„nameå˜é‡å€¼ï¼Ÿé‚£å°±æ˜¯Solitonäº†å§ ç…§è¿™ä¸ªè§„å¾‹é‚£ä¸‹é¢ä¸¤ä¸ªç»“æœæ˜¯æ€ä¹ˆæ ·å‘¢ï¼Ÿå„ä½ä¸å¦¨è‡ªè¡Œæ“ä½œä¸€ä¸‹ é¢˜ 1 12345678var name = \"windows\";var fn = { // name: \"Soliton\", fn2 : function () { console.log(this.name); // undefined }}window.fn.fn2(); é¢˜ 2 1234567891011var name = \"windows\";var fn = { name : null, // name: \"Soliton\", fn2 : function () { console.log(this.name); // windows }}var f = fn.fn2;f(); é‚£ä¹ˆæˆ‘ä»¬å†æ€è€ƒä¸‹ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬è¦æ”¹å˜thisæŒ‡å‘å‘¢ æ”¹å˜thisçš„æŒ‡å‘ ä½¿ç”¨ES6çš„ç®­å¤´å‡½æ•° åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨_this = this ä½¿ç”¨ applyã€callã€bind newå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ 1. ç®­å¤´å‡½æ•°æˆ‘ä»¬éƒ½çŸ¥é“ES6 çš„ç®­å¤´å‡½æ•°æ˜¯å¯ä»¥é¿å… ES5 ä¸­ä½¿ç”¨ this çš„å‘çš„ã€‚ç®­å¤´å‡½æ•°çš„ this å§‹ç»ˆæŒ‡å‘å‡½æ•°å®šä¹‰æ—¶çš„ thisï¼Œè€Œéæ‰§è¡Œæ—¶ã€‚ç®­å¤´å‡½æ•°éœ€è¦è®°ç€è¿™å¥è¯ï¼šâ€œç®­å¤´å‡½æ•°ä¸­æ²¡æœ‰ this ç»‘å®šï¼Œå¿…é¡»é€šè¿‡æŸ¥æ‰¾ä½œç”¨åŸŸé“¾æ¥å†³å®šå…¶å€¼ï¼Œå¦‚æœç®­å¤´å‡½æ•°è¢«éç®­å¤´å‡½æ•°åŒ…å«ï¼Œåˆ™ this ç»‘å®šçš„æ˜¯æœ€è¿‘ä¸€å±‚éç®­å¤´å‡½æ•°çš„ thisï¼Œå¦åˆ™ï¼Œthis ä¸º undefinedâ€ã€‚ 2. ä½¿ç”¨ _this=thisæ­¤æ–¹æ³•çš„åŸç†å°±æ˜¯å°†è°ƒç”¨æ­¤å‡½æ•°çš„å¯¹è±¡ä¿å­˜åœ¨æ–°å®šä¸€çš„ä¸€ä¸ª_thiså˜é‡ä¹‹ä¸­ï¼Œç„¶ååœ¨å‡½æ•°çš„å†…éƒ¨éƒ½æ˜¯ç”¨è¿™å·²ç»ä¿å­˜å¯¹è±¡çš„_thiså°±å¥½äº† 3. newå®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡æˆ‘ä»¬å‰é¢è¯´åˆ°thisæ°¸è¿œæŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œè¿™æ—¶å€™å®ƒçš„thisæŒ‡å‘å°±æŒ‡å‘æœ€åè°ƒç”¨å®ƒçš„é‚£ä¸ªå¯¹è±¡äº†ä¾‹å¦‚ï¼š 1234567891011// æ„é€ å‡½æ•°:function myFunction(arg1, arg2) { this.firstName = arg1; this.lastName = arg2;}// This creates a new objectvar a = new myFunction(\"xzl\",\"Soliton\");a.lastName; // è¿”å› \"Soliton\" é‚£ä¹ˆè‚¯å®šæœ‰äººé—®new?ï¼Œæˆ‘æ€newï¼Ÿnewæ˜¯è¿‡ç¨‹æ˜¯å•¥ï¼Ÿå¥½å®¶ä¼™ï¼Œæˆ‘ç›´æ¥ç»™ä½ å®‰æ’äº† 123456789var a = new myFunction(\"xzl\",\"Soliton\");new myFunction{ var obj = {}; // åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ obj; obj.__proto__ = myFunction.prototype; // å°†æ–°åˆ›å»ºçš„ç©ºå¯¹è±¡çš„éšå¼åŸå‹æŒ‡å‘å…¶æ„é€ å‡½æ•°çš„æ˜¾ç¤ºåŸå‹ã€‚ var result = myFunction.call(obj,\"xzl\",\"Soliton\"); //ä½¿ç”¨ call æ”¹å˜ this çš„æŒ‡å‘ return typeof result === 'obj'? result : obj; //å¦‚æœæ— è¿”å›å€¼æˆ–è€…è¿”å›ä¸€ä¸ªéå¯¹è±¡å€¼ï¼Œåˆ™å°† obj è¿”å›ä½œä¸ºæ–°å¯¹è±¡ï¼›å¦‚æœè¿”å›å€¼æ˜¯ä¸€ä¸ªæ–°å¯¹è±¡çš„è¯é‚£ä¹ˆç›´æ¥ç›´æ¥è¿”å›è¯¥å¯¹è±¡ã€‚} 4. ä½¿ç”¨ applyã€callã€bindç›¸åŒç‚¹ apply ã€ call ã€bind ä¸‰è€…éƒ½æ˜¯ç”¨æ¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡çš„æŒ‡å‘çš„ï¼› apply ã€ call ã€bind ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯æƒ³æŒ‡å®šçš„ä¸Šä¸‹æ–‡ï¼› apply ã€ call ã€bind ä¸‰è€…éƒ½å¯ä»¥åˆ©ç”¨åç»­å‚æ•°ä¼ å‚ï¼› ä¸åŒç‚¹ bind()æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°, å½“è¢«è°ƒç”¨æ—¶ï¼Œå°†å…¶thiså…³é”®å­—è®¾ç½®ä¸ºæä¾›çš„å€¼ï¼Œåœ¨è°ƒç”¨æ–°å‡½æ•°æ—¶ï¼Œåœ¨ä»»ä½•æä¾›ä¹‹å‰æä¾›ä¸€ä¸ªç»™å®šçš„å‚æ•°åºåˆ—,æ‰€ä»¥bind æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¿…é¡»è¦æ‰‹åŠ¨å»è°ƒç”¨ï¼›applyã€callåˆ™æ˜¯ç«‹å³è°ƒç”¨ ã€‚ 2.call éœ€è¦æŠŠå‚æ•°æŒ‰é¡ºåºä¼ é€’è¿›å»ï¼Œè€Œ apply åˆ™æ˜¯æŠŠå‚æ•°æ”¾åœ¨æ•°ç»„é‡Œã€‚ 3.æŸä¸ªå‡½æ•°çš„å‚æ•°æ˜¯æ˜ç¡®çŸ¥é“æ•°é‡æ—¶ç”¨ call ; è€Œä¸ç¡®å®šçš„æ—¶å€™ç”¨ applyï¼Œç„¶åæŠŠå‚æ•° pushè¿›æ•°ç»„ä¼ é€’è¿›å»ã€‚å½“å‚æ•°æ•°é‡ä¸ç¡®å®šæ—¶ï¼Œå‡½æ•°å†…éƒ¨ä¹Ÿå¯ä»¥é€šè¿‡ arguments è¿™ä¸ªæ•°ç»„æ¥éå†æ‰€æœ‰çš„å‚æ•° func.call(this, arg1, arg2); func.apply(this, [arg1, arg2])","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"Promise åŸç†åŠå®ç°","slug":"javascript/Promise","date":"2020-04-08T04:44:34.000Z","updated":"2021-02-21T15:29:08.603Z","comments":true,"path":"2020/04/08/javascript/Promise/","link":"","permalink":"http://example.com/2020/04/08/javascript/Promise/","excerpt":"","text":"è¡¨è¿°Promiseå°±æ˜¯å°†å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—åŒ–ï¼Œå°†å¤šä¸ªå¼‚æ­¥ä»»åŠ¡æŒ‰ç…§é¡ºåºè¾“å‡ºï¼ŒåŒæ—¶ç”¨é“¾å¼è°ƒç”¨è§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚ä»Šå¤©æˆ‘ä»¬å°±æ¥å¥½å¥½å‰–æä¸‹Promiseçš„åŸç†ï¼š Promiseè§„èŒƒ1.å­˜åœ¨ä¸‰ä¸ªçŠ¶æ€ï¼šç­‰å¾…æ€(pending)ï¼Œæ‰§è¡Œæ€(fulfilled)ï¼Œå¤±è´¥æ€(rejected)2.åˆå§‹æ€ä¸ºç­‰å¾…æ€ï¼Œå¯ä»¥è½¬åŒ–ä¸ºæ‰§è¡Œæ€å’Œå¤±è´¥æ€3.æ‰§è¡Œæ€ä¸å¯è½¬åŒ–ä¸ºå…¶ä»–çŠ¶æ€ï¼Œä¸”å¿…é¡»æœ‰ä¸€ä¸ªä¸å¯å˜çš„ç»ˆå€¼(value)4.å¤±è´¥æ€ä¸å¯è½¬åŒ–ä¸ºå…¶ä»–çŠ¶æ€ï¼Œä¸”å¿…é¡»æœ‰ä¸€ä¸ªä¸å¯å˜çš„åŸå› (reason)5.å¿…é¡»æä¾›ä¸€ä¸ªthenæ–¹æ³•ï¼Œä»¥ä¾›è®¿é—®å…¶å½“å‰å€¼ï¼Œå¦‚æœçŠ¶æ€æˆåŠŸè°ƒç”¨æˆåŠŸå›è°ƒå‡½æ•°ã€å¦‚æœçŠ¶æ€æ˜¯å¤±è´¥ï¼Œè°ƒç”¨å¤±è´¥å›è°ƒå‡½æ•°6.thenæ–¹æ³•æä¾›ä¸¤ä¸ªå‚æ•°ï¼šonFulfilledå’ŒonRejected7.onFulfilledå’ŒonRejectedå¦‚æœä¸æ˜¯å‡½æ•°ç±»å‹ï¼Œå¿…é¡»å¿½ç•¥å…¶8.å¦‚æœexecutoræ‰§è¡ŒæŠ¥é”™ï¼Œç›´æ¥æ‰§è¡Œreject9.ä¸åŒçš„promiseå¯ä»¥ç›¸äº’å¥—ç”¨æ›´å¤šè¯¦ç»†å†…å®¹è¿˜è¯·è‡ªè¡Œå‚è€ƒPromise A+è§„èŒƒ 1.ä¸è€ƒè™‘å¼‚æ­¥çš„Promise12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ executor(this.resolve, this.reject) } //promise çŠ¶æ€ status = PENDING; value = undefined; reason = undefined; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason } then ( successCallback, failCallback ) { // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ successCallback(this.value) }else if (this.status === REJECTED){ failCallback(this.reason) } }} åˆ°æ­¤ï¼Œä¸€ä¸ªä¸è€ƒè™‘å¼‚æ­¥æƒ…å†µçš„ç®€å•ç‰ˆPromiseå°±å‡ºæ¥äº†. 2.åŠ å…¥å¼‚æ­¥é€»è¾‘å’Œthenæ–¹æ³•çš„å¤šæ¬¡è°ƒç”¨1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ executor(this.resolve, this.reject) } //promise çŠ¶æ€ status = PENDING; // æˆåŠŸå’Œå¤±è´¥çš„ä¿¡æ¯ value = undefined; reason = undefined; //æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ successCallback = []; failCallback = []; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value // åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ å­˜åœ¨å³è°ƒç”¨ while (this.successCallback.length) this.successCallback.shift()(this.value) } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason //åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åŠè°ƒç”¨ while (this.failCallback.length) this.failCallback.shift()(this.value) } then ( successCallback, failCallback ) { // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ successCallback(this.value) }else if (this.status === REJECTED){ failCallback(this.reason) }else{ // ç­‰å¾…ã€å°†æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå­˜å‚¨èµ·æ¥ this.successCallback.push(successCallback) this.failCallback.push(failCallback) } }} 3.æ·»åŠ thenæ–¹æ³•çš„é“¾å¼è°ƒç”¨å’Œå–å¾—thenæ–¹æ³•çš„è¿”å›å€¼1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ executor(this.resolve, this.reject) } //promise çŠ¶æ€ status = PENDING; // æˆåŠŸå’Œå¤±è´¥çš„ä¿¡æ¯ value = undefined; reason = undefined; //æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ successCallback = []; failCallback = []; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value // åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ å­˜åœ¨å³è°ƒç”¨ while (this.successCallback.length) this.successCallback.shift()(this.value) } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason //åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åŠè°ƒç”¨ while (this.failCallback.length) this.failCallback.shift()(this.value) } then ( successCallback, failCallback ) { let promise2 = new MyPromise((resolve,reject)=&gt;{ // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ let x = successCallback(this.value) //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolve(x) }else if (this.status === REJECTED){ failCallback(this.reason) }else{ // ç­‰å¾…ã€å°†æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå­˜å‚¨èµ·æ¥ this.successCallback.push(successCallback) this.failCallback.push(failCallback) } }); return promise2 }} ä¸Šé¢è¿™ä¸ªæˆåŠŸçš„è¿”å›å€¼xåªèƒ½ä¼ é€’æ™®é€šçš„å€¼ï¼Œé‚£å¦‚æœæ˜¯ä¸€ä¸ªpromiseå¯¹è±¡å‘¢ï¼Ÿè¿™æ—¶å€™æˆ‘ä»¬å°±è¦çœ‹promiseè¿”å›çš„å¯¹è±¡çš„ç»“æœï¼Œå†æ ¹æ®è¿”å›çš„ç»“æœå†³å®šæ˜¯è°ƒç”¨resolveï¼Œè¿˜æ˜¯rejectã€‚è¿™é‡Œæœ‰ä¸ªé—®é¢˜å¯èƒ½å¤§å®¶å·²ç»æƒ³åˆ°äº†, è¿™ä¸ªè¿”å›å€¼æœ‰å¯èƒ½æ˜¯ä¸ºpromiseå¯¹è±¡çš„æƒ…å†µ,è€Œä¸”åœ¨thenæ–¹æ³•çš„å›è°ƒå‡½æ•°å½“ä¸­ï¼Œä¸èƒ½è¿”å›å½“å‰è¿™ä¸ªthenæ–¹æ³•æ‰€è¿”å›çš„promiseå¯¹è±¡çš„,å› ä¸ºè¿™æ ·å°±è§¦å‘äº†promiseçš„å¾ªç¯è°ƒç”¨ï¼Œæµè§ˆå™¨å°±ä¼šæŠ¥é”™é‚£ä¹ˆï¼Œæ ¹æ®ä¸Šè¿°æƒ…å†µ, æ¥ä¸‹æ¥æˆ‘ä»¬å°±è¦å†æ”¹é€ ä¸€ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ executor(this.resolve, this.reject) } //promise çŠ¶æ€ status = PENDING; // æˆåŠŸå’Œå¤±è´¥çš„ä¿¡æ¯ value = undefined; reason = undefined; //æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ successCallback = []; failCallback = []; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value // åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ å­˜åœ¨å³è°ƒç”¨ while (this.successCallback.length) this.successCallback.shift()(this.value) } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason //åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åŠè°ƒç”¨ while (this.failCallback.length) this.failCallback.shift()(this.value) } then ( successCallback, failCallback ) { let promise2 = new MyPromise((resolve,reject)=&gt;{ // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ // æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å¼‚æ­¥ä»£ç  setTimeout(()=&gt;{ let x = successCallback(this.value) //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }, 0) }else if (this.status === REJECTED){ failCallback(this.reason) }else{ // ç­‰å¾…ã€å°†æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå­˜å‚¨èµ·æ¥ this.successCallback.push(successCallback) this.failCallback.push(failCallback) } }); return promise2 }}function resolvePromise( promise2, x, resolve, reject) { // åˆ¤æ–­ä¼ é€’çš„promiseå¯¹è±¡æ˜¯å¦å’Œæœ¬èº«promiseç›¸ç­‰ï¼Œå¦‚æœæ˜¯å°±è¿”å›æŠ¥é”™ if (promise2 === x) { return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if (x instanceof MyPromise) { // promiseå¯¹è±¡ // x.then(value =&gt; resolve(value), reason =&gt; reject(reason)) x.then(resolve,reject) } else { // æ™®é€šå€¼ resolve(x) }} 4.æ·»åŠ é”™è¯¯å¤„ç†1.å½“æ‰§è¡Œå™¨executoré”™è¯¯æ—¶2.thenæ–¹æ³•å½“ä¸­çš„å›è°ƒå‡½æ•°æŠ¥é”™æ—¶3.ä¸Šè¿°ä»£ç åªå¤„ç†äº†æˆåŠŸçŠ¶æ€ï¼Œç°åœ¨æˆ‘ä»¬è¦å°†å¤±è´¥æˆ–è€…å¼‚æ­¥æ—¶çš„çŠ¶æ€ä¹Ÿä¸€å¹¶å¤„ç†äº† 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ try{ executor(this.resolve, this.reject) } catch (e) { this.reject(e); } } //promise çŠ¶æ€ status = PENDING; // æˆåŠŸå’Œå¤±è´¥çš„ä¿¡æ¯ value = undefined; reason = undefined; //æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ successCallback = []; failCallback = []; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value // åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ å­˜åœ¨å³è°ƒç”¨ while (this.successCallback.length) this.successCallback.shift()() } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason //åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åŠè°ƒç”¨ while (this.failCallback.length) this.failCallback.shift()() } then ( successCallback, failCallback ) { let promise2 = new MyPromise((resolve,reject)=&gt;{ // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ // æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å¼‚æ­¥ä»£ç  setTimeout(()=&gt;{ try{ let x = successCallback(this.value); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }else if (this.status === REJECTED){ setTimeout(()=&gt;{ try{ let x = failCallback(this.reason); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }else{ // ç­‰å¾…ã€å°†æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå­˜å‚¨èµ·æ¥ this.successCallback.push(()=&gt;{ setTimeout(()=&gt;{ try{ let x = successCallback(this.value); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }) this.failCallback.push(()=&gt;{ setTimeout(()=&gt;{ try{ let x = failCallback(this.reason); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }) } }); return promise2 }}function resolvePromise( promise2, x, resolve, reject) { // åˆ¤æ–­ä¼ é€’çš„promiseå¯¹è±¡æ˜¯å¦å’Œæœ¬èº«promiseç›¸ç­‰ï¼Œå¦‚æœæ˜¯å°±è¿”å›æŠ¥é”™ if (promise2 === x) { return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if (x instanceof MyPromise) { // promiseå¯¹è±¡ // x.then(value =&gt; resolve(value), reason =&gt; reject(reason)) x.then(resolve,reject) } else { // æ™®é€šå€¼ resolve(x) }} OKï¼Œæˆ‘çŸ¥é“å„ä½é“å‹çœ‹åˆ°è¿™ä¸€æ­¥å¯èƒ½æœ‰ç‚¹åŒçƒ¦äº†, é‚£ä¹ˆæˆ‘å®£å¸ƒä¸€ä¸ªäº‹æƒ…ï¼šå’±ä»¬è¿™ä¸ªPromiseç±»çš„æ ¸å¿ƒåŠŸèƒ½å·²ç»å®ç°äº†ğŸ‘å½“ç„¶ï¼Œè¿˜æƒ³çŸ¥é“æ›´å¤šçš„å’±ä»¬ä¸€èµ·å¾€ä¸‹çœ‹ 5.å°†thenæ–¹æ³•çš„å‚æ•°å˜æˆå¯é€‰å‚æ•°123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ constructor (executor){ try{ executor(this.resolve, this.reject) } catch (e) { this.reject(e); } } //promise çŠ¶æ€ status = PENDING; // æˆåŠŸå’Œå¤±è´¥çš„ä¿¡æ¯ value = undefined; reason = undefined; //æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒ successCallback = []; failCallback = []; resolve = value =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºæˆåŠŸ this.status = FULFILLED; // ä¿å­˜æˆåŠŸä¹‹åçš„å€¼ this.value = value // åˆ¤æ–­æˆåŠŸå›è°ƒæ˜¯å¦å­˜åœ¨ å­˜åœ¨å³è°ƒç”¨ while (this.successCallback.length) this.successCallback.shift()() } reject = reason =&gt; { // å¦‚æœä¸æ˜¯ç­‰å¾…çŠ¶æ€ã€é˜»æ­¢ç¨‹åºå‘ä¸‹æ‰§è¡Œ if(this.status !== PENDING) return; // å°†çŠ¶æ€æ›´æ”¹ä¸ºå¤±è´¥ this.status = REJECTED; //ä¿å­˜å¤±è´¥çš„åŸå›  this.reason = reason //åˆ¤æ–­å¤±è´¥å›è°ƒæ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨åŠè°ƒç”¨ while (this.failCallback.length) this.failCallback.shift()() } then ( successCallback, failCallback ) { // å½“then()æ–¹æ³•ä¸ºç©ºçš„æ—¶å€™å…¶å®ç­‰åŒäº``then(value =&gt; value)`` successCallback = successCallback ? successCallback:value =&gt; value; failCallback = failCallback ? failCallback:reason =&gt; { throw reason }; let promise2 = new MyPromise((resolve,reject)=&gt;{ // åˆ¤æ–­çŠ¶æ€ if ( this.status === FULFILLED ){ // æ‰€æœ‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆåï¼Œæ‰§è¡Œä¸‹é¢å¼‚æ­¥ä»£ç  setTimeout(()=&gt;{ try{ let x = successCallback(this.value); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }else if (this.status === REJECTED){ setTimeout(()=&gt;{ try{ let x = failCallback(this.reason); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }else{ // ç­‰å¾…ã€å°†æˆåŠŸå’Œå¤±è´¥çš„å›è°ƒå­˜å‚¨èµ·æ¥ this.successCallback.push(()=&gt;{ setTimeout(()=&gt;{ try{ let x = successCallback(this.value); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }) this.failCallback.push(()=&gt;{ setTimeout(()=&gt;{ try{ let x = failCallback(this.reason); //å°†ä¸Šä¸€ä¸ªthençš„å›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¼ é€’ç»™ä¸‹ä¸€ä¸ªthenæ–¹æ³•æˆåŠŸçš„å›è°ƒ resolvePromise( promise2, x, resolve, reject) }catch (e){ reject(e); } }, 0) }) } }); return promise2 }}function resolvePromise( promise2, x, resolve, reject) { // åˆ¤æ–­ä¼ é€’çš„promiseå¯¹è±¡æ˜¯å¦å’Œæœ¬èº«promiseç›¸ç­‰ï¼Œå¦‚æœæ˜¯å°±è¿”å›æŠ¥é”™ if (promise2 === x) { return reject(new TypeError('Chaining cycle detected for promise #&lt;Promise&gt;')) } if (x instanceof MyPromise) { // promiseå¯¹è±¡ // x.then(value =&gt; resolve(value), reason =&gt; reject(reason)) x.then(resolve,reject) } else { // æ™®é€šå€¼ resolve(x) }} æ‹“å±•1ï¼šå®ç°promise.all()æ–¹æ³•æ­¤æ–¹æ³•ä¸»è¦ç”¨æ¥è§£å†³å¼‚æ­¥å¹¶å‘é—®é¢˜çš„ï¼Œæ­¤æ–¹æ³•å…è®¸æˆ‘ä»¬æŒ‰ç…§å¼‚æ­¥ä»£ä¹°è°ƒç”¨çš„é¡ºåºå¾—åˆ°å¼‚æ­¥ä»£ç æ‰§è¡Œçš„ç»“æœ 12345678910111213141516171819202122232425262728293031323334353637383940const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ .... static all (array) { let result = [] let index = 0 return new MyPromise((resolve, reject) =&gt; { function addData (key, value) =&gt;{ reslut[key] = value; index++; if (index === array.length) { resolve(result) } } for( let i = 0; i &lt; array.length; i++) { let current = array[i] if (current instanceof MyPromise) { // promise å¯¹è±¡ current.then( value =&gt; addData(i, value), reason =&gt; reject(reason)) } else { // æ™®é€šå€¼ addData(i, array[i]); } } }) }} æ‹“å±•2ï¼šå®ç°promise.resolve()æ–¹æ³•123456789101112const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ ..... static resolve(value) { if ( value instanceof MyPromise) return value; return new MyPromise(resolve =&gt; resolve(value)); }} æ‹“å±•3ï¼š å®ç°promise.finally()æ–¹æ³•1234567891011121314151617const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ ..... finally (callback) { return this.then(value =&gt; { return MyPromise.resolve(callback()).then(() =&gt; value) }, reason =&gt; { return MyPromise.resolve(callback()).then(() =&gt; { throw reason}) }); }} æ‹“å±•4ï¼š å®ç°promise.catch()æ–¹æ³•1234567891011const PENDING ='pending' // ç­‰å¾…const FULFILLED ='fulfilled' // æˆåŠŸconst REJECTED = 'rejected' // å¤±è´¥class MyPromise{ ..... catch (failCallback) { return this.then(undefined, failCallback) }}","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"å¤šæµè§ˆå™¨å…¼å®¹é—®é¢˜","slug":"browser/browser1","date":"2020-04-07T05:14:34.000Z","updated":"2021-03-19T19:34:26.957Z","comments":true,"path":"2020/04/07/browser/browser1/","link":"","permalink":"http://example.com/2020/04/07/browser/browser1/","excerpt":"","text":"å‰è¨€PM ï¼š æŠ€æœ¯ï¼Œä½ è¿™ä¸ªç½‘é¡µèƒ½åœ¨åˆ«çš„æµè§ˆå™¨ä¸Šçœ‹ä¹ˆï¼Ÿå¼€å‘ ï¼š å¯ä»¥å•Šï¼Œæˆ‘åšè¿‡æµè§ˆå™¨å…¼å®¹äº†ã€‚PM ï¼š ä½†æ˜¯æˆ‘çœ‹åˆ°çš„æ ·å¼å¥½åƒæ€ä¹ˆå„ä¸ªæµè§ˆå™¨éƒ½æœ‰ä¸åŒçš„æ ·å­å•Šï¼Œè·Ÿæˆ‘æƒ³è¦çš„ä¸œè¥¿æœ‰ç‚¹å‡ºå…¥å•Šè®¾è®¡ ï¼šâ€¦â€¦å¼€å‘ ï¼šâ€¦â€¦æŠ€æœ¯ ï¼šä¸åº”è¯¥å•Šï¼Œè¿˜æœ‰ä¸ä¸€æ ·çš„åœ°æ–¹å˜›ï¼Ÿæˆ‘çœ‹çœ‹PM ï¼šä½ çœ‹ï¼Œåœ¨360æµè§ˆå™¨ã€åœ¨ç«ç‹ã€è°·æ­Œã€IEæµè§ˆå™¨ä¸Šéƒ½ä¸ä¸€æ ·å•ŠæŠ€æœ¯ ï¼šâ€¦â€¦. æˆ‘ç›¸ä¿¡å¤§å®¶å¾ˆå¤šéƒ½ç¢°åˆ°è¿‡è¿™ç§åœºæ™¯ï¼Œæ˜¯ä¸æ˜¯æœ‰ç‚¹ç»æœ›ï¼Œå“ˆå“ˆå“ˆï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥å°±å¥½å¥½æ‹ä¸€æ‹è¿™äº›æµè§ˆå™¨åŠå…¶å…¼å®¹é—®é¢˜ æµè§ˆå™¨å†…æ ¸å¸‚é¢ä¸Šç°åœ¨å„å¼å„æ ·çš„æµè§ˆå™¨å±‚å‡ºä¸ç©·ï¼Œä¸åŒçš„æµè§ˆå™¨çš„å†…æ ¸ä¹Ÿä¸ä¸€æ ·ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“é¡µé¢æ¸²æŸ“æ˜¯åœ¨ä¸åŒçš„æµè§ˆå™¨å†…æ ¸çš„æ”¯æŒä¸‹æˆ–å¤šæˆ–å°‘ä¼šæœ‰ç‚¹å·®å¼‚ï¼ˆæ±‚æ±‚äº†ï¼Œåˆ«è·Ÿæˆ‘è¯´IE6ğŸ˜±ï¼‰ 12345678910IEæµè§ˆå™¨ï¼šTridentğŸ§æµè§ˆå™¨ï¼šTrident + Webkit è°·æ­Œæµè§ˆå™¨ï¼ˆChromeï¼‰ï¼šWebkit -&gt; BlinkğŸ¦Šæµè§ˆå™¨ï¼ˆFirefoxï¼‰ï¼šGeckoğŸæµè§ˆå™¨ï¼ˆSafariï¼‰ï¼šWebkitOperaæµè§ˆå™¨ï¼šPresto -&gt; Webkit -&gt; Blinkï¼›360æµè§ˆå™¨ï¼šTrident + ChromeçŒè±¹æµè§ˆå™¨ï¼šTrident + Chromeç™¾åº¦æµè§ˆå™¨ï¼šTrident å¤§æ¦‚ä¸»è¦çš„å°±è¿™ä¹ˆäº›å§ï¼ˆè¯è¯´åº”è¯¥æ²¡æ¼å§ï¼Ÿï¼‰å¦å¤–ï¼Œä¼ è¯´ä¸­çš„ç‰›é€¼å“„å“„çš„åŒæ ¸æµè§ˆå™¨ï¼Œæ‡‚å¾—éƒ½æ‡‚ğŸ˜ å¸¸è§çš„å…¼å®¹æ€§é—®é¢˜CSSç¯‡ é—®é¢˜ï¼šä¸åŒæµè§ˆå™¨çš„æ ‡ç­¾é»˜è®¤çš„ margin å’Œ padding ä¸åŒè§£å†³æ–¹æ¡ˆï¼šcssé‡Œå¢åŠ é€šé…ç¬¦*{marginï¼š0ï¼›paddingï¼š0}ï¼Œä½†æ˜¯å°½é‡å°‘å†™é€šé…ç¬¦*è¿˜æ˜¯ç”¨æ ¹èŠ‚ç‚¹æ¯”è¾ƒå¥½ å›¾ç‰‡é»˜è®¤æœ‰é—´è·è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨floatä¸ºimgå¸ƒå±€ FFå’ŒIEBOXæ¨¡å‹è§£é‡Šä¸ä¸€è‡´å¯¼è‡´ç›¸å·®2pxbox.style{width:100;border1px;}IEæµè§ˆå™¨ä¸‹ç¼–è¯‘ä¸ºbox.width =100ç«ç‹ä¸‹ç¼–è¯‘ä¸ºbox.width =100 + 1*2 = 102 //åŠ ä¸Šè¾¹æ¡†2pxè§£å†³æ–¹æ³•ï¼šdiv{margin:30px!important;margin:28px;} IEä¸è¯†åˆ«é¡µé¢çš„minçš„æœ€å°å®½åº¦è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡Javascriptæ¥åˆ¤æ–­å®ç°æœ€å°å®½åº¦min-width: 600px;width:expression(document.body.clientWidthï¼œ 600? â€œ600pxâ€: â€œautoâ€ ); DIVæµ®åŠ¨IEæ–‡æœ¬äº§ç”Ÿ3åƒç´ çš„bugå·¦è¾¹å¯¹è±¡æµ®åŠ¨ï¼Œå³è¾¹é‡‡ç”¨marginçš„å·¦è¾¹è·æ¥å®šä½ï¼Œå³è¾¹å¯¹è±¡å†…çš„æ–‡æœ¬ä¼šç¦»å·¦è¾¹æœ‰3pxçš„é—´è·.è§£å†³æ–¹æ¡ˆï¼š*html #left{ margin-right:-3px;} webæ ‡å‡†ä¸­IEæ— æ³•è®¾ç½®æ»šåŠ¨æ¡é¢œè‰²è§£å†³æ–¹æ¡ˆï¼šhtml { scrollbar-track-color:#fff; scrollbar-darkshadow-color:#fff; scrollbar-highlight-color:#fff; scrollbar-3dlight-color:#eeeeee; scrollbar-arrow-color:#000; scrollbar-face-color:#f6f6f6; scrollbar-shadow-color:#eeeeee; } ä¸¤ä¸ªå—çº§å…ƒç´ ï¼Œçˆ¶å…ƒç´ è®¾ç½®äº†overflow:autoï¼›å­å…ƒç´ è®¾ç½®äº†position:relative ;ä¸”é«˜åº¦å¤§äºçˆ¶å…ƒç´ ï¼Œåœ¨IE6ã€IE7ä¼šè¢«éšè—è€Œä¸æ˜¯æº¢å‡ºï¼›è§£å†³æ–¹æ¡ˆï¼šçˆ¶çº§å…ƒç´ è®¾ç½®position:relative jsç¯‡ HTMLå¯¹è±¡è·å–é—®é¢˜Firefoxï¼šdocument.getElementById(â€œidNameâ€);ie:document.idnameæˆ–è€…document.getElementById(â€œidNameâ€).è§£å†³åŠæ³•ï¼šç»Ÿä¸€ä½¿ç”¨document.getElementById(â€œidNameâ€); IEä¸‹,eventå¯¹è±¡æœ‰x,yå±æ€§,ä½†æ˜¯æ²¡æœ‰pageX,pageYå±æ€§;Firefoxä¸‹,eventå¯¹è±¡æœ‰pageX,pageYå±æ€§,ä½†æ˜¯æ²¡æœ‰x,yå±æ€§.è§£å†³æ–¹æ³•ï¼šä½¿ç”¨mX(mX = event.x ? event.x : event.pageX;)æ¥ä»£æ›¿IEä¸‹çš„event.xæˆ–è€…Firefoxä¸‹çš„event.pageX. Firefoxä¸IEçš„çˆ¶å…ƒç´ (parentElement)çš„åŒºåˆ«IEï¼šobj.parentElementFirefoxï¼šobj.parentNodeè§£å†³æ–¹æ³•: obj.parentNodeä¸¤è€…å…¼å®¹ IEä¸‹ï¼Œevenå¯¹è±¡æœ‰srcElementå±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰targetå±æ€§ï¼›Firefoxä¸‹ï¼Œevenå¯¹è±¡æœ‰targetå±æ€§ï¼Œä½†æ˜¯æ²¡æœ‰srcElementå±æ€§ã€‚è§£å†³æ–¹æ³•ï¼šä½¿ç”¨srcObj = event.srcElement ?event.srcElement : event.target; eventäº‹ä»¶é—®é¢˜ 1234567891011121314document.onclick=function(ev){//è°·æ­Œç«ç‹çš„å†™æ³•ï¼ŒIE9ä»¥ä¸Šæ”¯æŒï¼Œå¾€ä¸‹ä¸æ”¯æŒï¼› var e=ev; console.log(e);}document.onclick=function(){//è°·æ­Œå’ŒIEæ”¯æŒï¼Œç«ç‹ä¸æ”¯æŒï¼› var e=event; console.log(e);}document.onclick=function(ev){//å…¼å®¹å†™æ³•ï¼› var e=ev||window.event; var mouseX=e.clientX;//é¼ æ ‡Xè½´çš„åæ ‡ var mouseY=e.clientY;//é¼ æ ‡Yè½´çš„åæ ‡} é¡µé¢å¯æ˜¯åŒºåŸŸå¤§å° 12345678910111213141516171819202122232425function client() { if(window.innerWidth != null) // ie9 + æœ€æ–°æµè§ˆå™¨ { return { width: window.innerWidth, height: window.innerHeight } } else if(document.compatMode === \"CSS1Compat\") // æ ‡å‡†æµè§ˆå™¨ { return { width: document.documentElement.clientWidth, height: document.documentElement.clientHeight } } return { // æ€ªå¼‚æµè§ˆå™¨ width: document.body.clientWidth, height: document.body.clientHeight }}document.write(client().width); åˆ¤æ–­æµè§ˆå™¨ 12345678910111213141516171819202122232425let browser = {versions: (function () { let u = navigator.userAgent return { // ç§»åŠ¨ç»ˆç«¯æµè§ˆå™¨ç‰ˆæœ¬ä¿¡æ¯ trident: u.indexOf('Trident') &gt; -1, // IEå†…æ ¸ presto: u.indexOf('Presto') &gt; -1, // operaå†…æ ¸ webKit: u.indexOf('AppleWebKit') &gt; -1, // è‹¹æœã€è°·æ­Œå†…æ ¸ gecko: u.indexOf('Gecko') &gt; -1 &amp;&amp; u.indexOf('KHTML') === -1, // ç«ç‹å†…æ ¸ mobile: !!u.match(/AppleWebKit.*Mobile.*/), // æ˜¯å¦ä¸ºç§»åŠ¨ç»ˆç«¯ ios: !!u.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/), // iosç»ˆç«¯ android: u.indexOf('Android') &gt; -1 || u.indexOf('Linux') &gt; -1 || u.indexOf('Adr') &gt; -1, // androidç»ˆç«¯æˆ–ucæµè§ˆå™¨ iPhone: u.indexOf('iPhone') &gt; -1, // æ˜¯å¦ä¸ºiPhoneæˆ–è€…QQHDæµè§ˆå™¨ iPad: u.indexOf('iPad') &gt; -1, // æ˜¯å¦iPad webApp: u.indexOf('Safari') === -1, weixin: u.indexOf('MicroMessenger') &gt; -1, // æ˜¯å¦å¾®ä¿¡ ï¼ˆ2015-01-22æ–°å¢ï¼‰ qq: u.indexOf(' QQ') &gt; -1 // æ˜¯å¦QQ // æ˜¯å¦webåº”è¯¥ç¨‹åºï¼Œæ²¡æœ‰å¤´éƒ¨ä¸åº•éƒ¨ }}()),language: (navigator.browserLanguage || navigator.language).toLowerCase()}console.log(browser.versions.weixin) // åˆ¤æ–­æ˜¯å¦ä¸ºå¾®ä¿¡æµè§ˆå™¨ return true or false iosæ— æ³•è§£ææ—¥æœŸæ ¼å¼é—®é¢˜è§£å†³æ–¹æ¡ˆï¼šå®‰å“éƒ½æ”¯æŒ 2019-01-01 æˆ– 2019/09/09ï¼Œiosåªæ”¯æŒ2019/09/09 ã€‚å¯ç”¨replace(/-/g,â€™/â€˜)æ–¹å¼æ›¿æ¢","categories":[{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://example.com/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"}],"tags":[]},{"title":"æ•°æ®çš„ç±»å‹","slug":"javascript/02","date":"2020-04-07T05:14:34.000Z","updated":"2021-03-18T11:31:56.396Z","comments":true,"path":"2020/04/07/javascript/02/","link":"","permalink":"http://example.com/2020/04/07/javascript/02/","excerpt":"","text":"å‰è¨€æˆ‘ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ï¼Œä½ åšå‰ç«¯åšäº†å‡ å¹´ä¹‹åï¼Œçªç„¶é—´å†è®©ä½ å¤ç›˜ä¸€ä¸‹ä»¥å‰å­¦è¿‡çš„åŸºç¡€çŸ¥è¯†çš„æ—¶å€™ï¼Œä½ çªç„¶ä¼šå‘ç°è‡ªå·±å¥½åƒè®°ä¸å¤ªæ¸…äº†ï¼Œæˆ‘ç›¸ä¿¡è¿™æ˜¯å¾ˆå¤šäººçš„ç—›ç‚¹ï¼Œè¿™æ—¶å€™æˆ‘æ¬§ä¿„ç¾å°±éœ€è¦å¥½å¥½çš„æ€»ç»“ä¸‹ä»¥å‰å­¦çš„ä¸œè¥¿ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºç¬”è®°å½•ä¸‹æ¥ï¼Œåªæœ‰é€šè¿‡æ­¤æ–¹æ³•ï¼Œæ—¥åä½ æ‰ä¼šæœ‰å……è¶³çš„å‡†å¤‡æ¥åº”å¯¹æ¥ä¸‹æ¥çš„å„ç§å˜åŒ–ã€‚æ¥ä¸‹æ¥æˆ‘å°±æ¥ç®€å•çš„ä¸ºå¤§å®¶æ¢³ç†ä¸€ä¸‹ä»¥å‰å­¦è¿‡çš„ä¸€äº›ä¸œè¥¿ 1.æ•°æ®ç±»å‹æˆ‘ä»¬éƒ½çŸ¥é“å†…å­˜æ˜¯ç”¨æ¥å­˜å‚¨æ•°æ®çš„ç©ºé—´ï¼Œè€Œå˜é‡åˆæ˜¯å†…å­˜çš„æ ‡è¯†ã€‚é‚£ä¹ˆè¿™ä¸ªæ•°æ®åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå…¶å®è¿™ä¸ªæ•°æ®æˆ‘ä»¬å¯ä»¥åˆ†ä¸ºä¸¤å¤§ç±»ï¼Œä¸€æ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆå«å€¼ç±»å‹ï¼Œç¬¬äºŒç§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥è¯´è¯´ä¸¤è€…å…·ä½“åŒ…å«é‚£äº›ä¸€ï¼šåŸºæœ¬(å€¼)ç±»å‹ String: ä»»æ„å­—ç¬¦ä¸² Number: ä»»æ„æ•°å­— boolean: true/false undefined: undefined // å·²å£°æ˜æœªèµ‹å€¼ null: null // æ­¤ç±»å‹ä¸€èˆ¬åœ¨åˆå§‹èµ‹å€¼å‰è¡¨æ˜æ¥ä¸‹æ¥èµ‹å€¼ä¸ºå¯¹è±¡å’Œè¿ç®—ç»“æŸåæ”¹ä¸ºåƒåœ¾å¯¹è±¡è¢«æµè§ˆå™¨å†…çš„åƒåœ¾å›æ”¶å™¨å›æ”¶äºŒï¼šå¼•ç”¨(å¯¹è±¡)ç±»å‹ Objectï¼šä»»æ„å¯¹è±¡ç±»å‹ Function: ä¸€ç§ç‰¹æ®Šçš„å¯¹è±¡(å¯æ‰§è¡Œ) Array: ä¸€ç§ç‰¹åˆ«çš„å¯¹è±¡(æ•°å€¼ä¸‹æ ‡çš„é›†åˆ,å†…éƒ¨æ•°æ®æœ‰åºçš„) åˆ¤æ–­æ•°æ®ç±»å‹åŸºæœ¬ç±»å‹çš„åˆ¤æ–­ typeof: è¿”å›æ•°æ®ç±»å‹çš„å­—ç¬¦ä¸²è¡¨è¾¾ \"undefined\"/æ•°å€¼/å­—ç¬¦ä¸²/å¸ƒå°”/function;æ³¨æ„ï¼šæ­¤APIä¸­objectä¸nullä¸èƒ½åŒºåˆ«ã€objectä¸arrayä¸èƒ½åŒºåˆ« instanceof: åˆ¤æ–­å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåˆ¤æ–­Aæ˜¯ä¸æ˜¯æ„é€ å‡½æ•°Bçš„å®ä¾‹ ===ï¼š å¯ä»¥åˆ¤æ–­undefinedã€null å¼•ç”¨æ•°æ®ç±»å‹çš„åˆ¤æ–­12345678910111213141516171819var b1 ={ b2:[1,'abc',console.log], b3:function (){ console.log('b3) return function() { return 'js' } }}console.log(b1 instanceof Object, b1 instanceof Array) //true falseconsole.log(b1.b2 instanceof Array , b1.b2 instanceof Object) //true trueconsole.log(b1.b3 instanceof Function, b1.b2 instanceof Object) //true trueconsole.log(typeof b1.b3 === 'function') //trueconsole.log(typeof b1.b[2] === 'function') //trueconsole.log(b1.b3()) //è¿™é‡Œè¿”å›æˆ‘ä»¬returné‚£ä¸ªå‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å†æ¬¡é€šè¿‡()æ¥è¿›è¡Œè°ƒç”¨console.log(b1.b3()()) //js æœ€åä¸€ä¸ªé¢˜å¤–è¯ï¼šæˆ‘ä»¬å¦‚ä½•åŒºåˆ†æ•°æ®ç±»å‹å’Œå˜é‡ç±»å‹å‘¢ï¼Ÿ","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"æ·±æµ…æ‹·è´","slug":"javascript/copy","date":"2020-04-07T05:14:34.000Z","updated":"2021-03-18T21:44:14.712Z","comments":true,"path":"2020/04/07/javascript/copy/","link":"","permalink":"http://example.com/2020/04/07/javascript/copy/","excerpt":"","text":"å‰è¨€é¦–å…ˆæˆ‘ä»¬çŸ¥é“Javascriptä¸­çš„æ•°æ®æ˜¯åˆ†ä¸ºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹çš„åŸºæœ¬ç±»å‹ï¼šstringã€numberã€nullã€undefinedã€booleanã€symbol(ES6æ–°å¢) å˜é‡å€¼å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼Œå¯ç›´æ¥è®¿é—®å’Œä¿®æ”¹å˜é‡çš„å€¼åŸºæœ¬æ•°æ®ç±»å‹ä¸å­˜åœ¨æ‹·è´ï¼Œå¥½æ¯”å¦‚è¯´ä½ æ— æ³•ä¿®æ”¹æ•°å€¼1çš„å€¼ Object Function RegExp Math Date å€¼ä¸ºå¯¹è±¡ï¼Œå­˜æ”¾åœ¨å †å†…å­˜ä¸­åœ¨æ ˆå†…å­˜ä¸­å˜é‡ä¿å­˜çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å¯¹åº”åœ¨å †å†…å­˜ä¸­çš„åœ°å€ã€‚å½“è®¿é—®å¼•ç”¨ç±»å‹çš„æ—¶å€™ï¼Œè¦å…ˆä»æ ˆä¸­å–å‡ºè¯¥å¯¹è±¡çš„åœ°å€æŒ‡é’ˆï¼Œç„¶åå†ä»å †å†…å­˜ä¸­å–å¾—æ‰€éœ€çš„æ•°æ® æ‰€ä»¥æƒ³è¦æ·±æµ…æ‹·è´è¿™é‡Œæœ‰ä¸€ä¸ªå‰æå°±æ˜¯å¿…é¡»æ˜¯å¼•ç”¨ç±»å‹ æµ…æ‹·è´åŠç®€å•å®ç°æµ…æ‹·è´çš„æ„æ€å°±æ˜¯åªå¤åˆ¶å¼•ç”¨ï¼Œè€Œæœªå¤åˆ¶çœŸæ­£çš„å€¼ã€‚ 123456789101112131415161718var obj = { a:1, b:2}funcion simpClone(){ var cloneObj = {} &lt;!-- å¸¸è§„å¾ªç¯ --&gt; for(var i in obj){ cloneObj[i] = obj[i]; } &lt;!-- Es6å¾ªç¯ --&gt; for (var [] of Object.enteies(obj)){ cloneObj[key] = value } return cloneObj;}console.log(simpleClone(obj)) æ·±æ‹·è´åŠç®€å•å®ç°æ·±æ‹·è´å°±æ˜¯å¯¹ç›®æ ‡çš„å®Œå…¨æ‹·è´ï¼Œä¸åƒæµ…æ‹·è´é‚£æ ·åªæ˜¯å¤åˆ¶äº†ä¸€å±‚å¼•ç”¨ï¼Œå°±è¿å€¼ä¹Ÿéƒ½å¤åˆ¶äº†ã€‚åªè¦è¿›è¡Œäº†æ·±æ‹·è´,é‚£å°±æ˜¯é‡æ–°åœ¨å †ä¸­å¼€è¾Ÿäº†ä¸€å—ç©ºé—´ç»™äºˆæ–°çš„å˜é‡æ¥å­˜æ”¾æ•°æ®ã€‚ç›®å‰å®ç°æ·±æ‹·è´çš„æ–¹æ³•ä¸å¤šï¼Œä¸»è¦æ˜¯ä¸¤ç§ï¼š åˆ©ç”¨ JSON å¯¹è±¡ä¸­çš„ parse å’Œ stringify åˆ©ç”¨é€’å½’æ¥å®ç°æ¯ä¸€å±‚éƒ½é‡æ–°åˆ›å»ºå¯¹è±¡å¹¶èµ‹å€¼ é¦–å…ˆæˆ‘ä»¬åŸç”Ÿé€’å½’ä½¿ç”¨ 1234567891011121314151617181920212223242526272829var obj = { a:1, b:{ c:3, d:{ e:5, f:[1,2,3,4,5,6] } }}funcion deepClone(obj,cloneObj){ var cloneObj = cloneObj || {} for(var i in obj){ if (typeof obj[i] === 'object' &amp;&amp; obj[i] !== null){ cloneObj[i] =Array.isArray(obj[i] )?[] : {} deepClone(obj[i],cloneObj[i]) }else{ cloneObj[i] = obj[i]; } } return cloneObj;}console.log(simpleClone(obj)) åˆ©ç”¨ JSON å¯¹è±¡ä¸­çš„ parse å’Œ stringifyå®ç° 123456function deepClone(obj){ return JSON.oarse(JSON.stringify(obj));} æé—®Arrayçš„sliceå’Œconcatæ–¹æ³•æ˜¯æ·±æ‹·è´è¿˜æ˜¯æµ…æ‹·è´å‘¢? é‚£Object.assign()å‘¢?","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"å‡½æ•°å¼ç¼–ç¨‹çš„æŸ¯é‡ŒåŒ–","slug":"javascript/curry","date":"2020-04-07T05:14:34.000Z","updated":"2021-02-21T15:28:57.952Z","comments":true,"path":"2020/04/07/javascript/curry/","link":"","permalink":"http://example.com/2020/04/07/javascript/curry/","excerpt":"","text":"å‰è¨€ åœ¨èŠå‡½æ•°æŸ¯é‡ŒåŒ–ä¹‹å‰æˆ‘ä»¬è¦çŸ¥é“ä¸€ä¸‹æ¦‚å¿µï¼š ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼Œä»€ä¹ˆæ˜¯å›è°ƒå‡½æ•°ï¼Ÿæˆ‘ä»¬éƒ½çŸ¥é“å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªä½œä¸ºå‚æ•°çš„å‡½æ•°å°±å«åšå›è°ƒå‡½æ•°ã€è€Œä½¿ç”¨è¿™ä¸ªå‚æ•°çš„å‡½æ•°å°±å«åšé«˜é˜¶å‡½æ•° é‚£ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹å‘¢ï¼Ÿé«˜é˜¶å‡½æ•°æ‰§è¡Œçš„æ—¶å€™,æ ¹æ®å›è°ƒå‡½æ•°å†…éƒ¨çš„é€»è¾‘ä¸åŒé«˜é˜¶å‡½æ•°çš„æ‰§è¡Œç»“æœä¹Ÿä¼šæœ‰æ‰€ä¸åŒï¼Œè¿™å°±å«å‡½æ•°å¼ç¼–ç¨‹ æŸ¯é‡ŒåŒ–ä¸Šé¢æˆ‘ä»¬äº†è§£äº†ä»€ä¹ˆæ˜¯å‡½æ•°å¼ç¼–ç¨‹ï¼Œé‚£ä¹ˆå‡½æ•°æŸ¯é‡ŒåŒ–å…¶å®å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ€æƒ³ï¼Œä¹Ÿæ˜¯é«˜é˜¶å‡½æ•°çš„ä¸€ä¸ªé‡è¦åº”ç”¨ã€‚å°±æ˜¯ç»™å‡½æ•°åˆ†æ­¥éª¤ä¼ é€’å‚æ•°ï¼Œæ¯æ¬¡ä¼ é€’éƒ¨åˆ†å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ›´å…·ä½“çš„å‡½æ•°æ¥æ”¶å‰©ä¸‹çš„å‚æ•°ï¼Œè¿™æœŸé—´å¯åµŒå¥—å¤šå±‚è¿™æ ·çš„æ¥æ”¶éƒ¨åˆ†å‚æ•°çš„å‡½æ•°ï¼Œç›´è‡³è¿”å›æœ€åçš„ç»“æœã€‚ 1.ç®€å•çš„æŸ¯é‡ŒåŒ–12345678910111213141516171819// åŸå‡½æ•°function sum(a,b,c){ return a+b+c}// è°ƒç”¨åŸå‡½æ•°sum(1,2,3)// æŸ¯é‡ŒåŒ–å‡½æ•°function sumCurry(a){ return function(b){ return function(c){ return a+b+c } }}// è°ƒç”¨æŸ¯é‡ŒåŒ–å‡½æ•°sumCurry(1)(2)(3) è¿™å°±æ˜¯ä¸€ä¸ªæœ€åŸºæœ¬çš„æŸ¯é‡ŒåŒ–æ‹†åˆ†ï¼Œ æŸ¯é‡ŒåŒ–åçš„å‡½æ•°sumCurryæ¯æ¬¡çš„è¿”å›å€¼éƒ½ä¸ºä¸€ä¸ªå‡½æ•°ï¼Œå¹¶ä½¿ç”¨ä¸‹ä¸€ä¸ªå‚æ•°ä½œä¸ºå½¢å‚ï¼Œç›´åˆ°ä¸‰ä¸ªå‚æ•°éƒ½è¢«ä¼ å…¥åï¼Œåœ¨è¿”å›çš„æœ€åä¸€ä¸ªå‡½æ•°å†…éƒ¨æ‰§è¡Œæ±‚å’Œæ“ä½œï¼Œè¿™å…¶å®åˆ©ç”¨äº†é—­åŒ…çš„ç‰¹æ€§æ¥å®ç°çš„ã€‚ 2.é€šç”¨æŸ¯é‡ŒåŒ–å‡½æ•°ä¸Šé¢çš„æŸ¯é‡ŒåŒ–å‡½æ•°åªæ˜¯æœ€åŸºæœ¬æœ€ç®€å•çš„å‡½æ•°ï¼Œå¹¶æ²¡æœ‰æ¶‰åŠåˆ°é«˜é˜¶å‡½æ•°ï¼Œä¹Ÿæ²¡æœ‰é€šç”¨æ€§ï¼Œé¢å¯¹å½¢å‚ä¸ªæ•°ä¸å®šæˆ–è€…ä¸çŸ¥é“çš„å‡½æ•°æ—¶å°±æŸæ‰‹æ— ç­–äº†ï¼Œé‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°±ç”¨ES6æ¥å°è£…ä¸€ä¸ªé€šç”¨çš„æŸ¯é‡ŒåŒ–è½¬æ¢å‡½æ•° 1234567891011function curry (func){ return function curriedFn(...args){ if( args.length &lt; func.length ){ return function(){ return curriedFn(...args.concat.(Array.from(arguments))) } } return func(...args) }} 3.æ€»ç»“1.å‡½æ•°çš„æŸ¯é‡ŒåŒ–å¯ä»¥è®©æˆ‘ä»¬ç»™ä¸€ä¸ªå‡½æ•°ä¼ é€’è¾ƒå°‘çš„å‚æ•°å¾—åˆ°ä¸€ä¸ªå·²ç»è®°ä½çš„æŸäº›å›ºå®šå‚æ•°çš„æ–°å‡½æ•°2.è¿™æ˜¯ä¸€ç§å¯¹å‡½æ•°å‚æ•°çš„â€™ç¼“å­˜â€™3.è®©å‡½æ•°å˜çš„æ›´çµæ´»ï¼Œè®©å‡½æ•°çš„ç²’åº¦æ›´å°å¯ä»¥æŠŠå¤šå…ƒå‡½æ•°è½¬æ¢ä¸ºä¸€å…ƒå‡½æ•°ï¼Œå¯ä»¥ç»„åˆä½¿ç”¨å‡½æ•°äº§ç”Ÿå¼ºå¤§çš„åŠŸèƒ½","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]},{"title":"é˜²æŠ–èŠ‚æµ","slug":"javascript/debounce","date":"2020-04-06T04:44:34.000Z","updated":"2021-02-21T15:28:27.790Z","comments":true,"path":"2020/04/06/javascript/debounce/","link":"","permalink":"http://example.com/2020/04/06/javascript/debounce/","excerpt":"","text":"é˜²æŠ– debounceåŸç†ï¼šåœ¨äº‹ä»¶è¢«è§¦å‘nç§’åå†æ‰§è¡Œå›è°ƒï¼Œå¦‚æœåœ¨è¿™nç§’å†…åˆè¢«è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶ã€‚é€‚ç”¨åœºæ™¯ï¼šæŒ‰é’®æäº¤åœºæ™¯ï¼šé˜²æ­¢å¤šæ¬¡æäº¤æŒ‰é’®ï¼Œåªæ‰§è¡Œæœ€åæäº¤çš„ä¸€æ¬¡æœç´¢æ¡†è”æƒ³åœºæ™¯ï¼šé˜²æ­¢è”æƒ³å‘é€è¯·æ±‚ï¼Œåªå‘é€æœ€åä¸€æ¬¡è¾“å…¥ 123456789101112function debounce(func, wait) { let timeout; return function () { const context = this; const args = arguments; clearTimeout(timeout) timeout = setTimeout(function(){ func.apply(context, args) }, wait); }} èŠ‚æµ throttleåŸç†ï¼šè§„å®šåœ¨ä¸€ä¸ªå•ä½æ—¶é—´å†…ï¼Œåªèƒ½è§¦å‘ä¸€æ¬¡å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªå•ä½æ—¶é—´å†…è§¦å‘å¤šæ¬¡å‡½æ•°ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆã€‚é€‚ç”¨åœºæ™¯æ‹–æ‹½åœºæ™¯ï¼šå›ºå®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œé˜²æ­¢è¶…é«˜é¢‘æ¬¡è§¦å‘ä½ç½®å˜åŠ¨ç¼©æ”¾åœºæ™¯ï¼šç›‘æ§æµè§ˆå™¨resize å®šæ—¶å™¨ç‰ˆæœ¬123456789101112131415161718192021function throttle(fn, delay) { let hasRun = false; return function () { if (hasRun) { return; } hasRun = true; setTimeout(() =&gt; { hasRun = false; fn.apply(this, arguments); }, delay); } } var mydiv = document.getElementById('mydiv'); let count = 0; function myEvent(){ mydiv.innerText = count++; } mydiv.addEventListener('click', throttle(myEvent,2000)); æ—¶é—´æˆ³ç‰ˆæœ¬1234567891011121314151617let div = document.querySelector('div');var count = 0;function myEvent() { div.innerText = count++;}div.onclick = throttle(myEvent,2000);function throttle(func, wait) { let pre = 0; return function () { let now = new Date().getTime(); if (now - pre &gt; wait) { pre = now; func.apply(this); } }}","categories":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"}],"tags":[]}],"categories":[{"name":"vue","slug":"vue","permalink":"http://example.com/categories/vue/"},{"name":"react","slug":"react","permalink":"http://example.com/categories/react/"},{"name":"HTTP","slug":"HTTP","permalink":"http://example.com/categories/HTTP/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://example.com/categories/JavaScript/"},{"name":"æµè§ˆå™¨","slug":"æµè§ˆå™¨","permalink":"http://example.com/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/"}],"tags":[]}