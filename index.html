
<!DOCTYPE html>
<html lang="en">
    <!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <meta name="author" content="Soliton">
  
  
  
  
  
    <link rel="alternate" href="/atom.xml " title="Soliton&#39;s Blog" type="application/atom+xml">
  

  

  <title>Soliton&#39;s Blog</title>

  

  

  

  <link rel="stylesheet" href="/css/style.css" >
  <link rel="stylesheet" href="/css/partial/dark.css" >

  
  
  

  
    
      <link rel="stylesheet" href="/css/partial/highlight/atom-one-light.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/a2396837/CDN@latest/css/iconfont.css">
    
  

  
    <script src="/js/todark.js"></script>
    
<meta name="generator" content="Hexo 5.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>
</html>
    
<div class="nav index" style="height: 60px;">
    <div class="title animated fadeInDown">
        <div class="layui-container">
                <div class="nav-title"><a href="/" title="Soliton&#39;s Blog">Soliton&#39;s Blog</a></div>
            <div class="nav-list">
                <button> <span class=""></span><span style="display: block;"></span><span class=""></span> </button>
                <ul class="layui-nav" lay-filter="">
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/ ">
                            <i class=" fab fa-fort-awesome " style="color: rgb(255 107 107);"></i>
                            <span class="layui-nav-item-name">é¦–é¡µ</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/archives/ ">
                            <i class=" fas fa-archive " style="color: rgb(10 189 227);"></i>
                            <span class="layui-nav-item-name">å½’æ¡£</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/categories ">
                            <i class=" far fa-folder-open " style="color: rgb(29 209 161);"></i>
                            <span class="layui-nav-item-name">åˆ†ç±»</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/about/ ">
                            <i class=" fab fa-grav " style="color: rgb(154 106 247);"></i>
                            <span class="layui-nav-item-name">å…³äº</span>
                        </a>
                    </li>
                    
                        
                        
                        
                        
                    <li class="layui-nav-item">
                        <a href="/link/ ">
                            <i class=" fab fa-weixin " style="color: hsl(152deg 73% 45%);"></i>
                            <span class="layui-nav-item-name">å‹æƒ…é“¾æ¥</span>
                        </a>
                    </li>
                    
                    
                        <li class="layui-nav-item" id="btn-toggle-dark">ğŸŒ™</li>
                    
                    <span class="layui-nav-bar" style="left: 342px; top: 78px; width: 0px; opacity: 0;"></span>
                </ul>
            </div>
        </div>
    </div>
</div>
    
<header class="header">
        
            <div class="title">
                <a href="/">Soliton&#39;s Blog</a>
            </div>
         
    </div>
     

            <div class="motto">
                <span>æœ‰å¿—è€…ï¼Œäº‹ç«Ÿæˆï¼Œç ´é‡œæ²‰èˆŸï¼Œç™¾äºŒç§¦å…³ç»ˆå±æ¥šï¼›</span>
            </div>
    
     
</header>

    

  <div id="recent-posts">
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2021/04/14/vue/vue3/">Vue3</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2021.04.14"><i class="far fa-calendar-alt"></i> 2021.04.14</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.06.15"><i class="far fa-calendar-check"></i> 2022.06.15</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/vue/">vue</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">1.1k words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">4 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h4 id="vue3æ¯”vue2æœ‰ä»€ä¹ˆä¼˜åŠ¿">vue3æ¯”vue2æœ‰ä»€ä¹ˆä¼˜åŠ¿</h4>
<p>1.æ€§èƒ½æ›´å¥½ã€‚<br>
2.ä½“ç§¯æ›´å°ã€‚<br>
3.æ›´å¥½çš„tsæ”¯æŒã€‚<br>
4.æ›´å¥½çš„ä»£ç ç»„ç»‡ã€‚<br>
5.æ›´å¥½çš„é€»è¾‘æŠ½ç¦»ã€‚<br>
6.æ›´å¤šçš„æ–°åŠŸèƒ½ã€‚</p>
<h4 id="vue3ç”Ÿå‘½å‘¨æœŸ">vue3ç”Ÿå‘½å‘¨æœŸ</h4>
<h5 id="1-options-APIç”Ÿå‘½å‘¨æœŸ">1.options APIç”Ÿå‘½å‘¨æœŸ</h5>
<p>beforeDestoryæ”¹ä¸ºbeforeUnmount<br>
destroyedæ”¹ä¸ºunmouted<br>
å…¶ä»–æ²¿ç”¨Vue2çš„ç”Ÿå‘½å‘¨æœŸ</p>
<h5 id="2-Composition-APIç”Ÿå‘½å‘¨æœŸ">2.Composition APIç”Ÿå‘½å‘¨æœŸ</h5>
<p>setupç›¸å½“äºbeforeCreateå’Œcreated<br>
onBeforeMountã€onMoutedã€onBeforeUpateã€onUpatedã€onbeforeUnmountã€onUnmouted</p>
<h4 id="å¦‚ä½•ç†è§£options-APIä¸Composition-APIï¼Ÿ">å¦‚ä½•ç†è§£options APIä¸Composition APIï¼Ÿ</h4>
<p>Composition APIç‰¹ç‚¹<br>
1.æ›´å¥½çš„ä»£ç ç»„ç»‡<br>
2.æ›´å¥½çš„é€»è¾‘å¤ç”¨<br>
3.æ›´å¥½çš„ç±»å‹æ¨å¯¼</p>
<h4 id="å¦‚ä½•ç†è§£ref-toRefå’ŒtoRefs">å¦‚ä½•ç†è§£ref toRefå’ŒtoRefs</h4>
<h5 id="ref">ref</h5>
<p>ç»™å®šnullå€¼åå¯è·åº¦domèŠ‚ç‚¹<br>
ç”Ÿæˆå€¼ç±»å‹çš„å“åº”æ•°æ®ï¼Œreactiveåšå¯¹è±¡çš„å“åº”å¼<br>
å¯ç”¨äºæ¨¡æ¿å’Œreactive<br>
é€šè¿‡.valueä¿®æ”¹å€¼(åŸå› ï¼š<br>
1.refä¸ºäº†ä¸ä¸¢å¤±å“åº”å¼æ‰€ä»¥æ˜¯ä¸ªå¯¹è±¡ï¼Œé€šè¿‡valueæ¥å­˜å‚¨å€¼ã€‚<br>
2.é€šè¿‡.valueå±æ€§çš„getå’Œsetå®ç°å“åº”å¼ã€‚<br>
3.ç”¨äºæ¨¡æ¿ã€reactiveæ—¶ï¼Œä¸éœ€è¦.valueï¼Œå…¶ä»–æƒ…å†µéƒ½éœ€è¦<br>
)</p>
<p>ä¸ºä»€ä¹ˆéœ€è¦refï¼Ÿ<br>
1.è¿”å›å€¼ç±»å‹ï¼Œä¼šä¸¢å¤±å“åº”å¼<br>
2.åœ¨setupã€computedã€åˆæˆå‡½æ•°ä¸­éƒ½æœ‰å¯èƒ½è¿”å›å€¼ç±»å‹<br>
3.vueå¦‚ä¸å®šä¹‰refï¼Œç”¨æˆ·å°†ä¼šè‡ªé€ refï¼Œåè€Œæ··ä¹±</p>
<h5 id="toRef">toRef</h5>
<p>é’ˆå¯¹ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼ˆreactiveå°è£…ï¼‰çš„prop<br>
åˆ›å»ºä¸€ä¸ªrefï¼Œå…·æœ‰å“åº”å¼<br>
ä¸¤è€…ä¿æŒå¼•ç”¨å…³ç³»<br>
å¦‚æœç”¨äºæ™®é€šå¯¹è±¡ï¼Œäº§å‡ºçš„ç»“æœä¸å…·å¤‡å“åº”å¼</p>
<h5 id="toRefs">toRefs</h5>
<p>å°†å“åº”å¼å¯¹è±¡ï¼ˆreactiveï¼‰è½¬æ¢æˆæ™®é€šå¯¹è±¡<br>
å¯¹è±¡çš„æ¯ä¸€ä¸ªpropéƒ½æ˜¯å¯¹åº”çš„ref<br>
ä¸¤è€…ä¿æŒå¼•ç”¨å…³ç³»<br>
åˆæˆå‡½æ•°ä¸­ä½¿ç”¨toRefsè¿”å›æ•°æ®ï¼Œè¿™æ ·å¯ä»¥åœ¨ä¸å¤±å»å“åº”æ€§çš„æƒ…å†µä¸‹ç ´åç»“æ„</p>
<h5 id="ä¸ºä»€ä¹ˆéœ€è¦toRefå’ŒtoRefs">ä¸ºä»€ä¹ˆéœ€è¦toRefå’ŒtoRefs</h5>
<p>1.åˆè¡·ï¼šåœ¨ä¸ä¸¢å¤±å“åº”å¼çš„æƒ…å†µä¸‹ï¼ŒæŠŠå¯¹è±¡æ•°æ®åˆ†è§£/æ‰©æ•£<br>
2.å‰æï¼šé’ˆå¯¹å“åº”å¼å¯¹è±¡ï¼ˆreactiveå°è£…çš„ï¼‰éæ™®é€šå¯¹è±¡<br>
3.æ³¨æ„ï¼šä¸æ˜¯åˆ›å»ºå“åº”å¼ï¼Œè€Œæ˜¯å»¶ç»­å“åº”å¼</p>
<h4 id="vue3å‡çº§äº†å“ªäº›é‡è¦åŠŸèƒ½">vue3å‡çº§äº†å“ªäº›é‡è¦åŠŸèƒ½</h4>
<p>1.createApp<br>
2.emitså±æ€§<br>
3.ç”Ÿå‘½å‘¨æœŸ<br>
4.å¤šäº‹ä»¶<br>
5.fragment<br>
6.ç§»é™¤.sync<br>
7.å¼‚æ­¥ç»„ä»¶å†™æ³•<br>
8.ç§»é™¤filter<br>
9.Teleport<br>
10.Suspense<br>
11.Composition API</p>
<h4 id="Composition-APIå¦‚ä½•å®ç°é€»è¾‘å¤ç”¨">Composition APIå¦‚ä½•å®ç°é€»è¾‘å¤ç”¨</h4>
<p>1.æŠ½ç¦»é€»è¾‘ä»£ç åˆ°ä¸€ä¸ªå‡½æ•°<br>
2.å‡½æ•°å‘½åçº¦å®šuseå¼€å¤´<br>
3.åœ¨setupä¸­å¼•ç”¨useå‡½æ•°</p>
<h4 id="Vue3çš„å“åº”å¼åŸç†">Vue3çš„å“åº”å¼åŸç†</h4>
<h5 id="Vue2çš„Object-definepropertyçš„ç¼ºç‚¹">Vue2çš„Object.definepropertyçš„ç¼ºç‚¹</h5>
<p>1.æ·±åº¦ç›‘å¬éœ€è¦ä¸€æ¬¡æ€§é€’å½’ã€‚ï¼ˆå¦‚æœdataå±‚çº§è¾ƒæ·±çš„æ—¶å€™ä¼šå¡åœ¨è¿™é‡ŒçŸ¥é“é€’å½’å®Œæˆï¼‰<br>
2.æ— æ³•ç›‘å¬æ–°å¢å±æ€§/åˆ é™¤å±æ€§ï¼ˆå¯ä»¥é€šè¿‡Vue.set   Vue.delete è§£å†³ ï¼‰<br>
3.æ— æ³•åŸç”Ÿç›‘å¬æ•°ç»„ï¼Œéœ€è¦ç‰¹æ®Šå¤„ç†</p>
<h5 id="Vue3å“åº”å¼Proxy-Reflect">Vue3å“åº”å¼Proxy+Reflect</h5>
<h5 id="Proxy-ReflectåŸºæœ¬ä½¿ç”¨">Proxy+ReflectåŸºæœ¬ä½¿ç”¨</h5>
<p>Reflectä¸Proxyä¸€ä¸€å¯¹åº”<br>
æ ‡å‡†åŒ–ã€è§„èŒƒåŒ–ã€å‡½æ•°å¼<br>
ä»£æ›¿Objectä¸Šçš„å·¥å…·å‡½æ•°</p>
<h5 id="å®ç°å“åº”å¼">å®ç°å“åº”å¼</h5>
<p>Reflect.ownKeys()æ£€æµ‹æ˜¯åŸæœ‰keyå€¼è¿˜æ˜¯æ–°å¢keyå€¼</p>
<h4 id="watchå’ŒwatchEffectåŒºåˆ«">watchå’ŒwatchEffectåŒºåˆ«</h4>
<p>ä¸¤è€…éƒ½å¯ä»¥ç›‘å¬å±æ€§å˜åŒ–<br>
watchéœ€è¦æ˜ç¡®ç›‘å¬å“ªä¸ªå±æ€§<br>
watchEffectä¼šæ ¹æ®å…¶ä¸­çš„å±æ€§ï¼Œè‡ªåŠ¨ç›‘å¬å…¶å˜åŒ–ï¼ˆåˆå§‹åŒ–æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡ï¼Œæ”¶é›†ç›‘å¬çš„æ•°æ®ï¼Œç›´æ¥ç›‘å¬æ“ä½œå³å¯ï¼‰</p>
<h4 id="setupä¸­å¦‚ä½•è·å–ç»„ä»¶å®ä¾‹">setupä¸­å¦‚ä½•è·å–ç»„ä»¶å®ä¾‹</h4>
<p>åœ¨setupå’ŒComposition APIä¸­æ˜¯æ²¡æœ‰thisçš„<br>
å¯é€šè¿‡getCurrentInstanceè·å–å½“å‰å®ä¾‹<br>
å¦‚æœæ˜¯ä½¿ç”¨Oprions APIå¯ç…§å¸¸ä½¿ç”¨this</p>
<h4 id="vue3ä¸ºä»€ä¹ˆæ¯”vue2å¿«">vue3ä¸ºä»€ä¹ˆæ¯”vue2å¿«</h4>
<p>1.proxyå“åº”å¼<br>
2.PatchFlagï¼ˆç¼–è¯‘æ¨¡æ¿æ—¶ï¼ŒåŠ¨æ€èŠ‚ç‚¹åšæ ‡è®°ï¼Œdiffç®—æ³•æ—¶ï¼Œå¯ä»¥åŒºåˆ†é™æ€èŠ‚ç‚¹ï¼Œä»¥åŠä¸åŒç±»å‹çš„åŠ¨æ€èŠ‚ç‚¹ï¼‰<br>
3.hoistStaticï¼ˆå°†é™æ€èŠ‚ç‚¹çš„å®šä¹‰æå‡åˆ°çˆ¶ä½œç”¨åŸŸï¼Œç¼“å­˜èµ·æ¥ã€‚å¤šä¸ªç›¸é‚»çš„é™æ€èŠ‚ç‚¹ä¼šè¢«åˆå¹¶ï¼Œå…¸å‹çš„æ‹¿ç©ºé—´æ¢æ—¶é—´çš„ä¼˜åŒ–ç­–ç•¥ï¼‰<br>
4.cacheHandlerï¼ˆç¼“å­˜äº‹ä»¶ï¼‰<br>
5.SSRä¼˜åŒ–ï¼ˆé™æ€èŠ‚ç‚¹è¾“å‡ºç›´æ¥è¾“å‡ºï¼Œç»•è¿‡vdomï¼ŒåŠ¨æ€èŠ‚ç‚¹è¿˜æ˜¯éœ€è¦åŠ¨æ€æ¸²æŸ“ï¼‰<br>
6.tree-shakingï¼ˆæ ¹æ®ä¸åŒå¼•å…¥ä¸åŒçš„APIï¼Œéœ€è¦ä»€ä¹ˆå¼•å…¥ä»€ä¹ˆï¼‰</p>
<h4 id="ä»€ä¹ˆæ˜¯Vite">ä»€ä¹ˆæ˜¯Vite</h4>
<p>ä¸€ä¸ªå‰ç«¯æ‰“åŒ…å·¥å…·<br>
ä¼˜åŠ¿ï¼šå¼€å‘ç¯å¢ƒä¸‹æ— éœ€æ‰“åŒ…ï¼Œå¯åŠ¨å¿«ï¼ˆå¼€å‘ç¯å¢ƒä½¿ç”¨ES6 Module,æ— éœ€æ‰“åŒ…ï¼Œéå¸¸å¿«ã€‚ç”Ÿäº§ç¯å¢ƒä½¿ç”¨rollupï¼Œå¹¶ä¸ä¼šå¿«å¾ˆå¤šã€‚ï¼‰</p>
<h4 id="Composition-APIä¸React-Hookså¯¹æ¯”">Composition APIä¸React Hookså¯¹æ¯”</h4>
<p>å‰è€…setupåªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè€Œåè€…å‡½æ•°ä¼šè¢«å¤šæ¬¡è°ƒç”¨<br>
å‰è€…æ— éœ€useMenoã€useCallback,å› ä¸ºsetupåªè°ƒç”¨ä¸€æ¬¡<br>
å‰è€…æ— éœ€é¡¾è™‘è°ƒç”¨é¡ºåºï¼Œåè€…è¦ä¿è¯react hooksçš„é¡ºåºä¸€è‡´</p>
<p>å‰è€…reactive+refæ¯”åè€…useState,è¦æ›´éš¾ç†è§£</p>
<h4 id="JSXä¸templateè¯­æ³•åŒºåˆ«">JSXä¸templateè¯­æ³•åŒºåˆ«</h4>
<p>jsxæœ¬è´¨å°±æ˜¯jsä»£ç ï¼Œå¯ä»¥ä½¿ç”¨jsçš„ä»»ä½•èƒ½åŠ›<br>
templateåªæ˜¯åµŒå…¥ç®€å•çš„jsè¡¨è¾¾å¼ï¼Œå…¶ä»–éœ€è¦æŒ‡ä»¤ï¼Œå¦‚v-if<br>
jsxå·²ç»æˆä¸ºESè§„èŒƒï¼Œtemplateè¿˜æ˜¯vueè‡ªå®¶è§„èŒƒ</p>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2021/02/16/hello-world/">ä½ å¥½ï¼Œå¾ˆè£å¹¸æ‚¨èƒ½æ¥åˆ°æˆ‘çš„åšå®¢ï¼</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2021.02.16"><i class="far fa-calendar-alt"></i> 2021.02.16</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2021.02.16"><i class="far fa-calendar-check"></i> 2021.02.16</span>
              </div>
             
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">109 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">1 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <p>æ­¤åšå®¢ä¸ºæœ¬äººè¿‘æœŸæ‰æ­£å¼ä¸Šä¼ ï¼Œæ­¤å‰ä¸€ç›´æ”¾åœ¨æœ¬åœ°(åˆ«é—®ä¸ºä»€ä¹ˆï¼Œé—®å°±æ˜¯å®³æ€•è¢«å¤§ä½¬ç¬‘è¯)ï¼Œä¸­é€”å› ä¸ºä¸ªäººåŸå› å’Œå·¥ä½œç¹å¿™ä¸€ç›´æœªèƒ½ä¸Šçº¿ï¼Œé€¢æ­¤æ˜¥èŠ‚ä¸ƒå¤©ç•™æ²ªè¿‡å¹´çš„æ—¶é—´ï¼Œç»è¿‡æ¿€çƒˆçš„æ€æƒ³æ–—äº‰ï¼Œæœ€ç»ˆè¿˜æ˜¯ä¸Šæ¥äº†ï¼Œæœ›å¤§ä½¬è½»å–·~ï¼Œæœ‰é”™è¯¯çš„åœ°æ–¹è¿˜è¯·åŠ¡å¿…æé†’ç¬”è€…æ”¹æ­£ï¼Œä¸‡åˆ†æ„Ÿè°¢ï¼</p>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/10/06/react/index/">React åŸºç¡€çŸ¥è¯†åŠéƒ¨åˆ†è€ƒç‚¹</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.10.06"><i class="far fa-calendar-alt"></i> 2020.10.06</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.04.11"><i class="far fa-calendar-check"></i> 2022.04.11</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/react/">react</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">404 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">1 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h4 id="React-ä¸ºä»€ä¹ˆè¦bind-this">React ä¸ºä»€ä¹ˆè¦bind this</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// Reactä¸­thisé»˜è®¤æ˜¯undefined</span><br><span class="line">// ä½¿ç”¨é™æ€æ–¹æ³•å®šä¹‰åˆ™ä¸éœ€è¦ç»‘å®šthis</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 1. event æ˜¯ SyntheticEvent ï¼Œæ¨¡æ‹Ÿå‡ºæ¥ DOM äº‹ä»¶æ‰€æœ‰èƒ½åŠ›</span><br><span class="line">// 2. event.nativeEvent æ˜¯åŸç”Ÿäº‹ä»¶å¯¹è±¡</span><br><span class="line">// 3. æ‰€æœ‰çš„äº‹ä»¶ï¼Œéƒ½è¢«æŒ‚è½½åˆ° document ä¸Š (æ³¨æ„ï¼š17ä¹‹åæ˜¯ç»‘å®šåœ¨rootèŠ‚ç‚¹ä¸Šï¼Œæ˜¯å› ä¸ºè§£å†³å¤šä¸ªç‰ˆæœ¬å¹¶å­˜å†²çªçš„é—®é¢˜)</span><br><span class="line">// 4. å’Œ DOM äº‹ä»¶ä¸ä¸€æ ·ï¼Œå’Œ Vue äº‹ä»¶ä¹Ÿä¸ä¸€æ ·</span><br></pre></td></tr></tbody></table></figure>
<h4 id="React-setStateä¸ºä»€ä¹ˆä½¿ç”¨ä¸å¯å˜å€¼">React setStateä¸ºä»€ä¹ˆä½¿ç”¨ä¸å¯å˜å€¼</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// ç‰¹ç‚¹</span><br><span class="line">// 1.ä¸å¯å˜å€¼</span><br><span class="line">// 2.å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°ï¼Œ(ç›´æ¥ä½¿ç”¨æ˜¯å¼‚æ­¥çš„ï¼Œåœ¨setTimeoutå’Œè‡ªå®šä¹‰äº‹ä»¶ä¸­æ˜¯åŒæ­¥çš„)</span><br><span class="line">// 3.å¯èƒ½ä¼šè¢«åˆå¹¶ï¼ˆä¼ å…¥å¯¹è±¡åˆå¹¶è®¡ç®—ï¼Œä¼ å…¥å‡½æ•°ä¸ä¼šåˆå¹¶è®¡ç®—ï¼‰</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«">å—æ§ç»„ä»¶å’Œéå—æ§ç»„ä»¶åŒºåˆ«</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//éå—æ§ç»„ä»¶</span><br><span class="line">// å¿…é¡»æ‰‹åŠ¨æ“ä½œDOMï¼ŒsetStateå®ç°ä¸äº†ï¼ˆä¾‹å¦‚ï¼šæ–‡ä»¶ä¸Šä¼ ï¼ŒæŸäº›å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰</span><br><span class="line"></span><br><span class="line">//å—æ§ç»„ä»¶</span><br><span class="line">// å¯ä»¥ä½¿ç”¨setStateæ“ä½œ</span><br><span class="line"></span><br><span class="line">//ä¸¤è€…é€‰æ‹©</span><br><span class="line">// ä¼˜å…ˆä½¿ç”¨éå—æ§ç»„ä»¶ï¼Œå› ä¸ºç¬¦åˆReactè®¾è®¡åŸåˆ™</span><br><span class="line">// å¿…é¡»æ“ä½œDOMæ—¶ï¼Œåˆ™ä½¿ç”¨éå—æ§ç»„ä»¶</span><br></pre></td></tr></tbody></table></figure>
<h4 id="ä»€ä¹ˆæ˜¯React-Portals">ä»€ä¹ˆæ˜¯React Portals</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// å°†ç›®æ ‡å¯¹è±¡æ¸²æŸ“åˆ°å¤–å±‚DOM</span><br><span class="line">// ä¾‹å¦‚</span><br><span class="line">// ä½¿ç”¨ Portals æ¸²æŸ“åˆ° body ä¸Šã€‚</span><br><span class="line">//       // fixed å…ƒç´ è¦æ”¾åœ¨ body ä¸Šï¼Œæœ‰æ›´å¥½çš„æµè§ˆå™¨å…¼å®¹æ€§ã€‚</span><br><span class="line">//        return ReactDOM.createPortal(</span><br><span class="line">//            &lt;div className="modal"&gt;{this.props.children}&lt;/div&gt;,</span><br><span class="line">//            document.body // DOM èŠ‚ç‚¹</span><br><span class="line">//       )</span><br><span class="line"></span><br><span class="line">//ä½¿ç”¨åœºæ™¯ï¼šoverflowï¼šhiddenã€çˆ¶ç»„ä»¶z-indexå¤ªå°ã€positionï¼šfixed</span><br></pre></td></tr></tbody></table></figure>
<h4 id="ä»€ä¹ˆæ˜¯context">ä»€ä¹ˆæ˜¯context</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//  å…¬å…±ä¿¡æ¯å¦‚ä½•ä¼ é€’ç»™æ¯ä¸ªç»„ä»¶ï¼Ÿpropsä¼ é€’å¤ªç¹çï¼Ÿreduxå¤ªå°é¢˜å¤§åšï¼Ÿ</span><br></pre></td></tr></tbody></table></figure>
<h4 id="shouldComponentUpdate">shouldComponentUpdate</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Reactä¸­é»˜è®¤æƒ…å†µä¸‹ï¼Œçˆ¶ç»„ä»¶æ›´æ–°ï¼Œå­ç»„ä»¶æ— æ¡ä»¶æ›´æ–°</span><br></pre></td></tr></tbody></table></figure>
             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/06/11/javascript/code/">æ·±æµ…æ‹·è´</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.06.11"><i class="far fa-calendar-alt"></i> 2020.06.11</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.04.09"><i class="far fa-calendar-check"></i> 2022.04.09</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/JavaScript/">JavaScript</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">870 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">4 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="å‰è¨€">å‰è¨€</h3>
<p>æœ¬èŠ‚å†…å®¹æˆ‘ä¸“é—¨ç”¨äºè®°å½•è‡ªå·±é¢è¯•æ—¶é‡åˆ°è¿‡çš„ä¸€äº›æ‰‹å†™ä»£ç é¢˜ï¼Œä»¥ç”¨äºåé¢å¤ä¹ ï¼Œè¦æ³¨æ„ä¸‰ç‚¹ï¼š<br>
1.è§„èŒƒæ€§ã€‚2.å®Œæ•´æ€§ã€‚3.é²æ£’æ€§ã€‚</p>
<h4 id="1-æ‰‹å†™JSå‡½æ•°ï¼Œå®ç°æ•°ç»„æ‰å¹³åŒ–">1.æ‰‹å†™JSå‡½æ•°ï¼Œå®ç°æ•°ç»„æ‰å¹³åŒ–</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">// è¦æ±‚ </span><br><span class="line">// 1.å®ç°ä¸€ä¸ªjå‡½æ•°ï¼Œå®ç°æ•°ç»„æ‰å¹³åŒ–ï¼Œå‡å°‘æ‰€æœ‰å±‚çº§åµŒå¥—ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ•°ç»„æ·±åº¦æ‰å¹³åŒ–ï¼Œä½¿ç”¨ push</span><br><span class="line"> * @param arr arr</span><br><span class="line"> */</span><br><span class="line">export function flattenDeep1(arr: any[]): any[] {</span><br><span class="line">    const res: any[] = []</span><br><span class="line"></span><br><span class="line">    arr.forEach(item =&gt; {</span><br><span class="line">        if (Array.isArray(item)) {</span><br><span class="line">            const flatItem = flattenDeep1(item) // é€’å½’</span><br><span class="line">            flatItem.forEach(n =&gt; res.push(n))</span><br><span class="line">        } else {</span><br><span class="line">            res.push(item)</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    return res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ•°ç»„æ·±åº¦æ‰å¹³åŒ–ï¼Œä½¿ç”¨ concat</span><br><span class="line"> * @param arr arr</span><br><span class="line"> */</span><br><span class="line">export function flattenDeep2(arr: any[]): any[] {</span><br><span class="line">    let res: any[] = []</span><br><span class="line"></span><br><span class="line">    arr.forEach(item =&gt; {</span><br><span class="line">        if (Array.isArray(item)) {</span><br><span class="line">            const flatItem = flattenDeep2(item) // é€’å½’</span><br><span class="line">            res = res.concat(flatItem)</span><br><span class="line">        } else {</span><br><span class="line">            res = res.concat(item)</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    return res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">// 2.å®ç°ä¸€ä¸ªjå‡½æ•°ï¼Œå®ç°æ•°ç»„æ‰å¹³åŒ–ï¼Œåªå‡å°‘ä¸€çº§åµŒå¥—  ä¾‹å¦‚[1,[2,[3]],4]-&gt;[1,2,[3],4]</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ•°ç»„æ‰å¹³åŒ–ï¼Œä½¿ç”¨ push</span><br><span class="line"> * @param arr arr</span><br><span class="line"> */</span><br><span class="line">export function flatten1(arr: any[]): any[] {</span><br><span class="line">    const res: any[] = []</span><br><span class="line"></span><br><span class="line">    arr.forEach(item =&gt; {</span><br><span class="line">        if (Array.isArray(item)) {</span><br><span class="line">            item.forEach(n =&gt; res.push(n))</span><br><span class="line">        } else {</span><br><span class="line">            res.push(item)</span><br><span class="line">        }</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    return res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ•°ç»„æ‰å¹³åŒ–ï¼Œä½¿ç”¨ concat</span><br><span class="line"> * @param arr arr</span><br><span class="line"> */</span><br><span class="line">export function flatten2(arr: any[]): any[] {</span><br><span class="line">    let res: any[] = []</span><br><span class="line"></span><br><span class="line">    arr.forEach(item =&gt; {</span><br><span class="line">        res = res.concat(item)</span><br><span class="line">    })</span><br><span class="line"></span><br><span class="line">    return res</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="æ‰‹å†™getTypeå‡½æ•°ä¼ å…¥ä»»æ„å˜é‡ï¼Œå‡†ç¡®è·å–æ•°æ®ç±»å‹">æ‰‹å†™getTypeå‡½æ•°ä¼ å…¥ä»»æ„å˜é‡ï¼Œå‡†ç¡®è·å–æ•°æ®ç±»å‹</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// å¸¸è§çš„ç±»å‹åˆ¤æ–­</span><br><span class="line">// typeof åˆ¤æ–­å€¼ç±»å‹ï¼Œæ— æ³•åˆ¤æ–­functionå’Œobject</span><br><span class="line">// instanceof éœ€è¦ä¸¤ä¸ªå‚æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè€Œä¸æ˜¯è·å–ç±»å‹ </span><br><span class="line"></span><br><span class="line">export function getType(x: any): string {</span><br><span class="line">    const originType = Object.prototype.toString.call(x) // '[object String]'</span><br><span class="line">    const spaceIndex = originType.indexOf(' ')</span><br><span class="line">    const type = originType.slice(spaceIndex + 1, -1) // 'String'</span><br><span class="line">    return type.toLowerCase() // 'string'</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="newä¸€ä¸ªå¯¹è±¡-çš„è¿‡ç¨‹ï¼Œæ‰‹å†™ä»£ç å®ç°ï¼Ÿ">newä¸€ä¸ªå¯¹è±¡ çš„è¿‡ç¨‹ï¼Œæ‰‹å†™ä»£ç å®ç°ï¼Ÿ</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// æ­¥éª¤1:åˆ›å»º1ä¸ªç©ºå¯¹è±¡ï¼Œç»§æ‰¿æ„é€ å‡½æ•°çš„åŸå‹</span><br><span class="line">// æ­¥éª¤2:æ‰§è¡Œæ„é€ å‡½æ•°ï¼ˆå°†objä½œä¸ºthisï¼‰</span><br><span class="line">// æ­¥éª¤3:è¿”å›obj</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export function customNew&lt;T&gt;(constructor: Function, ...args: any[]): T {</span><br><span class="line">    // 1. åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œç»§æ‰¿ constructor çš„åŸå‹</span><br><span class="line">    const obj = Object.create(constructor.prototype)</span><br><span class="line">    // 2. å°† obj ä½œä¸º this ï¼Œæ‰§è¡Œ constructor ï¼Œä¼ å…¥å‚æ•°</span><br><span class="line">    constructor.apply(obj, args)</span><br><span class="line">    // 3. è¿”å› obj</span><br><span class="line">    return obj</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="æ·±åº¦éå†ä¸€ä¸ªDOMæ ‘">æ·±åº¦éå†ä¸€ä¸ªDOMæ ‘</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * è®¿é—®èŠ‚ç‚¹</span><br><span class="line"> * @param n node</span><br><span class="line"> */</span><br><span class="line">function visitNode(n: Node) {</span><br><span class="line">    if (n instanceof Comment) {</span><br><span class="line">        // æ³¨é‡Š</span><br><span class="line">        console.info('Comment node ---', n.textContent)</span><br><span class="line">    }</span><br><span class="line">    if (n instanceof Text) {</span><br><span class="line">        // æ–‡æœ¬</span><br><span class="line">        const t = n.textContent?.trim()</span><br><span class="line">        if (t) {</span><br><span class="line">            console.info('Text node ---', t)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    if (n instanceof HTMLElement) {</span><br><span class="line">        // element</span><br><span class="line">        console.info('Element node ---', `&lt;${n.tagName.toLowerCase()}&gt;`)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ·±åº¦ä¼˜å…ˆéå†</span><br><span class="line"> * @param root dom node</span><br><span class="line"> */</span><br><span class="line">function depthFirstTraverse1(root: Node) {</span><br><span class="line">    visitNode(root)</span><br><span class="line"></span><br><span class="line">    const childNodes = root.childNodes // .childNodes å’Œ .children ä¸ä¸€æ ·</span><br><span class="line">    if (childNodes.length) {</span><br><span class="line">        childNodes.forEach(child =&gt; {</span><br><span class="line">            depthFirstTraverse1(child) // é€’å½’</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * æ·±åº¦ä¼˜å…ˆéå†</span><br><span class="line"> * @param root dom node</span><br><span class="line"> */</span><br><span class="line"> function depthFirstTraverse2(root: Node) {</span><br><span class="line">     const stack: Node[] = []</span><br><span class="line"></span><br><span class="line">     // æ ¹èŠ‚ç‚¹å‹æ ˆ</span><br><span class="line">     stack.push(root)</span><br><span class="line"></span><br><span class="line">     while (stack.length &gt; 0) {</span><br><span class="line">         const curNode = stack.pop() // å‡ºæ ˆ</span><br><span class="line">         if (curNode == null) break</span><br><span class="line"></span><br><span class="line">         visitNode(curNode)</span><br><span class="line"></span><br><span class="line">         // å­èŠ‚ç‚¹å‹æ ˆ</span><br><span class="line">         const childNodes = curNode.childNodes</span><br><span class="line">         if (childNodes.length &gt; 0) {</span><br><span class="line">             // reverse åé¡ºåºå‹æ ˆ</span><br><span class="line">             Array.from(childNodes).reverse().forEach(child =&gt; stack.push(child))</span><br><span class="line">         }</span><br><span class="line">     }</span><br><span class="line"> }</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * å¹¿åº¦ä¼˜å…ˆéå†</span><br><span class="line"> * @param root dom node</span><br><span class="line"> */</span><br><span class="line">function breadthFirstTraverse(root: Node) {</span><br><span class="line">    const queue: Node[] = [] // æ•°ç»„ vs é“¾è¡¨</span><br><span class="line"></span><br><span class="line">    // æ ¹èŠ‚ç‚¹å…¥é˜Ÿåˆ—</span><br><span class="line">    queue.unshift(root)</span><br><span class="line"></span><br><span class="line">    while (queue.length &gt; 0) {</span><br><span class="line">        const curNode = queue.pop()</span><br><span class="line">        if (curNode == null) break</span><br><span class="line"></span><br><span class="line">        visitNode(curNode)</span><br><span class="line"></span><br><span class="line">        // å­èŠ‚ç‚¹å…¥é˜Ÿ</span><br><span class="line">        const childNodes = curNode.childNodes</span><br><span class="line">        if (childNodes.length) {</span><br><span class="line">            childNodes.forEach(child =&gt; queue.unshift(child))</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h4 id="æ‰‹å†™lazyMan-æ”¯æŒsleepæ–¹æ³•">æ‰‹å†™lazyMan,æ”¯æŒsleepæ–¹æ³•</h4>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">class LazyMan {</span><br><span class="line">    private name: string</span><br><span class="line">    private tasks: Function[] = [] // ä»»åŠ¡åˆ—è¡¨</span><br><span class="line"></span><br><span class="line">    constructor(name: string) {</span><br><span class="line">        this.name = name</span><br><span class="line"></span><br><span class="line">        setTimeout(() =&gt; {</span><br><span class="line">            this.next()</span><br><span class="line">        })</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    private next() {</span><br><span class="line">        const task = this.tasks.shift() // å–å‡ºå½“å‰ tasks çš„ç¬¬ä¸€ä¸ªä»»åŠ¡</span><br><span class="line">        if (task) task()</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    eat(food: string) {</span><br><span class="line">        const task = () =&gt; {</span><br><span class="line">            console.info(`${this.name} eat ${food}`)</span><br><span class="line">            this.next() // ç«‹åˆ»æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</span><br><span class="line">        }</span><br><span class="line">        this.tasks.push(task)</span><br><span class="line"></span><br><span class="line">        return this // é“¾å¼è°ƒç”¨</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    sleep(seconds: number) {</span><br><span class="line">        const task = () =&gt; {</span><br><span class="line">            console.info(`${this.name} å¼€å§‹ç¡è§‰`)</span><br><span class="line">            setTimeout(() =&gt; {</span><br><span class="line">                console.info(`${this.name} å·²ç»ç¡å®Œäº† ${seconds}sï¼Œå¼€å§‹æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡`)</span><br><span class="line">                this.next() // xx ç§’ä¹‹åå†æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</span><br><span class="line">            }, seconds * 1000)</span><br><span class="line">        }</span><br><span class="line">        this.tasks.push(task)</span><br><span class="line"></span><br><span class="line">        return this // é“¾å¼è°ƒç”¨</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/14/vue/vue/">Vueä¸­computedä¸watchåŒºåˆ«</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.14"><i class="far fa-calendar-alt"></i> 2020.04.14</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.04.08"><i class="far fa-calendar-check"></i> 2022.04.08</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/vue/">vue</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">31 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">1 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h1 id="ç”¨é€”ä¸åŒ"><a href="#ç”¨é€”ä¸åŒ" class="headerlink" title="ç”¨é€”ä¸åŒ"></a>ç”¨é€”ä¸åŒ</h1><p>computedç”¨äºè®¡ç®—äº§ç”Ÿæ–°çš„æ•°æ®,æœ‰ç¼“å­˜ï¼Œmethodæ²¡æœ‰ç¼“å­˜<br>watchç”¨äºç›‘å¬ç°æœ‰æ•°æ®</p>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/14/vue/vuex/">vuex</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.14"><i class="far fa-calendar-alt"></i> 2020.04.14</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2021.03.12"><i class="far fa-calendar-check"></i> 2021.03.12</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/vue/">vue</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">676 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">2 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>è¿‘æœŸä¸ºäº†å‡ºå»é¢è¯•çœ‹çœ‹ï¼Œæ€»ç»“äº†ä¸‹è‡ªå·±å­¦çš„ä¸œè¥¿ä¼šï¼Œçªç„¶å‘ç°è‡ªå·±æœ‰ä¸€éƒ¨åˆ†ä¸œè¥¿åªåœç•™åœ¨ä¼šç”¨çš„é˜¶æ®µï¼Œæ²¡æœ‰æ€ä¹ˆäº†è§£è¿‡ä»–çš„å®ç°ï¼Œæ‰€ä»¥å°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œå¦‚æœ‰é—®é¢˜è¿˜è¯·åŠæ—¶å‘ŠçŸ¥ï¼Œä¸‡åˆ†æ„Ÿè°¢<del>(å¤§ä½¬è½»å–·</del>)</p>
<h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><p>vuexé‡‡ç”¨é›†ä¸­å¼çš„æ–¹å¼å­˜å‚¨éœ€è¦å…±äº«çš„çŠ¶æ€ï¼Œæ˜¯ä¸“é—¨ä¸ºvueè®¾è®¡çš„çŠ¶æ€ç®¡ç†åº“<br>stateï¼šé©±åŠ¨åº”ç”¨çš„æ•°æ®æº<br>viewï¼šä»¥å£°æ˜çš„æ–¹å¼å°†stateæ˜ å°„åˆ°è§†å›¾<br>actionsï¼Œå“åº”åœ¨viewä¸Šçš„ç”¨æˆ·è¾“å…¥å¯¼è‡´çš„çŠ¶æ€å˜åŒ–</p>
<p>storeä¸­ä¸»è¦æœ‰ä¸€ä¸‹å‡ ä¸ªapi<br>state: ä¸»è¦ç”¨æ¥å­˜å‚¨æ•°æ®<br>getter: ç±»ä¼¼äºç»„ä»¶ä¸­çš„è®¡ç®—å±æ€§ï¼Œå¦‚æœæƒ³è¦å¯¹stateä¸­çš„æ•°æ®åšç®€å•çš„å¤„ç†ï¼Œå°±å¯ä»¥è¿ç”¨æ­¤æ–¹æ³•<br>mutation: ä¸»è¦å¯¹æ•°æ®è¿›è¡ŒåŒæ­¥æ“ä½œçš„å¤„ç†<br>action: ä¸»è¦å¯¹æ•°æ®è¿›è¡Œå¼‚æ­¥æ“ä½œçš„å¤„ç†ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæµå‘mutationï¼Œä»¥é¿å…åœ¨vuetoolsä¸­æŠ¥é”™<br>module:å¯ä»¥ç”Ÿæˆå¤šä¸ªstoreç±»</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ç®€å•å®ç°ä¸‹storeç±»</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">let _Vue = null</span><br><span class="line"></span><br><span class="line">class Store{</span><br><span class="line">    cinstructor (options) {</span><br><span class="line">        const {</span><br><span class="line">            state = {},</span><br><span class="line">            getters = {}</span><br><span class="line">            mutations = {}</span><br><span class="line">            actions = {}</span><br><span class="line">        } = optinos</span><br><span class="line">        this.state = _Vue.observable(state)</span><br><span class="line">        this.getters = Object.create(null)</span><br><span class="line">        Object.keys(getters).forEach(key =&gt; {</span><br><span class="line">            Object.defineProperty(this.getters, key, {</span><br><span class="line">                get: ()=&gt; getters[key](state)</span><br><span class="line">            })</span><br><span class="line">        })</span><br><span class="line">        this._mutations = mutations</span><br><span class="line">        this._actions = actions</span><br><span class="line"></span><br><span class="line">        commit ( type,payload ) {</span><br><span class="line">            this._mutations[type](this.state, payload)</span><br><span class="line">        }</span><br><span class="line">        dispatch (type, payload) {</span><br><span class="line">            this._actions[type]( this , payload)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>å¦‚æœè¦ä½¿ç”¨çš„è¯æˆ‘ä»¬å°±æŠŠåˆ›å»ºVueå®ä¾‹çš„æ—¶å€™ä¼ å…¥çš„storeå¯¹è±¡æ³¨å…¥åˆ°VueåŸå‹ä¸Šçš„$store,<br>åœ¨æ‰€æœ‰ç»„ä»¶ä¸­å¯ä»¥é€šè¿‡this.$storeã€‚æ¥è·å–åˆ°vuexä¸­çš„ä»“åº“ï¼Œä»è€Œå¯ä»¥åœ¨æ‰€æœ‰ç»„ä»¶ä¸­å…±äº«çŠ¶æ€ï¼Œ<br>åœ¨installä¸­æˆ‘ä»¬è·å–ä¸åˆ°Vueçš„å®ä¾‹ï¼Œæ‰€ä»¥è¿™é‡Œé€šè¿‡beforeCreateæ¥è·å–vueå®ä¾‹ï¼Œä»è€Œæ‹¿åˆ°é€‰é¡¹ä¸­çš„storeå¯¹è±¡<br>è¿˜å¾—æ¨¡æ‹Ÿä¸€ä¸‹æŒ‚è½½çš„installæ–¹æ³•</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function install (Vue) {</span><br><span class="line">    _Vue = Vue</span><br><span class="line">    _Vue.mixin({</span><br><span class="line">        beforeCreate () {</span><br><span class="line">            if (this.$options.store) {</span><br><span class="line">               //  åˆ¤æ–­å½“å‰vueå®ä¾‹çš„$optionsä¸­æ˜¯å¦å­˜åœ¨store,å¦‚æœæ˜¯ç»„ä»¶å®ä¾‹é‚£å°±æ²¡æœ‰è¿™ä¸ªstoreé€‰é¡¹ï¼Œå°±ä¸éœ€è¦åšè¿™ä»¶äº‹æƒ…</span><br><span class="line">                _Vue.prototype.$store = this.$options.store</span><br><span class="line">            }</span><br><span class="line">        } </span><br><span class="line">    })</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p>æœ€åæˆ‘ä»¬å¯¼å‡ºä¸€ä¸‹å°±å¯ä»¥äº†</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">export default {</span><br><span class="line">    Store,</span><br><span class="line">    install</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>å¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<br>vuexåˆ·æ–°æ•°æ®ä¸¢å¤±çš„é—®é¢˜ï¼Œå…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼Œå› ä¸ºjsä»£ç è¿è¡Œåœ¨å†…å­˜ä¸­ï¼Œä»£ç è¿è¡Œæ—¶æ‰€æœ‰çš„å˜é‡å’Œå‡½æ•°éƒ½æ˜¯ä¿å­˜åœ¨ å†…å­˜ ä¸­çš„ï¼Œä½†æˆ‘ä»¬ æŒ‰ä¸‹F5çš„æ—¶å€™ä»¥å‰ç”³è¯·çš„å†…å­˜å°†ä¼šè¢«é‡Šæ”¾ï¼Œå¹¶ä¼šè¢«é‡æ–°åŠ è½½jsè„šæœ¬ï¼Œå˜é‡é‡æ–°èµ‹å€¼ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬ä½¿ç”¨vuexçš„æ—¶å€™åªè¦ä¸€åˆ·æ–°æ•°æ®å°±æ²¡äº†ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦æŒä¹…åŒ–ä¿å­˜å¯ä»¥ä½¿ç”¨ localStorage æˆ–è€… sessionStorage å­˜å‚¨æœ¬åœ°æ•°æ®ä¿è¯åˆ·æ–°åæ•°æ®ä¸ä¼šä¸¢å¤±ã€‚</p>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/13/react/redux/">Redux</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.13"><i class="far fa-calendar-alt"></i> 2020.04.13</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.04.11"><i class="far fa-calendar-check"></i> 2022.04.11</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/react/">react</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">116 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">1 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="å‰è¨€">å‰è¨€</h3>
<p>éƒ½çŸ¥é“vueæœ‰vuexçŠ¶æ€ç®¡ç†å·¥å…·ï¼Œé‚£è‚¯å®šreactä¹Ÿæœ‰ï¼Œé‚£ä¹ˆä»Šå¤©æˆ‘ä»¬å°±æ¥ç®€å•çš„èŠä¸€èŠredux</p>
<h3 id="æ ¸å¿ƒæ¦‚å¿µåŠæµç¨‹">æ ¸å¿ƒæ¦‚å¿µåŠæµç¨‹</h3>
<p>view(è§†å›¾)â€”â€”&gt;(dispacth)â€”â€”&gt;actions(å¯¹è±¡)â€”â€”&gt;reducer(å‡½æ•°)â€”â€”&gt;store(å®¹å™¨)â€”â€”&gt;(subscribe)â€”â€”&gt;view(è§†å›¾)</p>
<p>Store: å­˜å‚¨çŠ¶æ€çš„å®¹å™¨ï¼ŒJså¯¹è±¡<br>
Viewï¼šè§†å›¾ HTMLé¡µé¢<br>
Actionsï¼šå¯¹è±¡ï¼Œæè¿°å¯¹çŠ¶æ€è¿›è¡Œæ€æ ·çš„æ“ä½œ<br>
Reducers: å‡½æ•°ï¼Œæ“ä½œçŠ¶æ€å¹¶è¿”å›æ–°å‡½æ•°</p>
<h4 id="Reduxå•é¡¹æ•°æ®æµ">Reduxå•é¡¹æ•°æ®æµ</h4>
 <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">  </span><br></pre></td></tr></tbody></table></figure>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/12/http/https/">HTTPåè®®è¯¦è§£</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.12"><i class="far fa-calendar-alt"></i> 2020.04.12</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2021.04.10"><i class="far fa-calendar-check"></i> 2021.04.10</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/HTTP/">HTTP</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">2.9k words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">10 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨å­¦ä¹ HTTPä¹‹å‰æˆ‘ä»¬å¾—å…ˆäº†è§£è®¡ç®—æœºç½‘ç»œçš„åˆ†å±‚åŸºæœ¬ä¸Šåˆ†ä¸ºä¸¤ç§</p>
<ol>
<li>OSI(Open System Interconnection Reference Mode)ï¼šå¼€æ”¾ç³»ç»Ÿäº’è”å‚è€ƒæ¨¡å‹ï¼ˆinternational standard orgnizationå›½é™…æ ‡å‡†ç»„ç»‡ï¼Œç®€ç§°ISOæå‡ºï¼‰</li>
<li>TCP/IPï¼šå› ä¸ºåœ¨OSIæ¨¡å‹å‡ºå°ä¹‹å‰ï¼ŒTCP/IPæ¨¡å‹å·²ç»æˆä¸ºäº†è¡Œä¸šä¸»æµå‚è€ƒæ¨¡å‹ã€‚æ‰€ä»¥å¯¼è‡´ä¸¤ç§æ¨¡å‹å¹¶å­˜ã€‚è€Œä¸”ï¼Œç›®å‰ï¼Œæˆ‘ä»¬ä¸»è¦ç”¨çš„ä¹Ÿæ˜¯TCP/IPæ¨¡å‹ã€‚</li>
</ol>
<h4 id="OSIä¸ƒå±‚æ¨¡å‹"><a href="#OSIä¸ƒå±‚æ¨¡å‹" class="headerlink" title="OSIä¸ƒå±‚æ¨¡å‹"></a>OSIä¸ƒå±‚æ¨¡å‹</h4><p>ISOä¸ºäº†æ›´å¥½çš„ä½¿ç”¨ç½‘ç»œåº”ç”¨æ›´ä¸ºæ™®åŠï¼Œæ¨å‡ºäº†OSIå‚è€ƒæ¨¡å‹ã€‚å…¶å«ä¹‰å°±æ˜¯æ¨èæ‰€æœ‰å…¬å¸ä½¿ç”¨è¿™ä¸ªè§„èŒƒæ¥æ§åˆ¶ç½‘ç»œã€‚è¿™æ ·æ‰€æœ‰å…¬å¸éƒ½æœ‰ç›¸åŒçš„è§„èŒƒï¼Œå°±èƒ½äº’è”ã€‚</p>
<p><strong> OSIä¸ƒå±‚å‚è€ƒæ¨¡å‹ç”±ä¸Šåˆ°ä¸‹åˆ†ä¸ºå¦‚ä¸‹</strong></p>
<ol>
<li>åº”ç”¨å±‚ï¼š ä¸ºåº”ç”¨æä¾›æœåŠ¡</li>
<li>è¡¨ç¤ºå±‚ï¼š æ•°æ®æ ¼å¼è½¬åŒ–ã€æ•°æ®åŠ å¯†</li>
<li>ä¼šè¯å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤é€šè¯</li>
<li>ä¼ è¾“å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤ç«¯åˆ°ç«¯çš„è¿æ¥</li>
<li>ç½‘ç»œå±‚ï¼š IPé€‰å€åŠè·¯ç”±é€‰æ‹©</li>
<li>æ•°æ®é“¾è·¯å±‚ï¼š æä¾›ä»‹è´¨è®¿é—®å’Œé“¾è·¯ç®¡ç†</li>
<li>ç‰©ç†å±‚ï¼š æœºå™¨ç¡¬ä»¶ä¹‹å‰çš„é“¾æ¥ç‰©ç†å±‚</li>
</ol>
<p><strong> TCP/IPåè®®å‚è€ƒæ¨¡å‹ç”±ä¸Šåˆ°ä¸‹åˆ†ä¸ºå¦‚ä¸‹</strong></p>
<ol>
<li>åº”ç”¨å±‚ï¼š ä¸ºåº”ç”¨æä¾›æœåŠ¡(ä¾‹å¦‚ï¼š DNS ã€HTTP ã€HTTPS ã€SSH ã€SMTP ã€FTP â€¦ )</li>
<li>ä¼ è¾“å±‚ï¼š å»ºç«‹ã€ç®¡ç†å’Œç»´æŠ¤ç«¯åˆ°ç«¯çš„è¿æ¥(TCPã€UDPã€SCTP)</li>
<li>ç½‘ç»œå±‚ï¼š IPé€‰å€åŠè·¯ç”±é€‰æ‹©(IPv4ã€IPv6ã€ARPã€ICMP)</li>
<li>æ•°æ®é“¾è·¯å±‚ï¼š æä¾›ä»‹è´¨è®¿é—®å’Œé“¾è·¯ç®¡ç†(ä»¥å¤ªç½‘ã€æ— çº¿LAN)</li>
<li>ç‰©ç†å±‚ï¼š æœºå™¨ç¡¬ä»¶ä¹‹å‰çš„é“¾æ¥ç‰©ç†å±‚(å…‰çº¤ã€åŒç»çº¿ç”µç¼†ã€æ— çº¿è®¾å¤‡)</li>
</ol>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆ<code>TCP/IP</code>ä¼šæ¯”<code>OSI</code>ç½‘ç»œæ¨¡å‹å°‘ä¸¤å±‚å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºTCP/IPçš„åè®®æ ˆè®¤ä¸ºç»˜ç”»æ•´ä¸ªè¡¨ç¤ºå±‚åº”è¯¥éƒ½äº¤ç”±ç¨‹åºæœ¬èº«å»å¤„ç†ï¼Œå¦‚æœå•ç‹¬æ‹¿å‡ºæ¥ä¼šéå¸¸å¤æ‚</p>
<h3 id="ä¸€ä¸ªHTTPè¯·æ±‚çš„åˆ†å±‚è§£æ"><a href="#ä¸€ä¸ªHTTPè¯·æ±‚çš„åˆ†å±‚è§£æ" class="headerlink" title="ä¸€ä¸ªHTTPè¯·æ±‚çš„åˆ†å±‚è§£æ"></a>ä¸€ä¸ªHTTPè¯·æ±‚çš„åˆ†å±‚è§£æ</h3><h4 id="1-DNSåŸŸåè§£æ"><a href="#1-DNSåŸŸåè§£æ" class="headerlink" title="1. DNSåŸŸåè§£æ"></a>1. DNSåŸŸåè§£æ</h4><p>åœ¨ç½‘ç»œä¸–ç•Œï¼Œä½ è‚¯å®šè®°å¾—ä½ç½‘ç«™çš„åç§°ï¼Œä½†æ˜¯å¾ˆéš¾è®°ä½ç½‘ç«™çš„ IP åœ°å€ï¼Œå› è€Œä¹Ÿéœ€è¦ä¸€ä¸ªåœ°å€ç°¿ï¼Œå°±æ˜¯ DNS æœåŠ¡å™¨ã€‚DNS æœåŠ¡å™¨æ˜¯é«˜å¯ç”¨ã€é«˜å¹¶å‘å’Œåˆ†å¸ƒå¼çš„ï¼Œå®ƒæ˜¯æ ‘çŠ¶ç»“æ„ã€‚ä¸»è¦åˆ†ä¸ºä¸‰å±‚ï¼Œç¯ç¯ç›¸æ‰£</p>
<ul>
<li><p>é¡¶å±‚ï¼šæ ¹ DNS æœåŠ¡å™¨ï¼šè¿”å›é¡¶çº§åŸŸ DNS æœåŠ¡å™¨çš„ IP åœ°å€</p>
</li>
<li><p>ä¸­é—´å±‚ï¼šé¡¶çº§åŸŸ DNS æœåŠ¡å™¨ï¼šè¿”å›æƒå¨ DNS æœåŠ¡å™¨çš„ IP åœ°å€</p>
</li>
<li><p>ä¸‹å±‚ï¼šæƒå¨ DNS æœåŠ¡å™¨ ï¼šè¿”å›ç›¸åº”ä¸»æœºçš„ IP åœ°å€</p>
<p>DNSçš„åŸŸåæŸ¥æ‰¾ï¼Œåœ¨å®¢æˆ·ç«¯å’Œæµè§ˆå™¨ï¼Œæœ¬åœ°DNSä¹‹é—´çš„æŸ¥è¯¢æ–¹å¼æ˜¯é€’å½’æŸ¥è¯¢ï¼›åœ¨æœ¬åœ°DNSæœåŠ¡å™¨ä¸æ ¹åŸŸåŠå…¶å­åŸŸä¹‹é—´çš„æŸ¥è¯¢æ–¹å¼æ˜¯è¿­ä»£æŸ¥è¯¢ï¼›ä»è¾“å…¥URLå¼€å§‹è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å®¢æˆ·ç«¯ -&gt; æµè§ˆå™¨ç¼“å­˜ -&gt; æœ¬åœ°hostsæ–‡ä»¶ -&gt; æœ¬åœ°DNSè§£æå™¨ç¼“å­˜ -&gt; æœ¬åœ°DNSæœåŠ¡å™¨</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>è¿™ä¸ªè¿‡ç¨‹ä¸­ä»»ä½•ä¸€æ­¥æ‰¾åˆ°äº†éƒ½ä¼šç»“æŸæŸ¥æ‰¾æµç¨‹ã€‚</p>
<p>å¦‚æœæœ¬åœ°DNSæœåŠ¡å™¨æ— æ³•æŸ¥è¯¢åˆ°ï¼Œåˆ™æ ¹æ®æœ¬åœ°DNSæœåŠ¡å™¨è®¾ç½®çš„è½¬å‘å™¨è¿›è¡ŒæŸ¥è¯¢ã€‚è‹¥æœªç”¨è½¬å‘æ¨¡å¼ï¼Œåˆ™åœ¨å„ä¸ªå±‚çº§çš„åŸŸåæœåŠ¡å™¨ä¸­è¿­ä»£æŸ¥è¯¢ï¼ŒæŸ¥è¯¢åˆ°äº†å°±è¿”å›</p>
<p>æŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥åšä»¥ä¸‹ä¼˜åŒ–ç‚¹ï¼š</p>
<ol>
<li>DNSå­˜åœ¨ç€å¤šçº§ç¼“å­˜ï¼Œä»ç¦»æµè§ˆå™¨çš„è·ç¦»æ’åºçš„è¯ï¼Œæœ‰ä»¥ä¸‹å‡ ç§: <code>æµè§ˆå™¨ç¼“å­˜</code>ï¼Œ<code>ç³»ç»Ÿç¼“å­˜</code>ï¼Œ<code>è·¯ç”±å™¨ç¼“å­˜</code>ï¼Œ<code>IPSæœåŠ¡å™¨ç¼“å­˜</code>ï¼Œ<code>æ ¹åŸŸåæœåŠ¡å™¨ç¼“å­˜</code>ï¼Œ<code>é¡¶çº§åŸŸåæœåŠ¡å™¨ç¼“å­˜</code>ï¼Œ<code>ä¸»åŸŸåæœåŠ¡å™¨ç¼“å­˜</code>ã€‚</li>
<li>åœ¨åŸŸåå’Œ IP çš„æ˜ å°„è¿‡ç¨‹ä¸­ï¼Œç»™äº†åº”ç”¨åŸºäºåŸŸååšè´Ÿè½½å‡è¡¡çš„æœºä¼šï¼Œå¯ä»¥æ˜¯ç®€å•çš„è´Ÿè½½å‡è¡¡ï¼Œä¹Ÿå¯ä»¥æ ¹æ®åœ°å€å’Œè¿è¥å•†åšå…¨å±€çš„è´Ÿè½½å‡è¡¡ã€‚</li>
</ol>
</li>
</ul>
<h4 id="2-å»ºç«‹TCPé“¾æ¥"><a href="#2-å»ºç«‹TCPé“¾æ¥" class="headerlink" title="2. å»ºç«‹TCPé“¾æ¥"></a>2. å»ºç«‹TCPé“¾æ¥</h4><p>é¦–å…ˆï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯<code>https</code>çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™<code>HTTPS</code>å…¶å®æ˜¯<code>HTTP + SSL / TLS </code>ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¹Ÿå°±æ˜¯åœ¨<code>HTTP</code>ä¸ŠåˆåŠ äº†ä¸€å±‚<code>å¤„ç†åŠ å¯†ä¿¡æ¯</code>çš„æ¨¡å—ã€‚æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„ä¿¡æ¯ä¼ è¾“éƒ½ä¼š<code>é€šè¿‡TLSè¿›è¡ŒåŠ å¯†</code>ï¼Œæ‰€ä»¥ä¼ è¾“çš„æ•°æ®éƒ½æ˜¯åŠ å¯†åçš„æ•°æ®ã€‚</p>
<p><strong>è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œå»ºç«‹TCPè¿æ¥ã€‚</strong></p>
<ol>
<li><p>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå»ºç«‹è¿æ¥ã€‚å®¢æˆ·ç«¯å‘é€è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºxï¼›ç„¶åï¼Œå®¢æˆ·ç«¯è¿›å…¥SYN_SENDçŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡å™¨çš„ç¡®è®¤ï¼›</p>
</li>
<li><p>äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨æ”¶åˆ°SYNæŠ¥æ–‡æ®µã€‚æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„SYNæŠ¥æ–‡æ®µï¼Œéœ€è¦å¯¹è¿™ä¸ªSYNæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼Œè®¾ç½®Acknowledgment Numberä¸ºx+1(Sequence Number+1)ï¼›åŒæ—¶ï¼Œè‡ªå·±è¿˜è¦å‘é€SYNè¯·æ±‚ä¿¡æ¯ï¼Œå°†SYNä½ç½®ä¸º1ï¼ŒSequence Numberä¸ºyï¼›æœåŠ¡å™¨ç«¯å°†ä¸Šè¿°æ‰€æœ‰ä¿¡æ¯æ”¾åˆ°ä¸€ä¸ªæŠ¥æ–‡æ®µï¼ˆå³SYN+ACKæŠ¥æ–‡æ®µï¼‰ä¸­ï¼Œä¸€å¹¶å‘é€ç»™å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æœåŠ¡å™¨è¿›å…¥SYN_RECVçŠ¶æ€ï¼›</p>
</li>
<li><p>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„SYN+ACKæŠ¥æ–‡æ®µã€‚ç„¶åå°†Acknowledgment Numberè®¾ç½®ä¸ºy+1ï¼Œå‘æœåŠ¡å™¨å‘é€ACKæŠ¥æ–‡æ®µï¼Œè¿™ä¸ªæŠ¥æ–‡æ®µå‘é€å®Œæ¯•ä»¥åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯éƒ½è¿›å…¥ESTABLISHEDçŠ¶æ€ï¼Œå®ŒæˆTCPä¸‰æ¬¡æ¡æ‰‹ã€‚</p>
<p><strong>SSLæ¡æ‰‹è¿‡ç¨‹ </strong></p>
</li>
<li><p>ç¬¬ä¸€é˜¶æ®µ å»ºç«‹å®‰å…¨èƒ½åŠ› åŒ…æ‹¬åè®®ç‰ˆæœ¬ ä¼šè¯Id å¯†ç æ„ä»¶ å‹ç¼©æ–¹æ³•å’Œåˆå§‹éšæœºæ•°</p>
</li>
<li><p>ç¬¬äºŒé˜¶æ®µ æœåŠ¡å™¨å‘é€è¯ä¹¦ å¯†é’¥äº¤æ¢æ•°æ®å’Œè¯ä¹¦è¯·æ±‚ï¼Œæœ€åå‘é€è¯·æ±‚-ç›¸åº”é˜¶æ®µçš„ç»“æŸä¿¡å·</p>
</li>
<li><p>ç¬¬ä¸‰é˜¶æ®µ å¦‚æœæœ‰è¯ä¹¦è¯·æ±‚å®¢æˆ·ç«¯å‘é€æ­¤è¯ä¹¦ ä¹‹åå®¢æˆ·ç«¯å‘é€å¯†é’¥äº¤æ¢æ•°æ® ä¹Ÿå¯ä»¥å‘é€è¯ä¹¦éªŒè¯æ¶ˆæ¯</p>
</li>
<li><p>ç¬¬å››é˜¶æ®µ å˜æ›´å¯†ç æ„ä»¶å’Œç»“æŸæ¡æ‰‹åè®®</p>
<p>å®Œæˆäº†ä¹‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯å°±å¯ä»¥å¼€å§‹ä¼ é€æ•°æ®</p>
</li>
</ol>
<p><code>&lt;STRONG&gt;åè¯è§£é‡Š&lt;/STRONG&gt; </code>ACK`ï¼šæ­¤æ ‡å¿—è¡¨ç¤ºåº”ç­”åŸŸæœ‰æ•ˆï¼Œå°±æ˜¯è¯´å‰é¢æ‰€è¯´çš„TCPåº”ç­”å·å°†ä¼šåŒ…å«åœ¨TCPæ•°æ®åŒ…ä¸­ï¼›æœ‰ä¸¤ä¸ªå–å€¼ï¼š0å’Œ1ï¼Œä¸º1çš„æ—¶å€™è¡¨ç¤ºåº”ç­”åŸŸæœ‰æ•ˆï¼Œåä¹‹ä¸º0ã€‚TCPåè®®è§„å®šï¼Œåªæœ‰ACK=1æ—¶æœ‰æ•ˆï¼Œä¹Ÿè§„å®šè¿æ¥å»ºç«‹åæ‰€æœ‰å‘é€çš„æŠ¥æ–‡çš„ACKå¿…é¡»ä¸º1ã€‚</p>
<p><code>SYN(SYNchronization)</code>ï¼šåœ¨è¿æ¥å»ºç«‹æ—¶ç”¨æ¥åŒæ­¥åºå·ã€‚å½“SYN=1è€ŒACK=0æ—¶ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æŠ¥æ–‡ã€‚å¯¹æ–¹è‹¥åŒæ„å»ºç«‹è¿æ¥ï¼Œåˆ™åº”åœ¨å“åº”æŠ¥æ–‡ä¸­ä½¿SYN=1å’ŒACK=1. å› æ­¤, SYNç½®1å°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æˆ–è¿æ¥æ¥å—æŠ¥æ–‡ã€‚</p>
<p><code>FIN(finisï¼‰</code>å³å®Œï¼Œç»ˆç»“çš„æ„æ€ï¼Œ ç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ã€‚å½“ FIN = 1 æ—¶ï¼Œè¡¨æ˜æ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²ç»å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾è¿æ¥ã€‚</p>
<h4 id="3-å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœ"><a href="#3-å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœ" class="headerlink" title="3.å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœ"></a>3.å‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”ç»“æœ</h4><p>TCPè¿æ¥å»ºç«‹åï¼Œæµè§ˆå™¨å°±å¯ä»¥åˆ©ç”¨HTTPï¼HTTPSåè®®å‘æœåŠ¡å™¨å‘é€è¯·æ±‚äº†ã€‚æœåŠ¡å™¨æ¥å—åˆ°è¯·æ±‚ï¼Œå°±è§£æè¯·æ±‚å¤´ï¼Œå¦‚æœå¤´éƒ¨æœ‰ç¼“å­˜ç›¸å…³ä¿¡æ¯å¦‚if-none-matchä¸if-modified-sinceï¼Œåˆ™éªŒè¯ç¼“å­˜æ˜¯å¦æœ‰æ•ˆï¼Œè‹¥æœ‰æ•ˆåˆ™è¿”å›çŠ¶æ€ç ä¸º304ï¼Œè‹¥æ— æ•ˆåˆ™é‡æ–°è¿”å›èµ„æºï¼ŒçŠ¶æ€ç ä¸º200.</p>
<h4 id="4-å…³é—­TCPè¿æ¥"><a href="#4-å…³é—­TCPè¿æ¥" class="headerlink" title="4.å…³é—­TCPè¿æ¥"></a>4.å…³é—­TCPè¿æ¥</h4><p>è¿”å›ç›¸åº”ç»“æœä¹‹åå°±çœŸçš„è¦å…³é—­å—ï¼Ÿ ç­”æ¡ˆè‚¯å®šæ˜¯ä¸ä¸€å®šçš„å› ä¸º<strong>å¦‚æœæµè§ˆå™¨æˆ–è€…æœåŠ¡å™¨å¤´ä¿¡æ¯æœ‰ä¸Šé¢çš„å­—æ®µçš„è¯ï¼ŒTCPè¿æ¥ä¼šä»ç„¶ä¿æŒï¼Œä¿æŒTCPè¿æ¥å¯ä»¥èŠ‚çœä¸‹æ¬¡è¯·æ±‚éœ€è¦å»ºç«‹TCPè¿æ¥çš„æ—¶é—´,æå‡èµ„æºåŠ è½½è¿›åº¦</strong>ã€‚å¦‚æœæ˜¯è¦å…³é—­è¿™æ—¶å€™å°±éœ€è¦å››æ¬¡æŒ¥æ‰‹äº†</p>
<ol>
<li>ç¬¬ä¸€é˜¶æ®µ å®¢æˆ·ç«¯å‘é€FINæŠ¥æ–‡ç»™æœåŠ¡ç«¯ (å…„å¼Ÿ,æˆ‘è¿™è¾¹å·²ç»æ²¡æœ‰æ•°æ®è¦ä¼ äº†,å…³é—­å§å…³é—­å§)</li>
<li>ç¬¬äºŒé˜¶æ®µ æœåŠ¡ç«¯å‘é€ACKæŠ¥æ–‡ç»™å®¢æˆ·ç«¯ (æ”¶åˆ°äº†æ”¶åˆ°äº†! æˆ‘çœ‹çœ‹æˆ‘è¿˜æœ‰æ²¡æœ‰æ•°æ®è¦ä¼ )</li>
<li>ç¬¬ä¸‰é˜¶æ®µ æœåŠ¡ç«¯å‘é€FINæŠ¥æ–‡ç»™å®¢æˆ·ç«¯ (å…„å¼Ÿ,æˆ‘è¿™è¾¹ä¹Ÿæ²¡æœ‰æ•°æ®è¦ä¼ äº†,å…³é—­å§å…³é—­å§)</li>
<li>ç¬¬å››é˜¶æ®µ å®¢æˆ·ç«¯å‘é€ACKæŠ¥æ–‡ç»™æœåŠ¡ç«¯ (æ”¶åˆ°äº†æ”¶åˆ°äº†!)</li>
</ol>
<h4 id="5-æµè§ˆå™¨æ ¹æ®è¿”å›çš„ç»“æœè¿›è¡Œæ¸²æŸ“"><a href="#5-æµè§ˆå™¨æ ¹æ®è¿”å›çš„ç»“æœè¿›è¡Œæ¸²æŸ“" class="headerlink" title="5.æµè§ˆå™¨æ ¹æ®è¿”å›çš„ç»“æœè¿›è¡Œæ¸²æŸ“"></a>5.æµè§ˆå™¨æ ¹æ®è¿”å›çš„ç»“æœè¿›è¡Œæ¸²æŸ“</h4><ol>
<li>æ¸²æŸ“è¿›ç¨‹å°† HTML å†…å®¹è½¬æ¢ä¸ºèƒ½å¤Ÿè¯»æ‡‚DOM æ ‘ç»“æ„ã€‚</li>
<li>æ¸²æŸ“å¼•æ“å°† CSS æ ·å¼è¡¨è½¬åŒ–ä¸ºæµè§ˆå™¨å¯ä»¥ç†è§£çš„styleSheetsï¼Œè®¡ç®—å‡º DOM èŠ‚ç‚¹çš„æ ·å¼</li>
<li>åˆ›å»ºå¸ƒå±€æ ‘ï¼Œå¹¶è®¡ç®—å…ƒç´ çš„å¸ƒå±€ä¿¡æ¯ã€‚</li>
<li>å¯¹å¸ƒå±€æ ‘è¿›è¡Œåˆ†å±‚ï¼Œå¹¶ç”Ÿæˆåˆ†å±‚æ ‘ã€‚</li>
<li>ä¸ºæ¯ä¸ªå›¾å±‚ç”Ÿæˆç»˜åˆ¶åˆ—è¡¨ï¼Œå¹¶å°†å…¶æäº¤åˆ°åˆæˆçº¿ç¨‹ã€‚åˆæˆçº¿ç¨‹å°†å›¾å±‚åˆ†å›¾å—ï¼Œå¹¶æ …æ ¼åŒ–å°†å›¾å—è½¬æ¢æˆä½å›¾ã€‚</li>
<li>åˆæˆçº¿ç¨‹å‘é€ç»˜åˆ¶å›¾å—å‘½ä»¤ç»™æµè§ˆå™¨è¿›ç¨‹ã€‚æµè§ˆå™¨è¿›ç¨‹æ ¹æ®æŒ‡ä»¤ç”Ÿæˆé¡µé¢ï¼Œå¹¶æ˜¾ç¤ºåˆ°æ˜¾ç¤ºå™¨ä¸Šã€‚<br>å¥½äº†åˆ°è¿™é‡Œå°±ç»“æŸäº†ï¼Œä¸è¿‡æ¥ä¸‹æ¥æˆ‘è¿˜æœ‰ä¸œè¥¿å¾—ç»™å¤§å®¶è¯´ä¸€ä¸‹ï¼Œé‚£å°±æ˜¯ç¬¬ä¸€ä¸ªå°±æ˜¯æµè§ˆå™¨ç¼“å­˜ï¼Œç„¶åæ˜¯getå’ŒpoståŒºåˆ«</li>
</ol>
<h4 id="æµè§ˆå™¨ç¼“å­˜"><a href="#æµè§ˆå™¨ç¼“å­˜" class="headerlink" title="æµè§ˆå™¨ç¼“å­˜"></a>æµè§ˆå™¨ç¼“å­˜</h4><p><code>æµè§ˆå™¨ç¼“å­˜</code>ï¼šæ˜¯æµè§ˆå™¨å°†ç”¨æˆ·è¯·æ±‚è¿‡çš„é™æ€èµ„æ–™(html, css, js),å­˜å‚¨åˆ°ç”µè„‘æœ¬åœ°ç£ç›˜ä¸­, å½“æµè§ˆå™¨å†æ¬¡è®¿é—®æ—¶, å°±å¯ä»¥ç›´æ¥ä»æœ¬åœ°åŠ è½½äº†, ä¸éœ€è¦å†å»è¯·æ±‚æœåŠ¡ç«¯äº†ã€‚<br>è€Œç¼“å­˜å‘¢åˆåˆ†ä¸º<code>å¼ºç¼“å­˜</code>å’Œ<code>åå•†ç¼“å­˜</code><br><code>å¼ºç¼“å­˜</code>:æ— éœ€ä¸æœåŠ¡ç«¯å‘ç”Ÿäº¤äº’ã€‚<br><code>åå•†ç¼“å­˜</code>ï¼šéœ€è¦ä¸æœåŠ¡ç«¯å‘ç”Ÿäº¤äº’ï¼Œåˆ¤æ–­æ˜¯å¦ä½¿ç”¨æœ¬åœ°ç¼“å­˜çš„æ–‡ä»¶ã€‚<br>å…³äºä»–ä¿©çš„åŒºåˆ«å‘¢ï¼Œè¿˜è¯·å„ä½çœ‹å®˜è‡ªè¡ŒæŸ¥æ‰¾äº†</p>
<h5 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h5><ol>
<li><p>å‡å°‘äº†å†—ä½™çš„æ•°æ®ä¼ è¾“</p>
</li>
<li><p>å‡å°‘æœåŠ¡å™¨çš„è´Ÿæ‹…, æå‡ç½‘ç«™æ€§èƒ½</p>
</li>
<li><p>åŠ å¿«äº†å®¢æˆ·ç«¯åŠ è½½ç½‘é¡µçš„é€Ÿåº¦</p>
<p>ä¸€èˆ¬æƒ…å†µä¸‹,åœ¨æµè§ˆå™¨ä¸­,æµè§ˆå™¨ä¼šåœ¨jså’Œå›¾ç‰‡ç­‰æ–‡ä»¶è§£ææ‰§è¡Œåç›´æ¥å­˜å…¥å†…å­˜ç¼“å­˜ä¸­,é‚£ä¹ˆå½“åˆ·æ´—é¡µé¢æ—¶åªéœ€è¦ä»å†…å­˜ç¼“å­˜ä¸­è¯»å–(from memory cache); è€Œcssæ–‡ä»¶åˆ™ä¼šå­˜å…¥ç¡¬ç›˜ä¸­, æ¸²æŸ“é¡µé¢ä»ç¡¬ç›˜è¯»å–ç¼“å­˜(from disk cache)</p>
</li>
</ol>
<h4 id="getå’ŒpoståŒºåˆ«"><a href="#getå’ŒpoståŒºåˆ«" class="headerlink" title="getå’ŒpoståŒºåˆ«"></a>getå’ŒpoståŒºåˆ«</h4><ol>
<li><code>GET</code> è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ° head ä¸­ï¼Œå¯ä»¥åœ¨ url ä¸­å¯ä»¥çœ‹åˆ°ï¼›<code>POST</code> è¯·æ±‚çš„è¯·æ±‚å‚æ•°æ˜¯æ·»åŠ åˆ°BODYä¸­,åœ¨url ä¸­ä¸å¯è§ã€‚</li>
<li><code>GET</code> è¯·æ±‚å‚æ•°éœ€è¦ä½¿ç”¨ encodeURIComponent è¿›è¡Œç¼–ç ï¼Œå¿…é¡»ç”¨ &amp; ç¬¦å·éš”å¼€ã€‚</li>
<li>è¯·æ±‚çš„urlæœ‰é•¿åº¦é™åˆ¶ï¼Œè¿™ä¸ªé™åˆ¶ç”±æµè§ˆå™¨å’Œ web æœåŠ¡å™¨å†³å®šå’Œè®¾ç½®çš„ã€‚ä¾‹å¦‚IEæµè§ˆå™¨å¯¹ URLçš„æœ€å¤§é™åˆ¶ä¸º2083ä¸ªå­—ç¬¦ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œæäº¤æŒ‰é’®æ²¡æœ‰ä»»ä½•ååº”ã€‚å› ä¸º<code>GET</code>è¯·æ±‚çš„å‚æ•°æ˜¯æ·»åŠ åˆ°URLä¸­ï¼Œæ‰€ä»¥<code>GET</code>è¯·æ±‚çš„URLçš„é•¿åº¦é™åˆ¶éœ€è¦å°†è¯·æ±‚å‚æ•°é•¿åº¦ä¹Ÿè€ƒè™‘è¿›å»ã€‚è€Œ<code>POST</code>è¯·æ±‚ä¸ç”¨è€ƒè™‘è¯·æ±‚å‚æ•°çš„é•¿åº¦ã€‚</li>
<li><code>GET</code>è¯·æ±‚äº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…;  <code>POST</code>è¯·æ±‚äº§ç”Ÿ2ä¸ªæ•°æ®åŒ…,åœ¨ç«ç‹æµè§ˆå™¨ä¸­ï¼Œäº§ç”Ÿä¸€ä¸ªæ•°æ®åŒ…ã€‚è¿™ä¸ªåŒºåˆ«ç‚¹åœ¨äºæµè§ˆå™¨çš„è¯·æ±‚æœºåˆ¶ï¼Œå…ˆå‘é€è¯·æ±‚å¤´ï¼Œå†å‘é€è¯·æ±‚ä½“ã€‚å› ä¸º<code>GET</code>æ²¡æœ‰è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å°±å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œè€Œ<code>POST</code>åŒ…å«è¯·æ±‚ä½“ï¼Œæ‰€ä»¥å‘é€ä¸¤æ¬¡æ•°æ®åŒ…ï¼Œä½†æ˜¯ç”±äºç«ç‹æœºåˆ¶ä¸åŒï¼Œæ‰€ä»¥å‘é€ä¸€ä¸ªæ•°æ®åŒ…ã€‚</li>
<li>ç”±äº<code>GET</code>è¯·æ±‚çš„å‚æ•°æ˜¯åœ¨urlä¸­ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€</li>
<li><code>GET</code> è¯·æ±‚ä¼šè¢«æµè§ˆå™¨ä¸»åŠ¨ç¼“å­˜ä¸‹æ¥ï¼Œç•™ä¸‹å†å²è®°å½•ï¼Œè€Œ POST é»˜è®¤ä¸ä¼šã€‚</li>
<li><code>GET</code>æ˜¯å¹‚ç­‰çš„ï¼Œè€Œ<code>POST</code>ä¸æ˜¯ã€‚(å¹‚ç­‰è¡¨ç¤ºæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œç»“æœä¹Ÿæ˜¯ç›¸åŒçš„)</li>
</ol>
<h3 id="æœªå®Œå¾…ç»­"><a href="#æœªå®Œå¾…ç»­" class="headerlink" title="æœªå®Œå¾…ç»­ !!!~~~"></a>æœªå®Œå¾…ç»­ !!!~~~</h3>
             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/12/react/reactHooks/">react Hooks</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.12"><i class="far fa-calendar-alt"></i> 2020.04.12</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.06.16"><i class="far fa-calendar-check"></i> 2022.06.16</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/react/">react</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">1k words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">3 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="å‰è¨€">å‰è¨€</h3>
<p>æˆ‘ä»¬éƒ½çŸ¥é“rewactå¼€å‘æœ‰ä¸¤ç§ç»„ä»¶å¼€å‘æ¨¡å¼ï¼Œä¸€æ˜¯å‡½æ•°å¼ç»„ä»¶å¼€å‘ï¼ŒäºŒæ˜¯ç±»ç»„ä»¶å¼å¼€å‘ï¼Œä½†æ˜¯ç›¸æ¯”äºå‡½æ•°å¼ç»„ä»¶å¼€å‘ç±»ç»„ä»¶æœ‰å¾ˆå¤šä¸è¶³ä¹‹å¤„ï¼š</p>
<h5 id="1-ç¼ºå°‘é€»è¾‘å¤ç”¨æœºåˆ¶">1.ç¼ºå°‘é€»è¾‘å¤ç”¨æœºåˆ¶</h5>
<p>ä¸ºäº†æœç”¨é€»è¾‘å¢åŠ æ— å®é™…æ¸²æŸ“æ•ˆæœçš„ç»„ä»¶ï¼Œ<br>
å¢åŠ äº†ç»„ä»¶å±‚çº§æ˜¾å¾—ååˆ†è‡ƒè‚¿ï¼Œ<br>
å¢åŠ äº†è°ƒè¯•çš„éš¾åº¦ä»¥åŠè¿è¡Œæ•ˆç‡çš„é™ä½ã€‚</p>
<h5 id="2-ç±»ç»„ä»¶ç»å¸¸ä¼šå˜å¾—å¾ˆå¤æ‚éš¾ä»¥ç»´æŠ¤">2.ç±»ç»„ä»¶ç»å¸¸ä¼šå˜å¾—å¾ˆå¤æ‚éš¾ä»¥ç»´æŠ¤</h5>
<p>å°†ä¸€ç»„ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘æ‹†åˆ†åˆ°äº†å¤šä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹ä¸­<br>
åœ¨ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°å†…å­˜åœ¨å¤šä¸ªä¸ç›¸å¹²çš„ä¸šåŠ¡é€»è¾‘</p>
<h5 id="3-ç±»æˆå‘˜æ–¹æ³•ä¸èƒ½ä¿è¯thisæŒ‡å‘çš„æ­£ç¡®æ€§">3.ç±»æˆå‘˜æ–¹æ³•ä¸èƒ½ä¿è¯thisæŒ‡å‘çš„æ­£ç¡®æ€§</h5>
<p>ä¸ºæ­¤react16.8ç‰ˆæœ¬å‡ºäº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ›´æ–°ï¼Œé‚£å°±æ˜¯react hooksï¼Œå¾ˆå¥½çš„è§£å†³äº†ç±»ç»„ä»¶çš„ä¸è¶³ï¼Œè¿™è®©æˆ‘ä»¬èƒ½æ›´å¥½çš„æŠŠç²¾åŠ›é›†ä¸­åœ¨å‡½æ•°å¼ç»„ä»¶çš„å¼€å‘ä¹‹ä¸­ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥èŠä¸€èŠè¿™ä¸ªreact hooks</p>
<h3 id="useState">useState</h3>
<p>æ­¤hookæ˜¯å¯ä»¥è®©å‡½æ•°å¼ç»„ä»¶ä¿å­˜çŠ¶æ€</p>
 <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import { useState } from 'react'</span><br><span class="line">Â·Â·Â·Â·</span><br><span class="line">const [num setNum] = (0)</span><br></pre></td></tr></tbody></table></figure>
<p><strong>useStateç»†èŠ‚:<strong><br>
1.æ¥æ”¶å”¯ä¸€çš„å‚æ•°å³çŠ¶æ€åˆå§‹å€¼ï¼Œåˆå§‹å€¼å¯ä»¥ä¸ºä»»æ„æ•°æ®ç±»å‹<br>
2.è¿”å›å€¼ä¸ºæ•°ç»„ï¼Œæ•°ç»„ä¸­å­˜å‚¨çŠ¶æ€å€¼å’Œæ›´æ”¹çŠ¶æ€å€¼çš„æ–¹æ³•ï¼Œæ–¹æ³•åçº¦å®šä»¥setå¼€å¤´<br>
3.æ–¹æ³•å¯ä»¥è¢«å¤šæ¬¡è°ƒç”¨ï¼Œç”¨ä»¥ä¿å­˜ä¸åŒçŠ¶æ€å€¼<br>
4.å‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°è¿”å›ä»€ä¹ˆï¼Œåˆå§‹çŠ¶æ€å°±æ˜¯ä»€ä¹ˆï¼Œå‡½æ•°åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œç”¨åœ¨åˆå§‹å€¼ä¸ºåŠ¨æ€å€¼çš„æƒ…å†µä¸‹<br>
5.å¦‚æœä»£ç ä¾èµ–æ–¹æ³•çš„æœ€æ–°æ‰§è¡Œç»“æœï¼Œé‚£ä¹ˆä»£ç å°±å¿…é¡»æ”¾åœ¨useStateçš„æ‰§è¡Œå›è°ƒå‡½æ•°å½“ä¸­<br>
æ³¨æ„ï¼šåœ¨å‚æ•°ä¸ºä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœé¡µé¢æ¸²æŸ“ä¾èµ–è¿”å›idç»“æœé‚£ä¹ˆè¿™ä¸ªæ‰§è¡Œè¯­å¥å°±è¦è¢«æ”¾åœ¨å›è°ƒå‡½æ•°å†…éƒ¨</strong></strong></p><strong><strong>
<h3 id="useReducer">useReducer</h3>
<p>æ­¤hookæ˜¯å¦ä¸€ç§è®©å‡½æ•°ç»„ä»¶ä¿å­˜çŠ¶æ€çš„æ–¹å¼ï¼Œå’Œreduxæå…¶ç›¸ä¼¼</p>
  <figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import { useReducer } from 'react'</span><br><span class="line"></span><br><span class="line">function reducer (state, action) {</span><br><span class="line">    switch (action.type) {</span><br><span class="line">        case 'initAdd':</span><br><span class="line">           return state + 1</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">Â·Â·Â·Â·</span><br><span class="line">const [count dispatch] = useReducer(reducer, 0)</span><br><span class="line">return &lt;div&gt;</span><br><span class="line">&lt;span&gt;{count}&lt;/span&gt;</span><br><span class="line">&lt;button onClick={() =&gt; dispatch({type:'initAdd'})}&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></tbody></table></figure>
<h3 id="useContext">useContext</h3>
<p>ç”¨äºç®€åŒ–è·¨ç»„ä»¶é€šä¿¡createContextå‡½æ•°ä»£ç </p>
<h3 id="useEffect">useEffect()</h3>
<p>è®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰å¤„ç†å‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚ç±»ä¼¼äºç”Ÿå‘½å‘¨æœŸ<br>
æˆ‘ä»¬å¯ä»¥å°†æ­¤hookçœ‹æˆæ˜¯ç±»ç»„ä»¶ä¸­componentDidMountã€componentDidUpdateã€componentWillUumountä¸‰ä¸ªå‡½æ•°çš„ç»„åˆ</p>
<p>useEffect(()=&gt;{})            ===   componentDidMountã€componentDidUpdate<br>
useEffect(() =&gt; {}, [])      ===   componentDidMount<br>
useEffect(() =&gt; () =&gt; {})    ===   componentWillUumount<br>
æ³¨æ„ï¼šå¦‚æœæ˜¯è¦åœ¨æ­¤hookä¸­è¯·æ±‚æ•°æ®ï¼Œé‚£ä¹ˆè¯·æ±‚å‡½æ•°å¾—è¦è‡ªæ‰§è¡Œï¼Œæ„æ€å°±æ˜¯ä¸èƒ½å­˜åœ¨å¼‚æ­¥å‡½æ•°ï¼Œå¦‚æœçœŸè¦æœ‰å¼‚æ­¥å‡½æ•°ï¼Œé‚£ä¹ˆå°±å¾—æŠŠè¿™ä¸ªå¼‚æ­¥å‡½æ•°å˜ä¸ºè‡ªæ‰§è¡Œå‡½æ•°</p>
<h3 id="useMemo">useMemo</h3>
<p>æ­¤hookç±»ä¼¼äºVUEä¸­çš„è®¡ç®—å±æ€§ï¼Œå¯ä»¥ç›‘æµ‹æŸä¸ªå€¼çš„å˜åŒ–ï¼Œæ ¹æ®å˜åŒ–å€¼è®¡ç®—æ–°å€¼<br>
åŒæ—¶æ­¤hookä¹Ÿä¼šç¼“å­˜è®¡ç®—ç»“æœã€‚å¦‚æœç›‘æµ‹å€¼æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œå³ä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œä¹Ÿä¸ä¼šé‡æ–°è®¡ç®—ï¼Œæ­¤è¡Œä¸ºæœ‰åŠ©äºé¿å…åœ¨æ¯ä¸ªæ¸²æŸ“ä¸Šè¿›è¡Œæ˜‚è´µçš„è®¡ç®—ï¼Œå¯åšæ€§èƒ½ä¼˜åŒ–</p>
<h3 id="memo">memo</h3>
<p>æ€§èƒ½ä¼˜åŒ– ç»„ä»¶é‡æ–°æ¸²æŸ“ä¹‹å‰åˆ¤æ–­ç»„ä»¶æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œ<br>
å¦‚æœæœ¬ç»„ä»¶ä¸­çš„æ•°æ®æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œé˜»æ­¢æ›´æ–°<br>
å’ŒuseMemoæ˜¾è‘—çš„åŒºåˆ«æ˜¯å‰è€…é˜»æ­¢ç»„ä»¶æ›´æ–°ï¼Œåè€…ç›‘æµ‹æŸä¸ªå€¼çš„å˜åŒ–æ¥æ›´æ–°<br>
ç±»ä¼¼äºç±»ç»„ä»¶çš„pureCompomentå’ŒshouldCompomentUpdate</p>
<h3 id="useCallback">useCallback</h3>
<p>æ€§èƒ½ä¼˜åŒ– ç¼“å­˜å‡½æ•°ï¼Œä½¿ç»„ä»¶é‡æ–°æ¸²æŸ“æ—¶å¾—åˆ°ç›¸åŒçš„å‡½æ•°å®ä¾‹<br>
ç†è§£å°±æ˜¯çˆ¶ç»„ä»¶ä¼ å€¼ç»™å­ç»„ä»¶æƒ…å†µä¸‹ï¼Œå¦‚æœçˆ¶ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºä¼ å€¼çš„å˜åŒ–å­ç»„ä»¶è¿™æ—¶å€™ä¹Ÿé‡æ–°æ¸²æŸ“äº†ï¼ˆå‡½æ•°å®ä¾‹ä¹Ÿå‘ç”Ÿæ”¹å˜äº†ï¼‰ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const resetCount = useCallback(()=&gt;setCount(0),[setCount])</span><br></pre></td></tr></tbody></table></figure>
<h3 id="useRef">useRef</h3>
<p>è·å–DOMå¯¹è±¡<br>
è·¨ç»„å»ºå‘¨æœŸä¿å­˜æ•°æ®</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">const box = useRef()</span><br><span class="line">return &lt;div ref={box}&gt;app&lt;/div&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>æŒç»­æ›´æ–°ä¸­~</p>
</strong></strong>
             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
      <div class="recent-post-item">
          <div class="post-title ">
            <a href="/2020/04/11/javascript/eventloop/">äº‹ä»¶è½®è¯¢(Event Loop)</a>
          </div>
          <div class="post-meta">
            
            
              <div class="post-meta-item date">
                <span title="Created 2020.04.11"><i class="far fa-calendar-alt"></i> 2020.04.11</span>
              </div>
              <div class="post-meta-item updated">
                <span title="Updated 2022.04.08"><i class="far fa-calendar-check"></i> 2022.04.08</span>
              </div>
             
            
              <div class="post-meta-item categories">
                
                  <i class="fas fa-inbox article-meta__icon"></i> <a href="/categories/JavaScript/">JavaScript</a>
                
              </div>
             
            
             <div class="post-meta-item wordcount">
                
                  <i class="fas fa-pencil-alt"></i> <span class="post-count">687 words</span>
                   
                
                  <i class="far fa-clock"></i> <span class="post-count">2 min</span>
                                       
              </div>
             
        </div>
          <div class="content">
            
                  <h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>é¦–é€‰æˆ‘ä»¬éƒ½çŸ¥é“jsæ˜¯å•çº¿ç¨‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ä»£ç æ˜¯ä¸€è¡Œæ¥ç€ä¸€è¡Œè¿è¡Œçš„ã€‚æ­¤å¤–jsæä¾›äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡è¿™ä¸¤ä¸ªæ¦‚å¿µã€‚<br>å…ˆè¯´å®ä»»åŠ¡ã€‚å®ä»»åŠ¡æ˜¯ä¸€ä¸ªå¤–éƒ¨è„šæœ¬æ–‡ä»¶ï¼Œä¸€ä¸ªç”¨æˆ·äº¤äº’è§¦å‘çš„äº‹ä»¶æˆ–ä¸€ä¸ªsetTimeoutè°ƒç”¨çš„å›è°ƒå‡½æ•°ã€‚ä¸ºäº†å®ç°å•çº¿ç¨‹è¿™ä¸ªæ¦‚å¿µï¼Œjsæœ‰ä¸€ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰ï¼Œå®ä»»åŠ¡ä¸æ–­åœ°åˆ›å»ºå‡ºæ¥å¡åˆ°é˜Ÿå°¾ï¼Œjså¼•æ“ä¸æ–­åœ°ä»é˜Ÿé¦–å–ä»»åŠ¡å‡ºæ¥æ‰§è¡Œã€‚<br>ä¾‹å¦‚ï¼šscript ã€setTimeoutã€setIntervalï¼ŒsetImmediate</p>
<p>å¾®ä»»åŠ¡æ˜¯ç”±Promiseåˆ›å»ºå‡ºæ¥çš„ä¸”jsä¸­æœ‰ä¸€ä¸ªä¸“é—¨çš„å¾®ä»»åŠ¡é˜Ÿåˆ—æ¥å­˜å‚¨å¾®ä»»åŠ¡ã€‚å¾®ä»»åŠ¡çš„æœºåˆ¶æ˜¯ï¼šå½“æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡åï¼Œ<strong>åªè¦æœ‰å¾®ä»»åŠ¡å°±å…ˆæ‰§è¡Œå¾®ä»»åŠ¡</strong>ã€‚å®ä»»åŠ¡å’Œæ¸²æŸ“é€šé€šæ’åˆ°åé¢ã€‚<br>ä¾‹å¦‚ï¼šPromise.then()æˆ–catch()ã€asyncå‡½æ•°ä¸­çš„awaitç´§è·Ÿå‡½æ•°/è¯­å¥ä¹‹åçš„å†…å®¹</p>
<p>æ‰€è°“äº‹ä»¶è½®è¯¢å°±æ˜¯æˆ‘ä»¬å°†ä¸€ç³»åˆ—å…·æœ‰å¼‚æ­¥æ“ä½œçš„æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰ä¸»çº¿ç¨‹æ‰§è¡Œçš„åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œæˆä»¥åï¼Œå†ä»å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œæ‰¾æœªæ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¦‚æœæœ‰é‚£ä¹ˆå°±æ‰§è¡Œï¼Œå¦‚æœæ²¡æœ‰å°±å†å»å®ä»»åŠ¡ä¸­å¯»æ‰¾ï¼Œä¾æ¬¡å¾ªç¯ï¼Œè¿™å°±æ˜¯äº‹ä»¶è½®è¯¢ã€‚ä¹Ÿå°±æ˜¯è¯´å¾®ä»»åŠ¡æ˜¯åœ¨ä¸‹ä¸€è½®DOMæ¸²æŸ“ä¹‹å‰ï¼Œå®ä»»åŠ¡æ˜¯åœ¨ä¹‹åæ‰§è¡Œ</p>
<p><strong>æ¯ä¸ªå®ä»»åŠ¡ä¹‹åï¼Œå¼•æ“ä¼šç«‹å³æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ä»»åŠ¡ï¼Œç„¶åå†æ‰§è¡Œå…¶ä»–çš„å®ä»»åŠ¡ï¼Œæˆ–æ¸²æŸ“ï¼Œæˆ–è¿›è¡Œå…¶ä»–ä»»ä½•æ“ä½œã€‚</strong><br>PS:å®šæ—¶å™¨å‡½æ•°çš„setTimeoutåœ¨ä¸»çº¿ç¨‹åœ¨æ‰§è¡Œæ—¶ï¼Œä»–ä¾ç„¶ä¼šåœ¨ä¸€ä¸ªå®šæ—¶å™¨æ¨¡å—å†…å¼€å§‹è®¡æ—¶ï¼Œç­‰ä¸»çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæˆï¼Œå¦‚æœsetTimeoutçš„è®¡æ—¶ç»“æŸé‚£ä¹ˆå°±ä¼šç«‹å³æ‰§è¡Œ(è¿™é‡Œæ³¨æ„ï¼Œè¿™é‡Œåªæ˜¯è®¡æ—¶å®Œæˆï¼Œä»»åŠ¡è¿˜æ²¡æœ‰å¼€å§‹æ‰§è¡Œ)</p>
<h4 id="æµè§ˆå™¨å’Œnodejsçš„å¼‚æ­¥å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#æµè§ˆå™¨å’Œnodejsçš„å¼‚æ­¥å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="æµè§ˆå™¨å’Œnodejsçš„å¼‚æ­¥å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>æµè§ˆå™¨å’Œnodejsçš„å¼‚æ­¥å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h4><p>JSæ˜¯å•çº¿ç¨‹æ— è®ºæ˜¯åœ¨æµè§ˆå™¨è¿˜æ˜¯åœ¨nodejsã€æµè§ˆå™¨ä¸­çš„JSæ‰§è¡Œå’ŒDOMæ¸²æŸ“éƒ½æ˜¯å…¬ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæ‰€ä»¥æ‰§è¡Œå’Œæ¸²æŸ“æ˜¯äº’æ–¥çš„ï¼Œæ²¡æ³•åŒæ—¶è¿›è¡Œï¼Œæ‰€ä»¥å°±äº§ç”Ÿäº†å¼‚æ­¥ </p>
<h4 id="nodejså¼‚æ­¥"><a href="#nodejså¼‚æ­¥" class="headerlink" title="nodejså¼‚æ­¥"></a>nodejså¼‚æ­¥</h4><p>ä¹Ÿæ˜¯ESè¯­æ³•ï¼Œä¹Ÿæ˜¯å•çº¿ç¨‹ï¼Œä¹Ÿéœ€è¦å¼‚æ­¥<br>ä»»åŠ¡ï¼šå®ä»»åŠ¡+å¾®ä»»åŠ¡(nodejsä¸­å¾®ä»»åŠ¡process.nextTickä¼˜å…ˆçº§æœ€é«˜)ï¼Œåˆ†ä¸åŒçš„ç±»å‹ï¼Œåˆ†ä¸åŒçš„ä¼˜å…ˆçº§<br>å®ä»»åŠ¡ä¼˜å…ˆçº§ï¼štimers(setTimeoutã€setInterval) -&gt;<br>         I/O callbacks(å¤„ç†ç½‘ç»œã€æµã€TCPçš„é”™è¯¯å›è°ƒ) -&gt;<br>         idls,prepare(é—²ç½®çŠ¶æ€ï¼Œnodejså†…éƒ¨ä½¿ç”¨) -&gt;<br>          poll(è½®è¯¢ï¼Œæ‰§è¡Œpollä¸­çš„I/Oé˜Ÿåˆ—) -&gt;<br>          check(å­˜å‚¨setImmediateå›è°ƒ) -&gt;<br>          close callbacks(å…³é—­å›è°ƒ)</p>
<p>PSï¼šæ–°ç‰ˆæœ¬çš„nodejsæ¨èä½¿ç”¨setImmediateä»£æ›¿process.nextTick</p>

             
          </div>
        </div>
      <div class="post-footer">
        
    </div>
    
  </div>



<nav class="paginator">
      
            
            <a class="next" href="/page/2/">Next ></a>
            
</nav>

    
<a id="gotop" href="javascript:" title="è¿”å›é¡¶éƒ¨"><i class="fa fa-arrow-up"></i></a>
    






    
<div id="bottom-outer">
    <div id="bottom-inner">
        Â© 2020 <i class="fa fa-heart" id="heart"></i> Soliton 
        <br>
        Powered by 
        <a target="_blank" rel="noopener" href="http://hexo.io">hexo</a> | Theme is <a target="_blank" rel="noopener" href="https://github.com/a2396837/hexo-theme-blank/">blank</a>
        
          <div class="icp-info">
            
          <a href="" target="_blank"> </a>
        </div>
        
    </div>  
  </div>
  
<script src="https://cdn.jsdelivr.net/npm/layui-src@2.5.5/dist/layui.min.js"></script>



  
    <script src="/js/script.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script>
  

 

  <script src="/js/local-search.js"></script>
<script type="text/javascript">      
  var search_path = "search.xml";
if (search_path.length == 0) {
  search_path = "search.xml";
}
var path = "/" + search_path;
  searchFunc(path, 'local-search-input', 'local-search-result');
</script>
  


  <script>
    window.lazyLoadOptions = {
      elements_selector: 'img',
      threshold: 0
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script>   
  


  <script>
    var images = $('img').not('.nav-logo img').not('.card img').not($('a>img')).not('.reward-content img')
    images.each(function (i, o) {
      var lazyloadSrc = $(o).attr('data-src') ? $(o).attr('data-src') : $(o).attr('src')
      $(o).wrap(`<a href="${lazyloadSrc}" data-fancybox="group" data-caption="${$(o).attr('alt')}" class="fancybox"></a>`)
    })
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script>
  <script>
        $().fancybox({
      selector: '[data-fancybox]',
      loop: true,
      transitionEffect: 'slide',
      protect: true,
      buttons: ['slideShow', 'fullScreen', 'thumbs', 'close']
    })
  </script>   
  










  <script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script>
  




  
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js"></script>
<script>
!function (e, t, a) {
  var initCopyCode = function(){
    var copyHtml = '';
    copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
    copyHtml += '  <i class="fa fa-clipboard"></i><span>å¤åˆ¶</span>';
    copyHtml += '</button>';
    $(".highlight .code pre").before(copyHtml);
    new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
  }
  initCopyCode();
}(window, document);
</script>  
  

<script>
  var btntop = $('#gotop');
  btntop.on('click', function (e) {
    e.preventDefault();
    $('html, body').animate({ scrollTop: 0 }, '300');
  });

  var $table = $('.content table').not($('figure.highlight > table'))
$table.each(function () {
  $(this).wrap('<div class="table-wrap"></div>')
})
</script>



</html>